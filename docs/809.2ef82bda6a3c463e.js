(self.webpackChunkconstruction=self.webpackChunkconstruction||[]).push([[809],{8809:(Uo,Ge,Qe)=>{"use strict";Qe.r(Ge),Qe.d(Ge,{ConstructionModule:()=>_g});var J=Qe(6895),ue=Qe(655),t=Qe(4650),q=Qe(7579),Ee=Qe(8421),T=Qe(9751),R=Qe(5577),z=Qe(1144),y=Qe(576),P=Qe(3268);const N=["addListener","removeListener"],B=["addEventListener","removeEventListener"],j=["on","off"];function U(i,o,e,n){if((0,y.m)(e)&&(n=e,e=void 0),n)return U(i,o,e).pipe((0,P.Z)(n));const[v,M]=function g(i){return(0,y.m)(i.addEventListener)&&(0,y.m)(i.removeEventListener)}(i)?B.map(F=>Q=>i[F](o,Q,e)):function h(i){return(0,y.m)(i.addListener)&&(0,y.m)(i.removeListener)}(i)?N.map(b(i,o)):function m(i){return(0,y.m)(i.on)&&(0,y.m)(i.off)}(i)?j.map(b(i,o)):[];if(!v&&(0,z.z)(i))return(0,R.z)(F=>U(F,o,e))((0,Ee.Xf)(i));if(!v)throw new TypeError("Invalid event target");return new T.y(F=>{const Q=(...re)=>F.next(1<re.length?re:re[0]);return v(Q),()=>M(Q)})}function b(i,o){return e=>n=>i[e](o,n)}var r=Qe(4482),a=Qe(5403),s=Qe(5032);function u(i){return(0,r.e)((o,e)=>{(0,Ee.Xf)(i).subscribe((0,a.x)(e,()=>e.complete(),s.Z)),!e.closed&&o.subscribe(e)})}var C=Qe(8675),d=Qe(9300),x=Qe(9718);function S(i,o){(function D(i){return"string"==typeof i&&-1!==i.indexOf(".")&&1===parseFloat(i)})(i)&&(i="100%");var e=function H(i){return"string"==typeof i&&-1!==i.indexOf("%")}(i);return i=360===o?i:Math.min(o,Math.max(0,parseFloat(i))),e&&(i=parseInt(String(i*o),10)/100),Math.abs(i-o)<1e-6?1:i=360===o?(i<0?i%o+o:i%o)/parseFloat(String(o)):i%o/parseFloat(String(o))}function I(i){return Math.min(1,Math.max(0,i))}function V(i){return i=parseFloat(i),(isNaN(i)||i<0||i>1)&&(i=1),i}function G(i){return i<=1?"".concat(100*Number(i),"%"):i}function W(i){return 1===i.length?"0"+i:String(i)}function _e(i,o,e){i=S(i,255),o=S(o,255),e=S(e,255);var n=Math.max(i,o,e),v=Math.min(i,o,e),M=0,F=0,Q=(n+v)/2;if(n===v)F=0,M=0;else{var re=n-v;switch(F=Q>.5?re/(2-n-v):re/(n+v),n){case i:M=(o-e)/re+(o<e?6:0);break;case o:M=(e-i)/re+2;break;case e:M=(i-o)/re+4}M/=6}return{h:M,s:F,l:Q}}function ge(i,o,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+6*e*(o-i):e<.5?o:e<2/3?i+(o-i)*(2/3-e)*6:i}function le(i,o,e){i=S(i,255),o=S(o,255),e=S(e,255);var n=Math.max(i,o,e),v=Math.min(i,o,e),M=0,F=n,Q=n-v,re=0===n?0:Q/n;if(n===v)M=0;else{switch(n){case i:M=(o-e)/Q+(o<e?6:0);break;case o:M=(e-i)/Q+2;break;case e:M=(i-o)/Q+4}M/=6}return{h:M,s:re,v:F}}function $(i,o,e,n){var v=[W(Math.round(i).toString(16)),W(Math.round(o).toString(16)),W(Math.round(e).toString(16))];return n&&v[0].startsWith(v[0].charAt(1))&&v[1].startsWith(v[1].charAt(1))&&v[2].startsWith(v[2].charAt(1))?v[0].charAt(0)+v[1].charAt(0)+v[2].charAt(0):v.join("")}function it(i){return Math.round(255*parseFloat(i)).toString(16)}function he(i){return fe(i)/255}function fe(i){return parseInt(i,16)}var ie={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function xe(i){var o={r:0,g:0,b:0},e=1,n=null,v=null,M=null,F=!1,Q=!1;return"string"==typeof i&&(i=function Ne(i){if(0===(i=i.trim().toLowerCase()).length)return!1;var o=!1;if(ie[i])i=ie[i],o=!0;else if("transparent"===i)return{r:0,g:0,b:0,a:0,format:"name"};var e=be.rgb.exec(i);return e?{r:e[1],g:e[2],b:e[3]}:(e=be.rgba.exec(i))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=be.hsl.exec(i))?{h:e[1],s:e[2],l:e[3]}:(e=be.hsla.exec(i))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=be.hsv.exec(i))?{h:e[1],s:e[2],v:e[3]}:(e=be.hsva.exec(i))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=be.hex8.exec(i))?{r:fe(e[1]),g:fe(e[2]),b:fe(e[3]),a:he(e[4]),format:o?"name":"hex8"}:(e=be.hex6.exec(i))?{r:fe(e[1]),g:fe(e[2]),b:fe(e[3]),format:o?"name":"hex"}:(e=be.hex4.exec(i))?{r:fe(e[1]+e[1]),g:fe(e[2]+e[2]),b:fe(e[3]+e[3]),a:he(e[4]+e[4]),format:o?"name":"hex8"}:!!(e=be.hex3.exec(i))&&{r:fe(e[1]+e[1]),g:fe(e[2]+e[2]),b:fe(e[3]+e[3]),format:o?"name":"hex"}}(i)),"object"==typeof i&&(De(i.r)&&De(i.g)&&De(i.b)?(o=function ee(i,o,e){return{r:255*S(i,255),g:255*S(o,255),b:255*S(e,255)}}(i.r,i.g,i.b),F=!0,Q="%"===String(i.r).substr(-1)?"prgb":"rgb"):De(i.h)&&De(i.s)&&De(i.v)?(n=G(i.s),v=G(i.v),o=function Pe(i,o,e){i=6*S(i,360),o=S(o,100),e=S(e,100);var n=Math.floor(i),v=i-n,M=e*(1-o),F=e*(1-v*o),Q=e*(1-(1-v)*o),re=n%6;return{r:255*[e,F,M,M,Q,e][re],g:255*[Q,e,e,F,M,M][re],b:255*[M,M,Q,e,e,F][re]}}(i.h,n,v),F=!0,Q="hsv"):De(i.h)&&De(i.s)&&De(i.l)&&(n=G(i.s),M=G(i.l),o=function Re(i,o,e){var n,v,M;if(i=S(i,360),o=S(o,100),e=S(e,100),0===o)v=e,M=e,n=e;else{var F=e<.5?e*(1+o):e+o-e*o,Q=2*e-F;n=ge(Q,F,i+1/3),v=ge(Q,F,i),M=ge(Q,F,i-1/3)}return{r:255*n,g:255*v,b:255*M}}(i.h,n,M),F=!0,Q="hsl"),Object.prototype.hasOwnProperty.call(i,"a")&&(e=i.a)),e=V(e),{ok:F,format:i.format||Q,r:Math.min(255,Math.max(o.r,0)),g:Math.min(255,Math.max(o.g,0)),b:Math.min(255,Math.max(o.b,0)),a:e}}var ne="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),ae="[\\s|\\(]+(".concat(ne,")[,|\\s]+(").concat(ne,")[,|\\s]+(").concat(ne,")\\s*\\)?"),Te="[\\s|\\(]+(".concat(ne,")[,|\\s]+(").concat(ne,")[,|\\s]+(").concat(ne,")[,|\\s]+(").concat(ne,")\\s*\\)?"),be={CSS_UNIT:new RegExp(ne),rgb:new RegExp("rgb"+ae),rgba:new RegExp("rgba"+Te),hsl:new RegExp("hsl"+ae),hsla:new RegExp("hsla"+Te),hsv:new RegExp("hsv"+ae),hsva:new RegExp("hsva"+Te),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function De(i){return Boolean(be.CSS_UNIT.exec(String(i)))}var ke=function(){function i(o,e){var n;if(void 0===o&&(o=""),void 0===e&&(e={}),o instanceof i)return o;"number"==typeof o&&(o=function se(i){return{r:i>>16,g:(65280&i)>>8,b:255&i}}(o)),this.originalInput=o;var v=xe(o);this.originalInput=o,this.r=v.r,this.g=v.g,this.b=v.b,this.a=v.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(n=e.format)&&void 0!==n?n:v.format,this.gradientType=e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=v.ok}return i.prototype.isDark=function(){return this.getBrightness()<128},i.prototype.isLight=function(){return!this.isDark()},i.prototype.getBrightness=function(){var o=this.toRgb();return(299*o.r+587*o.g+114*o.b)/1e3},i.prototype.getLuminance=function(){var o=this.toRgb(),M=o.r/255,F=o.g/255,Q=o.b/255;return.2126*(M<=.03928?M/12.92:Math.pow((M+.055)/1.055,2.4))+.7152*(F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4))+.0722*(Q<=.03928?Q/12.92:Math.pow((Q+.055)/1.055,2.4))},i.prototype.getAlpha=function(){return this.a},i.prototype.setAlpha=function(o){return this.a=V(o),this.roundA=Math.round(100*this.a)/100,this},i.prototype.isMonochrome=function(){return 0===this.toHsl().s},i.prototype.toHsv=function(){var o=le(this.r,this.g,this.b);return{h:360*o.h,s:o.s,v:o.v,a:this.a}},i.prototype.toHsvString=function(){var o=le(this.r,this.g,this.b),e=Math.round(360*o.h),n=Math.round(100*o.s),v=Math.round(100*o.v);return 1===this.a?"hsv(".concat(e,", ").concat(n,"%, ").concat(v,"%)"):"hsva(".concat(e,", ").concat(n,"%, ").concat(v,"%, ").concat(this.roundA,")")},i.prototype.toHsl=function(){var o=_e(this.r,this.g,this.b);return{h:360*o.h,s:o.s,l:o.l,a:this.a}},i.prototype.toHslString=function(){var o=_e(this.r,this.g,this.b),e=Math.round(360*o.h),n=Math.round(100*o.s),v=Math.round(100*o.l);return 1===this.a?"hsl(".concat(e,", ").concat(n,"%, ").concat(v,"%)"):"hsla(".concat(e,", ").concat(n,"%, ").concat(v,"%, ").concat(this.roundA,")")},i.prototype.toHex=function(o){return void 0===o&&(o=!1),$(this.r,this.g,this.b,o)},i.prototype.toHexString=function(o){return void 0===o&&(o=!1),"#"+this.toHex(o)},i.prototype.toHex8=function(o){return void 0===o&&(o=!1),function tt(i,o,e,n,v){var M=[W(Math.round(i).toString(16)),W(Math.round(o).toString(16)),W(Math.round(e).toString(16)),W(it(n))];return v&&M[0].startsWith(M[0].charAt(1))&&M[1].startsWith(M[1].charAt(1))&&M[2].startsWith(M[2].charAt(1))&&M[3].startsWith(M[3].charAt(1))?M[0].charAt(0)+M[1].charAt(0)+M[2].charAt(0)+M[3].charAt(0):M.join("")}(this.r,this.g,this.b,this.a,o)},i.prototype.toHex8String=function(o){return void 0===o&&(o=!1),"#"+this.toHex8(o)},i.prototype.toHexShortString=function(o){return void 0===o&&(o=!1),1===this.a?this.toHexString(o):this.toHex8String(o)},i.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},i.prototype.toRgbString=function(){var o=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(o,", ").concat(e,", ").concat(n,")"):"rgba(".concat(o,", ").concat(e,", ").concat(n,", ").concat(this.roundA,")")},i.prototype.toPercentageRgb=function(){var o=function(e){return"".concat(Math.round(100*S(e,255)),"%")};return{r:o(this.r),g:o(this.g),b:o(this.b),a:this.a}},i.prototype.toPercentageRgbString=function(){var o=function(e){return Math.round(100*S(e,255))};return 1===this.a?"rgb(".concat(o(this.r),"%, ").concat(o(this.g),"%, ").concat(o(this.b),"%)"):"rgba(".concat(o(this.r),"%, ").concat(o(this.g),"%, ").concat(o(this.b),"%, ").concat(this.roundA,")")},i.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var o="#"+$(this.r,this.g,this.b,!1),e=0,n=Object.entries(ie);e<n.length;e++){var v=n[e];if(o===v[1])return v[0]}return!1},i.prototype.toString=function(o){var e=Boolean(o);o=o??this.format;var n=!1;return!e&&this.a<1&&this.a>=0&&(o.startsWith("hex")||"name"===o)?"name"===o&&0===this.a?this.toName():this.toRgbString():("rgb"===o&&(n=this.toRgbString()),"prgb"===o&&(n=this.toPercentageRgbString()),("hex"===o||"hex6"===o)&&(n=this.toHexString()),"hex3"===o&&(n=this.toHexString(!0)),"hex4"===o&&(n=this.toHex8String(!0)),"hex8"===o&&(n=this.toHex8String()),"name"===o&&(n=this.toName()),"hsl"===o&&(n=this.toHslString()),"hsv"===o&&(n=this.toHsvString()),n||this.toHexString())},i.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},i.prototype.clone=function(){return new i(this.toString())},i.prototype.lighten=function(o){void 0===o&&(o=10);var e=this.toHsl();return e.l+=o/100,e.l=I(e.l),new i(e)},i.prototype.brighten=function(o){void 0===o&&(o=10);var e=this.toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(-o/100*255))),e.g=Math.max(0,Math.min(255,e.g-Math.round(-o/100*255))),e.b=Math.max(0,Math.min(255,e.b-Math.round(-o/100*255))),new i(e)},i.prototype.darken=function(o){void 0===o&&(o=10);var e=this.toHsl();return e.l-=o/100,e.l=I(e.l),new i(e)},i.prototype.tint=function(o){return void 0===o&&(o=10),this.mix("white",o)},i.prototype.shade=function(o){return void 0===o&&(o=10),this.mix("black",o)},i.prototype.desaturate=function(o){void 0===o&&(o=10);var e=this.toHsl();return e.s-=o/100,e.s=I(e.s),new i(e)},i.prototype.saturate=function(o){void 0===o&&(o=10);var e=this.toHsl();return e.s+=o/100,e.s=I(e.s),new i(e)},i.prototype.greyscale=function(){return this.desaturate(100)},i.prototype.spin=function(o){var e=this.toHsl(),n=(e.h+o)%360;return e.h=n<0?360+n:n,new i(e)},i.prototype.mix=function(o,e){void 0===e&&(e=50);var n=this.toRgb(),v=new i(o).toRgb(),M=e/100;return new i({r:(v.r-n.r)*M+n.r,g:(v.g-n.g)*M+n.g,b:(v.b-n.b)*M+n.b,a:(v.a-n.a)*M+n.a})},i.prototype.analogous=function(o,e){void 0===o&&(o=6),void 0===e&&(e=30);var n=this.toHsl(),v=360/e,M=[this];for(n.h=(n.h-(v*o>>1)+720)%360;--o;)n.h=(n.h+v)%360,M.push(new i(n));return M},i.prototype.complement=function(){var o=this.toHsl();return o.h=(o.h+180)%360,new i(o)},i.prototype.monochromatic=function(o){void 0===o&&(o=6);for(var e=this.toHsv(),n=e.h,v=e.s,M=e.v,F=[],Q=1/o;o--;)F.push(new i({h:n,s:v,v:M})),M=(M+Q)%1;return F},i.prototype.splitcomplement=function(){var o=this.toHsl(),e=o.h;return[this,new i({h:(e+72)%360,s:o.s,l:o.l}),new i({h:(e+216)%360,s:o.s,l:o.l})]},i.prototype.onBackground=function(o){var e=this.toRgb(),n=new i(o).toRgb(),v=e.a+n.a*(1-e.a);return new i({r:(e.r*e.a+n.r*n.a*(1-e.a))/v,g:(e.g*e.a+n.g*n.a*(1-e.a))/v,b:(e.b*e.a+n.b*n.a*(1-e.a))/v,a:v})},i.prototype.triad=function(){return this.polyad(3)},i.prototype.tetrad=function(){return this.polyad(4)},i.prototype.polyad=function(o){for(var e=this.toHsl(),n=e.h,v=[this],M=360/o,F=1;F<o;F++)v.push(new i({h:(n+F*M)%360,s:e.s,l:e.l}));return v},i.prototype.equals=function(o){return this.toRgbString()===new i(o).toRgbString()},i}();const ce=["success","processing","error","default","warning"],de=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"];function ye(i){return-1!==de.indexOf(i)}const Ie=2,Xe=.16,at=.05,rt=.05,Oe=.15,st=5,ht=4,mt=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Nt({r:i,g:o,b:e}){const n=le(i,o,e);return{h:360*n.h,s:n.s,v:n.v}}function St({r:i,g:o,b:e}){return`#${$(i,o,e,!1)}`}function zt(i,o,e){let n;return n=Math.round(i.h)>=60&&Math.round(i.h)<=240?e?Math.round(i.h)-Ie*o:Math.round(i.h)+Ie*o:e?Math.round(i.h)+Ie*o:Math.round(i.h)-Ie*o,n<0?n+=360:n>=360&&(n-=360),n}function It(i,o,e){if(0===i.h&&0===i.s)return i.s;let n;return n=e?i.s-Xe*o:o===ht?i.s+Xe:i.s+at*o,n>1&&(n=1),e&&o===st&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2))}function Bt(i,o,e){let n;return n=e?i.v+rt*o:i.v-Oe*o,n>1&&(n=1),Number(n.toFixed(2))}function Gt(i,o={}){const e=[],n=xe(i);for(let v=st;v>0;v-=1){const M=Nt(n),F=St(xe({h:zt(M,v,!0),s:It(M,v,!0),v:Bt(M,v,!0)}));e.push(F)}e.push(St(n));for(let v=1;v<=ht;v+=1){const M=Nt(n),F=St(xe({h:zt(M,v),s:It(M,v),v:Bt(M,v)}));e.push(F)}return"dark"===o.theme?mt.map(({index:v,opacity:M})=>St(function At(i,o,e){const n=e/100;return{r:(o.r-i.r)*n+i.r,g:(o.g-i.g)*n+i.g,b:(o.b-i.b)*n+i.b}}(xe(o.backgroundColor||"#141414"),xe(e[v]),100*M))):e}var Ve=Qe(1355);function je(i){return null!=i&&"false"!=`${i}`}function et(i,o=0){return nt(i)?Number(i):o}function nt(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function ct(i){return Array.isArray(i)?i:[i]}function Ue(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Ht(i){return i instanceof t.SBq?i.nativeElement:i}function _t(i){return typeof i<"u"&&null!==i}function ci(i){return je(i)}function Xi(i,o){return function e(n,v,M){const F=`$$__zorroPropDecorator__${v}`;return Object.prototype.hasOwnProperty.call(n,F)&&(0,Ve.ZK)(`The prop "${F}" is already exist, it will be overrided by ${i} decorator.`),Object.defineProperty(n,F,{configurable:!0,writable:!0}),{get(){return M&&M.get?M.get.bind(this)():this[F]},set(Q){M&&M.set&&M.set.bind(this)(o(Q)),this[F]=o(Q)}}}}function yt(){return Xi("InputBoolean",ci)}function yi(i){return Xi("InputNumber",o=>function Dt(i,o=0){return nt(i)?Number(i):o}(o,i))}function qe(i){return!!i&&"function"==typeof i.then&&"function"==typeof i.catch}function Ft(i){return"number"==typeof i&&isFinite(i)}function Yt(i,o){return Math.round(i*Math.pow(10,o))/Math.pow(10,o)}typeof window<"u"&&window;const _i=1,Ji=3,Qr=8;let Lt;const cn={padding:"0",margin:"0",display:"inline",lineHeight:"inherit"};function Yi(i){if(!i)return 0;const o=i.match(/^\d*(\.\d*)?/);return o?Number(o[0]):0}function Wo(i,o,e,n,v,M=""){Lt||(Lt=document.createElement("div"),Lt.setAttribute("aria-hidden","true"),document.body.appendChild(Lt));const F=window.getComputedStyle(i),Q=function Jr(i){return Array.prototype.slice.apply(i).map(e=>`${e}: ${i.getPropertyValue(e)};`).join("")}(F),re=Yi(F.lineHeight),Ce=Math.round(re*(o+1)+Yi(F.paddingTop)+Yi(F.paddingBottom));Lt.setAttribute("style",Q),Lt.style.position="fixed",Lt.style.left="0",Lt.style.height="auto",Lt.style.minHeight="auto",Lt.style.maxHeight="auto",Lt.style.top="-999999px",Lt.style.zIndex="-1000",Lt.style.textOverflow="clip",Lt.style.whiteSpace="normal",Lt.style.webkitLineClamp="none";const Le=function Mn(i){const o=[];return i.forEach(e=>{const n=o[o.length-1];n&&e.nodeType===Ji&&n.nodeType===Ji?n.data+=e.data:o.push(e)}),o}(e),ot=document.createElement("div"),xt=document.createElement("span"),wt=document.createTextNode(M),Qt=document.createElement("span");function ii(){return Lt.offsetHeight<Ce}if(Object.assign(ot.style,cn),Object.assign(xt.style,cn),Object.assign(Qt.style,cn),Le.forEach(Ut=>{xt.appendChild(Ut)}),xt.appendChild(wt),n.forEach(Ut=>{Qt.appendChild(Ut.cloneNode(!0))}),ot.appendChild(xt),ot.appendChild(Qt),Lt.appendChild(ot),ii()){const Ut=Lt.innerHTML;return Lt.removeChild(ot),{contentNodes:e,text:Ut,ellipsis:!1}}const jn=Array.prototype.slice.apply(Lt.childNodes[0].childNodes[0].cloneNode(!0).childNodes).filter(({nodeType:Ut})=>Ut!==Qr),wc=Array.prototype.slice.apply(Lt.childNodes[0].childNodes[1].cloneNode(!0).childNodes);Lt.removeChild(ot),Lt.innerHTML="";const Yn=document.createElement("span");Lt.appendChild(Yn);const Zr=document.createTextNode(v+M);function jo(Ut,Ti,Ri=0,Di=Ti.length,Un=0){const Gn=Math.floor((Ri+Di)/2);if(Ut.textContent=Ti.slice(0,Gn),Ri>=Di-1)for(let Wn=Di;Wn>=Ri;Wn-=1){const Yo=Ti.slice(0,Wn);if(Ut.textContent=Yo,ii()||!Yo)return Wn===Ti.length?{finished:!1,node:document.createTextNode(Ti)}:{finished:!0,node:document.createTextNode(Yo)}}return ii()?jo(Ut,Ti,Gn,Di,Gn):jo(Ut,Ti,Ri,Gn,Un)}function Ic(Ut,Ti){const Ri=Ut.nodeType;if(Ri===_i)return ii()?{finished:!1,node:Le[Ti]}:(Yn.removeChild(Ut),{finished:!0,node:null});if(Ri===Ji){const Di=Ut.textContent||"",Un=document.createTextNode(Di);return function Tc(Ut){Yn.insertBefore(Ut,Zr)}(Un),jo(Un,Di)}return{finished:!1,node:null}}Yn.appendChild(Zr),wc.forEach(Ut=>{Lt.appendChild(Ut)});const Xr=[];jn.some((Ut,Ti)=>{const{finished:Ri,node:Di}=Ic(Ut,Ti);return Di&&Xr.push(Di),Ri});const Ec={contentNodes:Xr,text:Lt.innerHTML,ellipsis:!0};for(;Lt.firstChild;)Lt.removeChild(Lt.firstChild);return Ec}function Jn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}const $r="rc-util-key";function Zo({mark:i}={}){return i?i.startsWith("data-")?i:`data-${i}`:$r}function Tn(i){return i.attachTo?i.attachTo:document.querySelector("head")||document.body}function Xo(i,o={}){if(!Jn())return null;const e=document.createElement("style");o.csp?.nonce&&(e.nonce=o.csp?.nonce),e.innerHTML=i;const n=Tn(o),{firstChild:v}=n;return o.prepend&&n.prepend?n.prepend(e):o.prepend&&v?n.insertBefore(e,v):n.appendChild(e),e}const $i=new Map;function hn(i,o,e){return{[`${i}-status-success`]:"success"===o,[`${i}-status-warning`]:"warning"===o,[`${i}-status-error`]:"error"===o,[`${i}-status-validating`]:"validating"===o,[`${i}-has-feedback`]:e}}const Qo=new t.OlP("nz-config"),ea=`-ant-${Date.now()}-${Math.random()}`;function Rt(i,o){const e=function ta(i,o){const e={},n=(F,Q)=>{let re=F.clone();return re=Q?.(re)||re,re.toRgbString()},v=(F,Q)=>{const re=new ke(F),Ce=Gt(re.toRgbString());e[`${Q}-color`]=n(re),e[`${Q}-color-disabled`]=Ce[1],e[`${Q}-color-hover`]=Ce[4],e[`${Q}-color-active`]=Ce[7],e[`${Q}-color-outline`]=re.clone().setAlpha(.2).toRgbString(),e[`${Q}-color-deprecated-bg`]=Ce[1],e[`${Q}-color-deprecated-border`]=Ce[3]};if(o.primaryColor){v(o.primaryColor,"primary");const F=new ke(o.primaryColor),Q=Gt(F.toRgbString());Q.forEach((Ce,Le)=>{e[`primary-${Le+1}`]=Ce}),e["primary-color-deprecated-l-35"]=n(F,Ce=>Ce.lighten(35)),e["primary-color-deprecated-l-20"]=n(F,Ce=>Ce.lighten(20)),e["primary-color-deprecated-t-20"]=n(F,Ce=>Ce.tint(20)),e["primary-color-deprecated-t-50"]=n(F,Ce=>Ce.tint(50)),e["primary-color-deprecated-f-12"]=n(F,Ce=>Ce.setAlpha(.12*Ce.getAlpha()));const re=new ke(Q[0]);e["primary-color-active-deprecated-f-30"]=n(re,Ce=>Ce.setAlpha(.3*Ce.getAlpha())),e["primary-color-active-deprecated-d-02"]=n(re,Ce=>Ce.darken(2))}return o.successColor&&v(o.successColor,"success"),o.warningColor&&v(o.warningColor,"warning"),o.errorColor&&v(o.errorColor,"error"),o.infoColor&&v(o.infoColor,"info"),`\n  :root {\n    ${Object.keys(e).map(F=>`--${i}-${F}: ${e[F]};`).join("\n")}\n  }\n  `.trim()}(i,o);Jn()?function qr(i,o,e={}){const n=Tn(e);if(!$i.has(n)){const F=Xo("",e),{parentNode:Q}=F;$i.set(n,Q),Q.removeChild(F)}const v=function $n(i,o={}){const e=Tn(o);return Array.from($i.get(e)?.children||[]).find(n=>"STYLE"===n.tagName&&n.getAttribute(Zo(o))===i)}(o,e);if(v)return e.csp?.nonce&&v.nonce!==e.csp?.nonce&&(v.nonce=e.csp?.nonce),v.innerHTML!==i&&(v.innerHTML=i),v;const M=Xo(i,e);M?.setAttribute(Zo(e),o)}(e,`${ea}-dynamic-theme`):(0,Ve.ZK)("NzConfigService: SSR do not support dynamic theme with css variables.")}const Kn=function(i){return void 0!==i};let qn,Ci=(()=>{class i{constructor(e){this.configUpdated$=new q.x,this.config=e||{},this.config.theme&&Rt(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme)}getConfig(){return this.config}getConfigForComponent(e){return this.config[e]}getConfigChangeEventForComponent(e){return this.configUpdated$.pipe((0,d.h)(n=>n===e),(0,x.h)(void 0))}set(e,n){this.config[e]={...this.config[e],...n},"theme"===e&&this.config.theme&&Rt(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme),this.configUpdated$.next(e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Qo,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function jt(){return function(o,e,n){const v=`$$__zorroConfigDecorator__${e}`;return Object.defineProperty(o,v,{configurable:!0,writable:!0,enumerable:!1}),{get(){const M=n?.get?n.get.bind(this)():this[v],F=(this.propertyAssignCounter?.[e]||0)>1,Q=this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[e];return F&&Kn(M)?M:Kn(Q)?Q:M},set(M){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[e]=(this.propertyAssignCounter[e]||0)+1,n?.set?n.set.bind(this)(M):this[v]=M},configurable:!0,enumerable:!0}}}try{qn=typeof Intl<"u"&&Intl.v8BreakIterator}catch{qn=!1}let un,In,Fe,dn,Kt=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,J.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!qn)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(t.Lbi))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),zi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})();function Ko(i){return function ia(){if(null==un&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>un=!0}))}finally{un=un||!1}return un}()?i:!!i.capture}function qo(){if(null==Fe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fe=!1,Fe;if("scrollBehavior"in document.documentElement.style)Fe=!0;else{const i=Element.prototype.scrollTo;Fe=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Fe}function Ki(){if("object"!=typeof document||!document)return 0;if(null==In){const i=document.createElement("div"),o=i.style;i.dir="rtl",o.width="1px",o.overflow="auto",o.visibility="hidden",o.pointerEvents="none",o.position="absolute";const e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",i.appendChild(e),document.body.appendChild(i),In=0,0===i.scrollLeft&&(i.scrollLeft=1,In=0===i.scrollLeft?1:2),i.remove()}return In}function Mt(i){return i.composedPath?i.composedPath()[0]:i.target}function Et(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var to=Qe(2076),ut=2,er=.16,fn=.05,oa=.05,ra=.15,tr=5,io=4,Bi=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function ir(i,o,e){var n;return(n=Math.round(i.h)>=60&&Math.round(i.h)<=240?e?Math.round(i.h)-ut*o:Math.round(i.h)+ut*o:e?Math.round(i.h)+ut*o:Math.round(i.h)-ut*o)<0?n+=360:n>=360&&(n-=360),n}function no(i,o,e){return 0===i.h&&0===i.s?i.s:((n=e?i.s-er*o:o===io?i.s+er:i.s+fn*o)>1&&(n=1),e&&o===tr&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2)));var n}function gi(i,o,e){var n;return(n=e?i.v+oa*o:i.v-ra*o)>1&&(n=1),Number(n.toFixed(2))}function En(i){for(var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=[],n=new ke(i),v=tr;v>0;v-=1){var M=n.toHsv(),F=new ke({h:ir(M,v,!0),s:no(M,v,!0),v:gi(M,v,!0)}).toHexString();e.push(F)}e.push(n.toHexString());for(var Q=1;Q<=io;Q+=1){var re=n.toHsv(),Ce=new ke({h:ir(re,Q),s:no(re,Q),v:gi(re,Q)}).toHexString();e.push(Ce)}return"dark"===o.theme?Bi.map(function(Le){var ot=Le.index,xt=Le.opacity;return new ke(o.backgroundColor||"#141414").mix(e[ot],100*xt).toHexString()}):e}var bi={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},oi={},oo={};Object.keys(bi).forEach(function(i){oi[i]=En(bi[i]),oi[i].primary=oi[i][5],oo[i]=En(bi[i],{theme:"dark",backgroundColor:"#141414"}),oo[i].primary=oo[i][5]});var ro=Qe(529),Li=Qe(9646),Ii=Qe(4004),nr=Qe(8505),or=Qe(8746),aa=Qe(262),rr=Qe(3099),xi=Qe(5698),ao=Qe(1481);const Ni="[@ant-design/icons-angular]:";function ar(i){(0,t.X6Q)()&&console.warn(`${Ni} ${i}.`)}function sr(i){return En(i)[0]}function On(i,o){switch(o){case"fill":return`${i}-fill`;case"outline":return`${i}-o`;case"twotone":return`${i}-twotone`;case void 0:return i;default:throw new Error(`${Ni}Theme "${o}" is not a recognized theme!`)}}function cr(i){return"object"==typeof i&&"string"==typeof i.name&&("string"==typeof i.theme||void 0===i.theme)&&"string"==typeof i.icon}function An(i){const o=i.split(":");switch(o.length){case 1:return[i,""];case 2:return[o[1],o[0]];default:throw new Error(`${Ni}The icon type ${i} is not valid!`)}}function lr(i){return new Error(`${Ni}the icon ${i} does not exist or is not registered.`)}function ya(){return new Error(`${Ni}<svg> tag not found.`)}const za=new t.OlP("ant_icons");let hr=(()=>{class i{constructor(e,n,v,M,F){this._rendererFactory=e,this._handler=n,this._document=v,this.sanitizer=M,this._antIcons=F,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new q.x,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new ro.eN(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}set twoToneColor({primaryColor:e,secondaryColor:n}){this._twoToneColorPalette.primaryColor=e,this._twoToneColorPalette.secondaryColor=n||sr(e)}get twoToneColor(){return{...this._twoToneColorPalette}}get _disableDynamicLoading(){return!1}useJsonpLoading(){this._enableJsonpLoading?ar("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=e=>{this._jsonpIconLoad$.next(e)})}changeAssetsSource(e){this._assetsUrlRoot=e.endsWith("/")?e:e+"/"}addIcon(...e){e.forEach(n=>{this._svgDefinitions.set(On(n.name,n.theme),n)})}addIconLiteral(e,n){const[v,M]=An(e);if(!M)throw function ga(){return new Error(`${Ni}Type should have a namespace. Try "namespace:${name}".`)}();this.addIcon({name:e,icon:n})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(e,n){const v=cr(e)?e:this._svgDefinitions.get(e)||null;if(!v&&this._disableDynamicLoading)throw lr(e);return(v?(0,Li.of)(v):this._loadIconDynamically(e)).pipe((0,Ii.U)(F=>{if(!F)throw lr(e);return this._loadSVGFromCacheOrCreateNew(F,n)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(e){if(!this._http&&!this._enableJsonpLoading)return(0,Li.of)(function va(){return function sa(i){console.error(`${Ni} ${i}.`)}('you need to import "HttpClientModule" to use dynamic importing.'),null}());let n=this._inProgressFetches.get(e);if(!n){const[v,M]=An(e),F=M?{name:e,icon:""}:function ua(i){const o=i.split("-"),e=function la(i){return"o"===i?"outline":i}(o.splice(o.length-1,1)[0]);return{name:o.join("-"),theme:e,icon:""}}(v),re=(M?`${this._assetsUrlRoot}assets/${M}/${v}`:`${this._assetsUrlRoot}assets/${F.theme}/${F.name}`)+(this._enableJsonpLoading?".js":".svg"),Ce=this.sanitizer.sanitize(t.q3G.URL,re);if(!Ce)throw function ma(i){return new Error(`${Ni}The url "${i}" is unsafe.`)}(re);n=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(F,Ce):this._http.get(Ce,{responseType:"text"}).pipe((0,Ii.U)(ot=>({...F,icon:ot})))).pipe((0,nr.b)(ot=>this.addIcon(ot)),(0,or.x)(()=>this._inProgressFetches.delete(e)),(0,aa.K)(()=>(0,Li.of)(null)),(0,rr.B)()),this._inProgressFetches.set(e,n)}return n}_loadIconDynamicallyWithJsonp(e,n){return new T.y(v=>{const M=this._document.createElement("script"),F=setTimeout(()=>{Q(),v.error(function _a(){return new Error(`${Ni}Importing timeout error.`)}())},6e3);function Q(){M.parentNode.removeChild(M),clearTimeout(F)}M.src=n,this._document.body.appendChild(M),this._jsonpIconLoad$.pipe((0,d.h)(re=>re.name===e.name&&re.theme===e.theme),(0,xi.q)(1)).subscribe(re=>{v.next(re),Q()})})}_loadSVGFromCacheOrCreateNew(e,n){let v;const M=n||this._twoToneColorPalette.primaryColor,F=sr(M)||this._twoToneColorPalette.secondaryColor,Q="twotone"===e.theme?function ca(i,o,e,n){return`${On(i,o)}-${e}-${n}`}(e.name,e.theme,M,F):void 0===e.theme?e.name:On(e.name,e.theme),re=this._svgRenderedDefinitions.get(Q);return re?v=re.icon:(v=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function pa(i){return""!==An(i)[1]}(e.name)?e.icon:function fa(i){return i.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(e.icon)),"twotone"===e.theme,M,F)),this._svgRenderedDefinitions.set(Q,{...e,icon:v})),function da(i){return i.cloneNode(!0)}(v)}_createSVGElementFromString(e){const n=this._document.createElement("div");n.innerHTML=e;const v=n.querySelector("svg");if(!v)throw ya;return v}_setSVGAttribute(e){return this._renderer.setAttribute(e,"width","1em"),this._renderer.setAttribute(e,"height","1em"),e}_colorizeSVGIcon(e,n,v,M){if(n){const F=e.childNodes,Q=F.length;for(let re=0;re<Q;re++){const Ce=F[re];"secondaryColor"===Ce.getAttribute("fill")?this._renderer.setAttribute(Ce,"fill",M):this._renderer.setAttribute(Ce,"fill",v)}}return this._renderer.setAttribute(e,"fill","currentColor"),e}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(t.FYo),t.LFG(ro.jN,8),t.LFG(J.K0,8),t.LFG(ao.H7),t.LFG(za,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})(),xa=(()=>{class i{constructor(e,n,v){this._iconService=e,this._elementRef=n,this._renderer=v}ngOnChanges(e){(e.type||e.theme||e.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(e=>{if(!this.type)return this._clearSVGElement(),void e(null);const n=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(v=>{const M=this._getSelfRenderMeta();!function ba(i,o){return i.type===o.type&&i.theme===o.theme&&i.twoToneColor===o.twoToneColor}(n,M)?e(null):(this._setSVGElement(v),e(v))})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(e,n){if(cr(e))return e;{const[v,M]=An(e);return M?e:function ha(i){return i.endsWith("-fill")||i.endsWith("-o")||i.endsWith("-twotone")}(v)?(n&&ar(`'type' ${v} already gets a theme inside so 'theme' ${n} would be ignored`),v):On(v,n||this._iconService.defaultTheme)}}_setSVGElement(e){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,e)}_clearSVGElement(){const e=this._elementRef.nativeElement,n=e.childNodes;for(let M=n.length-1;M>=0;M--){const F=n[M];"svg"===F.tagName?.toLowerCase()&&this._renderer.removeChild(e,F)}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(hr),t.Y36(t.SBq),t.Y36(t.Qsj))},i.\u0275dir=t.lG2({type:i,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[t.TTD]}),i})();const k2={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'},r6=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},k2,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},k2,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],L2=new t.OlP("nz_icons"),N2=(new t.OlP("nz_icon_default_twotone_color"),"#1890ff");let H2=(()=>{class i extends hr{constructor(e,n,v,M,F,Q,re){super(e,F,Q,n,[...r6,...re||[]]),this.nzConfigService=v,this.platform=M,this.configUpdated$=new q.x,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(e){e.getAttribute("viewBox")||this._renderer.setAttribute(e,"viewBox","0 0 1024 1024"),(!e.getAttribute("width")||!e.getAttribute("height"))&&(this._renderer.setAttribute(e,"width","1em"),this._renderer.setAttribute(e,"height","1em")),e.getAttribute("fill")||this._renderer.setAttribute(e,"fill","currentColor")}fetchFromIconfont(e){const{scriptUrl:n}=e;if(this._document&&!this.iconfontCache.has(n)){const v=this._renderer.createElement("script");this._renderer.setAttribute(v,"src",n),this._renderer.setAttribute(v,"data-namespace",n.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,v),this.iconfontCache.add(n)}}createIconfontIcon(e){return this._createSVGElementFromString(`<svg><use xlink:href="${e}"></svg>`)}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const e=this.getConfig();this.defaultTheme=e.nzTheme||"outline"}configDefaultTwotoneColor(){const n=this.getConfig().nzTwotoneColor||N2;let v=N2;n&&(n.startsWith("#")?v=n:(0,Ve.ZK)("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:v}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(t.FYo),t.LFG(ao.H7),t.LFG(Ci),t.LFG(Kt),t.LFG(ro.jN,8),t.LFG(J.K0,8),t.LFG(L2,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const P2=new t.OlP("nz_icons_patch");let F2=(()=>{class i{constructor(e,n){this.extraIcons=e,this.rootIconService=n,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(e=>this.rootIconService.addIcon(e)),this.patched=!0)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(P2,2),t.LFG(H2))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})(),ri=(()=>{class i extends xa{constructor(e,n,v,M,F,Q){super(M,v,F),this.ngZone=e,this.changeDetectorRef=n,this.iconService=M,this.renderer=F,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new q.x,Q&&Q.doPatch(),this.el=v.nativeElement}set nzSpin(e){this.spin=e}set nzType(e){this.type=e}set nzTheme(e){this.theme=e}set nzTwotoneColor(e){this.twoToneColor=e}set nzIconfont(e){this.iconfont=e}ngOnChanges(e){const{nzType:n,nzTwotoneColor:v,nzSpin:M,nzTheme:F,nzRotate:Q}=e;n||v||M||F?this.changeIcon2():Q?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const e=this.el.children;let n=e.length;if(!this.type&&e.length)for(;n--;){const v=e[n];"svg"===v.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(v)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{(0,to.D)(this._changeIcon()).pipe(u(this.destroy$)).subscribe({next:e=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),e&&(this.setSVGData(e),this.handleSpin(e),this.handleRotate(e))})},error:Ve.ZK})})}handleSpin(e){this.spin||"loading"===this.type?this.renderer.addClass(e,"anticon-spin"):this.renderer.removeClass(e,"anticon-spin")}handleRotate(e){this.nzRotate?this.renderer.setAttribute(e,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(e,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(e){this.renderer.setAttribute(e,"data-icon",this.type),this.renderer.setAttribute(e,"aria-hidden","true")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(H2),t.Y36(t.Qsj),t.Y36(F2,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("anticon",!0)},inputs:{nzSpin:"nzSpin",nzRotate:"nzRotate",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[t.qOj,t.TTD]}),(0,ue.gn)([yt()],i.prototype,"nzSpin",null),i})(),Hi=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:L2,useValue:e}]}}static forChild(e){return{ngModule:i,providers:[F2,{provide:P2,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[zi]}),i})();const a6=new t.OlP("cdk-dir-doc",{providedIn:"root",factory:function s6(){return(0,t.f3M)(J.K0)}}),c6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Jt=(()=>{class i{constructor(e){this.value="ltr",this.change=new t.vpe,e&&(this.value=function l6(i){const o=i?.toLowerCase()||"";return"auto"===o&&typeof navigator<"u"&&navigator?.language?c6.test(navigator.language)?"rtl":"ltr":"rtl"===o?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(a6,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),qt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})(),Mi=(()=>{class i{constructor(e,n){this.elementRef=e,this.renderer=n,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.Qsj))},i.\u0275dir=t.lG2({type:i,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[t.TTD]}),i})(),Ys=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[zi]}),i})();class h6{constructor(o,e,n,v){this.triggerElement=o,this.ngZone=e,this.insertExtraNode=n,this.platformId=v,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=M=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===M.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new Kt(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const o=this.triggerElement,e=this.getWaveColor(o);o.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(e)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${e};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",o.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{o.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(o){return!!o&&"#ffffff"!==o&&"rgb(255, 255, 255)"!==o&&this.isNotGrey(o)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(o)&&"transparent"!==o}isNotGrey(o){const e=o.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(e&&e[1]&&e[2]&&e[3]&&e[1]===e[2]&&e[2]===e[3])}getWaveColor(o){const e=getComputedStyle(o);return e.getPropertyValue("border-top-color")||e.getPropertyValue("border-color")||e.getPropertyValue("background-color")}runTimeoutOutsideZone(o,e){this.ngZone.runOutsideAngular(()=>setTimeout(o,e))}}const u6={disabled:!1},d6=new t.OlP("nz-wave-global-options",{providedIn:"root",factory:function f6(){return u6}});let ko=(()=>{class i{constructor(e,n,v,M,F){this.ngZone=e,this.elementRef=n,this.config=v,this.animationType=M,this.platformId=F,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let e=!1;return this.config&&"boolean"==typeof this.config.disabled&&(e=this.config.disabled),"NoopAnimations"===this.animationType&&(e=!0),e}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new h6(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(d6,8),t.Y36(t.QbO,8),t.Y36(t.Lbi))},i.\u0275dir=t.lG2({type:i,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),i})(),R2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[zi]}),i})();const p6=["nz-button",""];function g6(i,o){1&i&&t._UZ(0,"span",1)}const v6=["*"];let Lo=(()=>{class i{constructor(e,n,v,M,F,Q){this.ngZone=e,this.elementRef=n,this.cdr=v,this.renderer=M,this.nzConfigService=F,this.directionality=Q,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new q.x,this.loading$=new q.x,this.nzConfigService.getConfigChangeEventForComponent("button").pipe(u(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}insertSpan(e,n){e.forEach(v=>{if("#text"===v.nodeName){const M=n.createElement("span"),F=n.parentNode(v);n.insertBefore(F,M,v),n.appendChild(M,v)}})}assertIconOnly(e,n){const v=Array.from(e.childNodes),M=v.filter(Ce=>{const Le=Array.from(Ce.childNodes||[]);return"SPAN"===Ce.nodeName&&Le.length>0&&Le.every(ot=>"svg"===ot.nodeName)}).length,F=v.every(Ce=>"#text"!==Ce.nodeName);v.filter(Ce=>{const Le=Array.from(Ce.childNodes||[]);return!("SPAN"===Ce.nodeName&&Le.length>0&&Le.every(ot=>"svg"===ot.nodeName))}).every(Ce=>"SPAN"!==Ce.nodeName)&&F&&M>=1&&n.addClass(e,"ant-btn-icon-only")}ngOnInit(){this.directionality.change?.pipe(u(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{U(this.elementRef.nativeElement,"click",{capture:!0}).pipe(u(this.destroy$)).subscribe(e=>{(this.disabled&&"A"===e.target?.tagName||this.nzLoading)&&(e.preventDefault(),e.stopImmediatePropagation())})})}ngOnChanges(e){const{nzLoading:n}=e;n&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe((0,C.O)(this.nzLoading),(0,d.h)(()=>!!this.nzIconDirectiveElement),u(this.destroy$)).subscribe(e=>{const n=this.nzIconDirectiveElement.nativeElement;e?this.renderer.setStyle(n,"display","none"):this.renderer.removeStyle(n,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(t.Qsj),t.Y36(Ci),t.Y36(Jt,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(e,n,v){if(1&e&&t.Suo(v,ri,5,t.SBq),2&e){let M;t.iGM(M=t.CRH())&&(n.nzIconDirectiveElement=M.first)}},hostAttrs:[1,"ant-btn"],hostVars:30,hostBindings:function(e,n){2&e&&(t.uIk("tabindex",n.disabled?-1:null===n.tabIndex?null:n.tabIndex)("disabled",n.disabled||null),t.ekj("ant-btn-primary","primary"===n.nzType)("ant-btn-dashed","dashed"===n.nzType)("ant-btn-link","link"===n.nzType)("ant-btn-text","text"===n.nzType)("ant-btn-circle","circle"===n.nzShape)("ant-btn-round","round"===n.nzShape)("ant-btn-lg","large"===n.nzSize)("ant-btn-sm","small"===n.nzSize)("ant-btn-dangerous",n.nzDanger)("ant-btn-loading",n.nzLoading)("ant-btn-background-ghost",n.nzGhost)("ant-btn-block",n.nzBlock)("ant-input-search-button",n.nzSearch)("ant-btn-rtl","rtl"===n.dir))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[t.TTD],attrs:p6,ngContentSelectors:v6,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(e,n){1&e&&(t.F$t(),t.YNc(0,g6,1,0,"span",0),t.Hsn(1)),2&e&&t.Q6J("ngIf",n.nzLoading)},dependencies:[J.O5,ri,Mi],encapsulation:2,changeDetection:0}),(0,ue.gn)([yt()],i.prototype,"nzBlock",void 0),(0,ue.gn)([yt()],i.prototype,"nzGhost",void 0),(0,ue.gn)([yt()],i.prototype,"nzSearch",void 0),(0,ue.gn)([yt()],i.prototype,"nzLoading",void 0),(0,ue.gn)([yt()],i.prototype,"nzDanger",void 0),(0,ue.gn)([yt()],i.prototype,"disabled",void 0),(0,ue.gn)([jt()],i.prototype,"nzSize",void 0),i})(),V2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,R2,Hi,Ys,Ys,R2]}),i})();var j2=Qe(8176),gt=Qe(433);class m6{constructor(o,e){this._document=e;const n=this._textarea=this._document.createElement("textarea"),v=n.style;v.position="fixed",v.top=v.opacity="0",v.left="-999em",n.setAttribute("aria-hidden","true"),n.value=o,n.readOnly=!0,this._document.body.appendChild(n)}copy(){const o=this._textarea;let e=!1;try{if(o){const n=this._document.activeElement;o.select(),o.setSelectionRange(0,o.value.length),e=this._document.execCommand("copy"),n&&n.focus()}}catch{}return e}destroy(){const o=this._textarea;o&&(o.remove(),this._textarea=void 0)}}let y6=(()=>{class i{constructor(e){this._document=e}copy(e){const n=this.beginCopy(e),v=n.copy();return n.destroy(),v}beginCopy(e){return new m6(e,this._document)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(J.K0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),_6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})(),ai=(()=>{class i{constructor(e,n){this.viewContainer=e,this.templateRef=n,this.embeddedViewRef=null,this.context=new C6,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}static ngTemplateContextGuard(e,n){return!0}recreateView(){this.viewContainer.clear();const e=this.nzStringTemplateOutlet instanceof t.Rgc;this.embeddedViewRef=this.viewContainer.createEmbeddedView(e?this.nzStringTemplateOutlet:this.templateRef,e?this.nzStringTemplateOutletContext:this.context)}updateContext(){const n=this.nzStringTemplateOutlet instanceof t.Rgc?this.nzStringTemplateOutletContext:this.context,v=this.embeddedViewRef.context;if(n)for(const M of Object.keys(n))v[M]=n[M]}ngOnChanges(e){const{nzStringTemplateOutletContext:n,nzStringTemplateOutlet:v}=e;v&&(this.context.$implicit=v.currentValue),(()=>{let Q=!1;return v&&(Q=!!v.firstChange||(v.previousValue instanceof t.Rgc||v.currentValue instanceof t.Rgc)),n&&(Le=>{const ot=Object.keys(Le.previousValue||{}),xt=Object.keys(Le.currentValue||{});if(ot.length===xt.length){for(const wt of xt)if(-1===ot.indexOf(wt))return!0;return!1}return!0})(n)||Q})()?this.recreateView():this.updateContext()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.s_b),t.Y36(t.Rgc))},i.\u0275dir=t.lG2({type:i,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[t.TTD]}),i})();class C6{}let en=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[J.ez]}),i})(),Y2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["button","nz-trans-button",""]],hostVars:8,hostBindings:function(e,n){2&e&&t.Udp("border","0")("background","transparent")("padding","0")("line-height","inherit")}}),i})(),z6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[J.ez]}),i})();var Pi=Qe(1811),No=Qe(6451),U2=Qe(4671);function Zi(i,o=U2.y){return i=i??b6,(0,r.e)((e,n)=>{let v,M=!0;e.subscribe((0,a.x)(n,F=>{const Q=o(F);(M||!i(v,Q))&&(M=!1,v=Q,n.next(F))}))})}function b6(i,o){return i===o}var vn=Qe(3900);const Us={now:()=>(Us.delegate||Date).now(),delegate:void 0};class mn extends q.x{constructor(o=1/0,e=1/0,n=Us){super(),this._bufferSize=o,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,o),this._windowTime=Math.max(1,e)}next(o){const{isStopped:e,_buffer:n,_infiniteTimeWindow:v,_timestampProvider:M,_windowTime:F}=this;e||(n.push(o),!v&&n.push(M.now()+F)),this._trimBuffer(),super.next(o)}_subscribe(o){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(o),{_infiniteTimeWindow:n,_buffer:v}=this,M=v.slice();for(let F=0;F<M.length&&!o.closed;F+=n?1:2)o.next(M[F]);return this._checkFinalizedStatuses(o),e}_trimBuffer(){const{_bufferSize:o,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:v}=this,M=(v?1:2)*o;if(o<1/0&&M<n.length&&n.splice(0,n.length-M),!v){const F=e.now();let Q=0;for(let re=1;re<n.length&&n[re]<=F;re+=2)Q=re;Q&&n.splice(0,Q+1)}}}var yn=Qe(1135);function x6(i,o){if(1&i&&t._UZ(0,"span",1),2&i){const e=t.oxw();t.Q6J("nzType",e.iconType)}}let Hn=(()=>{class i{constructor(){this.formStatusChanges=new mn(1)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})(),Cr=(()=>{class i{constructor(){this.noFormStatus=new yn.X(!1)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();const M6={error:"close-circle-fill",validating:"loading",success:"check-circle-fill",warning:"exclamation-circle-fill"};let Gs=(()=>{class i{constructor(e){this.cdr=e,this.status="",this.iconType=null}ngOnChanges(e){this.updateIcon()}updateIcon(){this.iconType=this.status?M6[this.status]:null,this.cdr.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-form-item-feedback-icon"]],hostAttrs:[1,"ant-form-item-feedback-icon"],hostVars:8,hostBindings:function(e,n){2&e&&t.ekj("ant-form-item-feedback-icon-error","error"===n.status)("ant-form-item-feedback-icon-warning","warning"===n.status)("ant-form-item-feedback-icon-success","success"===n.status)("ant-form-item-feedback-icon-validating","validating"===n.status)},inputs:{status:"status"},exportAs:["nzFormFeedbackIcon"],features:[t.TTD],decls:1,vars:1,consts:[["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(e,n){1&e&&t.YNc(0,x6,1,1,"span",0),2&e&&t.Q6J("ngIf",n.iconType)},dependencies:[J.O5,ri],encapsulation:2,changeDetection:0}),i})(),G2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[J.ez,Hi]}),i})();function Z2(i,...o){return o.length?o.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function X2(i){return(0,d.h)((o,e)=>i<=e)}let N6=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Q2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[N6]}),i})();var J2=Qe(9841),$2=Qe(7272),Fi=Qe(727);class H6 extends Fi.w0{constructor(o,e){super()}schedule(o,e=0){return this}}const zr={setInterval(i,o,...e){const{delegate:n}=zr;return n?.setInterval?n.setInterval(i,o,...e):setInterval(i,o,...e)},clearInterval(i){const{delegate:o}=zr;return(o?.clearInterval||clearInterval)(i)},delegate:void 0};var P6=Qe(8737);class Ws extends H6{constructor(o,e){super(o,e),this.scheduler=o,this.work=e,this.pending=!1}schedule(o,e=0){var n;if(this.closed)return this;this.state=o;const v=this.id,M=this.scheduler;return null!=v&&(this.id=this.recycleAsyncId(M,v,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(M,this.id,e),this}requestAsyncId(o,e,n=0){return zr.setInterval(o.flush.bind(o,this),n)}recycleAsyncId(o,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&zr.clearInterval(e)}execute(o,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(o,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(o,e){let v,n=!1;try{this.work(o)}catch(M){n=!0,v=M||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),v}unsubscribe(){if(!this.closed){const{id:o,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,P6.P)(n,this),null!=o&&(this.id=this.recycleAsyncId(e,o,null)),this.delay=null,super.unsubscribe()}}}class Ho{constructor(o,e=Ho.now){this.schedulerActionCtor=o,this.now=e}schedule(o,e=0,n){return new this.schedulerActionCtor(this,o).schedule(n,e)}}Ho.now=Us.now;class Zs extends Ho{constructor(o,e=Ho.now){super(o,e),this.actions=[],this._active=!1}flush(o){const{actions:e}=this;if(this._active)return void e.push(o);let n;this._active=!0;do{if(n=o.execute(o.state,o.delay))break}while(o=e.shift());if(this._active=!1,n){for(;o=e.shift();)o.unsubscribe();throw n}}}const br=new Zs(Ws),F6=br;let K2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})();const q2=new Set;let Fn,Xs=(()=>{class i{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):V6}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function B6(i){if(!q2.has(i))try{Fn||(Fn=document.createElement("style"),Fn.setAttribute("type","text/css"),document.head.appendChild(Fn)),Fn.sheet&&(Fn.sheet.insertRule(`@media ${i} {body{ }}`,0),q2.add(i))}catch(o){console.error(o)}}(e),this._matchMedia(e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Kt))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function V6(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let j6=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new q.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return e3(ct(e)).some(v=>this._registerQuery(v).mql.matches)}observe(e){const v=e3(ct(e)).map(F=>this._registerQuery(F).observable);let M=(0,J2.a)(v);return M=(0,$2.z)(M.pipe((0,xi.q)(1)),M.pipe(X2(1),function R6(i,o=br){return(0,r.e)((e,n)=>{let v=null,M=null,F=null;const Q=()=>{if(v){v.unsubscribe(),v=null;const Ce=M;M=null,n.next(Ce)}};function re(){const Ce=F+i,Le=o.now();if(Le<Ce)return v=this.schedule(void 0,Ce-Le),void n.add(v);Q()}e.subscribe((0,a.x)(n,Ce=>{M=Ce,F=o.now(),v||(v=o.schedule(re,i),n.add(v))},()=>{Q(),n.complete()},void 0,()=>{M=v=null}))})}(0))),M.pipe((0,Ii.U)(F=>{const Q={matches:!1,breakpoints:{}};return F.forEach(({matches:re,query:Ce})=>{Q.matches=Q.matches||re,Q.breakpoints[Ce]=re}),Q}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),M={observable:new T.y(F=>{const Q=re=>this._zone.run(()=>F.next(re));return n.addListener(Q),()=>{n.removeListener(Q)}}).pipe((0,C.O)(n),(0,Ii.U)(({matches:F})=>({query:e,matches:F})),u(this._destroySubject)),mql:n};return this._queries.set(e,M),M}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Xs),t.LFG(t.R0b))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function e3(i){return i.map(o=>o.split(",")).reduce((o,e)=>o.concat(e)).map(o=>o.trim())}let G6=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Z6(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function W6(i){try{return i.frameElement}catch{return null}}(function t8(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(n&&(-1===r3(n)||!this.isVisible(n)))return!1;let v=e.nodeName.toLowerCase(),M=r3(e);return e.hasAttribute("contenteditable")?-1!==M:!("iframe"===v||"object"===v||this._platform.WEBKIT&&this._platform.IOS&&!function q6(i){let o=i.nodeName.toLowerCase(),e="input"===o&&i.type;return"text"===e||"password"===e||"select"===o||"textarea"===o}(e))&&("audio"===v?!!e.hasAttribute("controls")&&-1!==M:"video"===v?-1!==M&&(null!==M||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function e8(i){return!function Q6(i){return function $6(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function X6(i){let o=i.nodeName.toLowerCase();return"input"===o||"select"===o||"button"===o||"textarea"===o}(i)||function J6(i){return function K6(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||o3(i))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Kt))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function o3(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let o=i.getAttribute("tabindex");return!(!o||isNaN(parseInt(o,10)))}function r3(i){if(!o3(i))return null;const o=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(o)?-1:o}class i8{get enabled(){return this._enabled}set enabled(o){this._enabled=o,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(o,this._startAnchor),this._toggleAnchorTabIndex(o,this._endAnchor))}constructor(o,e,n,v,M=!1){this._element=o,this._checker=e,this._ngZone=n,this._document=v,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,M||this.attachAnchors()}destroy(){const o=this._startAnchor,e=this._endAnchor;o&&(o.removeEventListener("focus",this.startAnchorListener),o.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(o){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(o)))})}focusFirstTabbableElementWhenReady(o){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(o)))})}focusLastTabbableElementWhenReady(o){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(o)))})}_getRegionBoundary(o){const e=this._element.querySelectorAll(`[cdk-focus-region-${o}], [cdkFocusRegion${o}], [cdk-focus-${o}]`);return"start"==o?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(o){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(o),!!n}return e.focus(o),!0}return this.focusFirstTabbableElement(o)}focusFirstTabbableElement(o){const e=this._getRegionBoundary("start");return e&&e.focus(o),!!e}focusLastTabbableElement(o){const e=this._getRegionBoundary("end");return e&&e.focus(o),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(o){if(this._checker.isFocusable(o)&&this._checker.isTabbable(o))return o;const e=o.children;for(let n=0;n<e.length;n++){const v=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(v)return v}return null}_getLastTabbableElement(o){if(this._checker.isFocusable(o)&&this._checker.isTabbable(o))return o;const e=o.children;for(let n=e.length-1;n>=0;n--){const v=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(v)return v}return null}_createAnchor(){const o=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,o),o.classList.add("cdk-visually-hidden"),o.classList.add("cdk-focus-trap-anchor"),o.setAttribute("aria-hidden","true"),o}_toggleAnchorTabIndex(o,e){o?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(o){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(o,this._startAnchor),this._toggleAnchorTabIndex(o,this._endAnchor))}_executeOnStable(o){this._ngZone.isStable?o():this._ngZone.onStable.pipe((0,xi.q)(1)).subscribe(o)}}let a3=(()=>{class i{constructor(e,n,v){this._checker=e,this._ngZone=n,this._document=v}create(e,n=!1){return new i8(e,this._checker,this._ngZone,this._document,n)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(G6),t.LFG(t.R0b),t.LFG(J.K0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const r8=new t.OlP("cdk-input-modality-detector-options"),a8={ignoreKeys:[18,17,224,91,16]},Rn=Ko({passive:!0,capture:!0});let s8=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,n,v,M){this._platform=e,this._mostRecentTarget=null,this._modality=new yn.X(null),this._lastTouchMs=0,this._onKeydown=F=>{this._options?.ignoreKeys?.some(Q=>Q===F.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Mt(F))},this._onMousedown=F=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function n8(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}(F)?"keyboard":"mouse"),this._mostRecentTarget=Mt(F))},this._onTouchstart=F=>{!function o8(i){const o=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!o||-1!==o.identifier||null!=o.radiusX&&1!==o.radiusX||null!=o.radiusY&&1!==o.radiusY)}(F)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Mt(F)):this._modality.next("keyboard")},this._options={...a8,...M},this.modalityDetected=this._modality.pipe(X2(1)),this.modalityChanged=this.modalityDetected.pipe(Zi()),e.isBrowser&&n.runOutsideAngular(()=>{v.addEventListener("keydown",this._onKeydown,Rn),v.addEventListener("mousedown",this._onMousedown,Rn),v.addEventListener("touchstart",this._onTouchstart,Rn)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Rn),document.removeEventListener("mousedown",this._onMousedown,Rn),document.removeEventListener("touchstart",this._onTouchstart,Rn))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Kt),t.LFG(t.R0b),t.LFG(J.K0),t.LFG(r8,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const l8=new t.OlP("cdk-focus-monitor-default-options"),xr=Ko({passive:!0,capture:!0});let Mr=(()=>{class i{constructor(e,n,v,M,F){this._ngZone=e,this._platform=n,this._inputModalityDetector=v,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new q.x,this._rootNodeFocusAndBlurListener=Q=>{for(let Ce=Mt(Q);Ce;Ce=Ce.parentElement)"focus"===Q.type?this._onFocus(Q,Ce):this._onBlur(Q,Ce)},this._document=M,this._detectionMode=F?.detectionMode||0}monitor(e,n=!1){const v=Ht(e);if(!this._platform.isBrowser||1!==v.nodeType)return(0,Li.of)(null);const M=function na(i){if(function kt(){if(null==dn){const i=typeof document<"u"?document.head:null;dn=!(!i||!i.createShadowRoot&&!i.attachShadow)}return dn}()){const o=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&o instanceof ShadowRoot)return o}return null}(v)||this._getDocument(),F=this._elementInfo.get(v);if(F)return n&&(F.checkChildren=!0),F.subject;const Q={checkChildren:n,subject:new q.x,rootNode:M};return this._elementInfo.set(v,Q),this._registerGlobalListeners(Q),Q.subject}stopMonitoring(e){const n=Ht(e),v=this._elementInfo.get(n);v&&(v.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(v))}focusVia(e,n,v){const M=Ht(e);M===this._getDocument().activeElement?this._getClosestElementsInfo(M).forEach(([Q,re])=>this._originChanged(Q,n,re)):(this._setOrigin(n),"function"==typeof M.focus&&M.focus(v))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const v=this._elementInfo.get(n),M=Mt(e);!v||!v.checkChildren&&n!==M||this._originChanged(n,this._getFocusOrigin(M),v)}_onBlur(e,n){const v=this._elementInfo.get(n);!v||v.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(v,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,v=this._rootNodeFocusListenerCount.get(n)||0;v||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,xr),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,xr)}),this._rootNodeFocusListenerCount.set(n,v+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(u(this._stopInputModalityDetector)).subscribe(M=>{this._setOrigin(M,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const v=this._rootNodeFocusListenerCount.get(n);v>1?this._rootNodeFocusListenerCount.set(n,v-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xr),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xr),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,v){this._setClasses(e,n),this._emitOrigin(v,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((v,M)=>{(M===e||v.checkChildren&&M.contains(e))&&n.push([M,v])}),n}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:n,mostRecentModality:v}=this._inputModalityDetector;if("mouse"!==v||!n||n===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const M=e.labels;if(M)for(let F=0;F<M.length;F++)if(M[F].contains(n))return!0;return!1}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(t.R0b),t.LFG(Kt),t.LFG(s8),t.LFG(J.K0,8),t.LFG(l8,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const c3="cdk-high-contrast-black-on-white",l3="cdk-high-contrast-white-on-black",Qs="cdk-high-contrast-active";let h8=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=(0,t.f3M)(j6).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,v=n&&n.getComputedStyle?n.getComputedStyle(e):null,M=(v&&v.backgroundColor||"").replace(/ /g,"");switch(e.remove(),M){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Qs,c3,l3),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?e.add(Qs,c3):2===n&&e.add(Qs,l3)}}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Kt),t.LFG(J.K0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),u8=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(h8))},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[Q2]}),i})();var f8=Qe(3532);function Js(i=0,o,e=F6){let n=-1;return null!=o&&((0,f8.K)(o)?e=o:n=o),new T.y(v=>{let M=function p8(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;M<0&&(M=0);let F=0;return e.schedule(function(){v.closed||(v.next(F++),0<=n?this.schedule(void 0,n):v.complete())},M)})}function Sr(i,o=br){return function d8(i){return(0,r.e)((o,e)=>{let n=!1,v=null,M=null,F=!1;const Q=()=>{if(M?.unsubscribe(),M=null,n){n=!1;const Ce=v;v=null,e.next(Ce)}F&&e.complete()},re=()=>{M=null,F&&e.complete()};o.subscribe((0,a.x)(e,Ce=>{n=!0,v=Ce,M||(0,Ee.Xf)(i(Ce)).subscribe(M=(0,a.x)(e,Q,re))},()=>{F=!0,(!n||!M||M.closed)&&e.complete()}))})}(()=>Js(i,o))}const $s=()=>{};let Ks=(()=>{class i{constructor(e,n){this.ngZone=e,this.rendererFactory2=n,this.resizeSource$=new q.x,this.listeners=0,this.disposeHandle=$s,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=$s}subscribe(){return this.registerListener(),this.resizeSource$.pipe(Sr(16),(0,or.x)(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=$s)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(t.R0b),t.LFG(t.FYo))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var wr=(()=>{return(i=wr||(wr={})).xxl="xxl",i.xl="xl",i.lg="lg",i.md="md",i.sm="sm",i.xs="xs",wr;var i})();const Tr={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};let g8=(()=>{class i{constructor(e,n){this.resizeService=e,this.mediaMatcher=n,this.destroy$=new q.x,this.resizeService.subscribe().pipe(u(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(e,n){if(n){const v=()=>this.matchMedia(e,!0);return this.resizeService.subscribe().pipe((0,Ii.U)(v),(0,C.O)(v()),Zi((M,F)=>M[0]===F[0]),(0,Ii.U)(M=>M[1]))}{const v=()=>this.matchMedia(e);return this.resizeService.subscribe().pipe((0,Ii.U)(v),(0,C.O)(v()),Zi())}}matchMedia(e,n){let v=wr.md;const M={};return Object.keys(e).map(F=>{const Q=F,re=this.mediaMatcher.matchMedia(Tr[Q]).matches;M[F]=re,re&&(v=Q)}),n?[v,M]:v}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Ks),t.LFG(Xs))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ai=(()=>{class i extends q.x{ngOnDestroy(){this.next(),this.complete()}}return i.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(i)))(n||i)}}(),i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();const v8=["nz-input-group-slot",""];function m8(i,o){if(1&i&&t._UZ(0,"span",2),2&i){const e=t.oxw();t.Q6J("nzType",e.icon)}}function y8(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.template)}}const h3=["*"];function _8(i,o){if(1&i&&t._UZ(0,"span",7),2&i){const e=t.oxw(2);t.Q6J("icon",e.nzAddOnBeforeIcon)("template",e.nzAddOnBefore)}}function C8(i,o){}function z8(i,o){if(1&i&&(t.TgZ(0,"span",8),t.YNc(1,C8,0,0,"ng-template",9),t.qZA()),2&i){const e=t.oxw(2),n=t.MAs(4);t.ekj("ant-input-affix-wrapper-disabled",e.disabled)("ant-input-affix-wrapper-sm",e.isSmall)("ant-input-affix-wrapper-lg",e.isLarge)("ant-input-affix-wrapper-focused",e.focused),t.Q6J("ngClass",e.affixInGroupStatusCls),t.xp6(1),t.Q6J("ngTemplateOutlet",n)}}function b8(i,o){if(1&i&&t._UZ(0,"span",7),2&i){const e=t.oxw(2);t.Q6J("icon",e.nzAddOnAfterIcon)("template",e.nzAddOnAfter)}}function x8(i,o){if(1&i&&(t.TgZ(0,"span",4),t.YNc(1,_8,1,2,"span",5),t.YNc(2,z8,2,10,"span",6),t.YNc(3,b8,1,2,"span",5),t.qZA()),2&i){const e=t.oxw(),n=t.MAs(6);t.xp6(1),t.Q6J("ngIf",e.nzAddOnBefore||e.nzAddOnBeforeIcon),t.xp6(1),t.Q6J("ngIf",e.isAffix||e.hasFeedback)("ngIfElse",n),t.xp6(1),t.Q6J("ngIf",e.nzAddOnAfter||e.nzAddOnAfterIcon)}}function M8(i,o){}function S8(i,o){if(1&i&&t.YNc(0,M8,0,0,"ng-template",9),2&i){t.oxw(2);const e=t.MAs(4);t.Q6J("ngTemplateOutlet",e)}}function w8(i,o){if(1&i&&t.YNc(0,S8,1,1,"ng-template",10),2&i){const e=t.oxw(),n=t.MAs(6);t.Q6J("ngIf",e.isAffix)("ngIfElse",n)}}function T8(i,o){if(1&i&&t._UZ(0,"span",13),2&i){const e=t.oxw(2);t.Q6J("icon",e.nzPrefixIcon)("template",e.nzPrefix)}}function I8(i,o){}function E8(i,o){if(1&i&&t._UZ(0,"nz-form-item-feedback-icon",16),2&i){const e=t.oxw(3);t.Q6J("status",e.status)}}function O8(i,o){if(1&i&&(t.TgZ(0,"span",14),t.YNc(1,E8,1,1,"nz-form-item-feedback-icon",15),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("icon",e.nzSuffixIcon)("template",e.nzSuffix),t.xp6(1),t.Q6J("ngIf",e.isFeedback)}}function A8(i,o){if(1&i&&(t.YNc(0,T8,1,2,"span",11),t.YNc(1,I8,0,0,"ng-template",9),t.YNc(2,O8,2,3,"span",12)),2&i){const e=t.oxw(),n=t.MAs(6);t.Q6J("ngIf",e.nzPrefix||e.nzPrefixIcon),t.xp6(1),t.Q6J("ngTemplateOutlet",n),t.xp6(1),t.Q6J("ngIf",e.nzSuffix||e.nzSuffixIcon||e.isFeedback)}}function D8(i,o){if(1&i&&(t.TgZ(0,"span",18),t._UZ(1,"nz-form-item-feedback-icon",16),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("status",e.status)}}function k8(i,o){if(1&i&&(t.Hsn(0),t.YNc(1,D8,2,1,"span",17)),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isAddOn&&!e.isAffix&&e.isFeedback)}}let Ir=(()=>{class i{constructor(e,n,v,M,F,Q,re){this.ngControl=e,this.renderer=n,this.elementRef=v,this.hostView=M,this.directionality=F,this.nzFormStatusService=Q,this.nzFormNoStatusService=re,this.nzBorderless=!1,this.nzSize="default",this.nzStatus="",this._disabled=!1,this.disabled$=new q.x,this.dir="ltr",this.prefixCls="ant-input",this.status="",this.statusCls={},this.hasFeedback=!1,this.feedbackRef=null,this.components=[],this.destroy$=new q.x}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=null!=e&&"false"!=`${e}`}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Zi((e,n)=>e.status===n.status&&e.hasFeedback===n.hasFeedback),u(this.destroy$)).subscribe(({status:e,hasFeedback:n})=>{this.setStatusStyles(e,n)}),this.ngControl&&this.ngControl.statusChanges?.pipe((0,d.h)(()=>null!==this.ngControl.disabled),u(this.destroy$)).subscribe(()=>{this.disabled$.next(this.ngControl.disabled)}),this.dir=this.directionality.value,this.directionality.change?.pipe(u(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnChanges(e){const{disabled:n,nzStatus:v}=e;n&&this.disabled$.next(this.disabled),v&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setStatusStyles(e,n){this.status=e,this.hasFeedback=n,this.renderFeedbackIcon(),this.statusCls=hn(this.prefixCls,e,n),Object.keys(this.statusCls).forEach(v=>{this.statusCls[v]?this.renderer.addClass(this.elementRef.nativeElement,v):this.renderer.removeClass(this.elementRef.nativeElement,v)})}renderFeedbackIcon(){if(!this.status||!this.hasFeedback||this.nzFormNoStatusService)return this.hostView.clear(),void(this.feedbackRef=null);this.feedbackRef=this.feedbackRef||this.hostView.createComponent(Gs),this.feedbackRef.location.nativeElement.classList.add("ant-input-suffix"),this.feedbackRef.instance.status=this.status,this.feedbackRef.instance.updateIcon()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(gt.a5,10),t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(t.s_b),t.Y36(Jt,8),t.Y36(Hn,8),t.Y36(Cr,8))},i.\u0275dir=t.lG2({type:i,selectors:[["input","nz-input",""],["textarea","nz-input",""]],hostAttrs:[1,"ant-input"],hostVars:11,hostBindings:function(e,n){2&e&&(t.uIk("disabled",n.disabled||null),t.ekj("ant-input-disabled",n.disabled)("ant-input-borderless",n.nzBorderless)("ant-input-lg","large"===n.nzSize)("ant-input-sm","small"===n.nzSize)("ant-input-rtl","rtl"===n.dir))},inputs:{nzBorderless:"nzBorderless",nzSize:"nzSize",nzStatus:"nzStatus",disabled:"disabled"},exportAs:["nzInput"],features:[t.TTD]}),(0,ue.gn)([yt()],i.prototype,"nzBorderless",void 0),i})(),L8=(()=>{class i{constructor(){this.icon=null,this.type=null,this.template=null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["","nz-input-group-slot",""]],hostVars:6,hostBindings:function(e,n){2&e&&t.ekj("ant-input-group-addon","addon"===n.type)("ant-input-prefix","prefix"===n.type)("ant-input-suffix","suffix"===n.type)},inputs:{icon:"icon",type:"type",template:"template"},attrs:v8,ngContentSelectors:h3,decls:3,vars:2,consts:[["nz-icon","",3,"nzType",4,"ngIf"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(e,n){1&e&&(t.F$t(),t.YNc(0,m8,1,1,"span",0),t.YNc(1,y8,2,1,"ng-container",1),t.Hsn(2)),2&e&&(t.Q6J("ngIf",n.icon),t.xp6(1),t.Q6J("nzStringTemplateOutlet",n.template))},dependencies:[J.O5,ri,ai],encapsulation:2,changeDetection:0}),i})(),u3=(()=>{class i{constructor(e,n,v,M,F,Q,re){this.focusMonitor=e,this.elementRef=n,this.renderer=v,this.cdr=M,this.directionality=F,this.nzFormStatusService=Q,this.nzFormNoStatusService=re,this.nzAddOnBeforeIcon=null,this.nzAddOnAfterIcon=null,this.nzPrefixIcon=null,this.nzSuffixIcon=null,this.nzStatus="",this.nzSize="default",this.nzSearch=!1,this.nzCompact=!1,this.isLarge=!1,this.isSmall=!1,this.isAffix=!1,this.isAddOn=!1,this.isFeedback=!1,this.focused=!1,this.disabled=!1,this.dir="ltr",this.prefixCls="ant-input",this.affixStatusCls={},this.groupStatusCls={},this.affixInGroupStatusCls={},this.status="",this.hasFeedback=!1,this.destroy$=new q.x}updateChildrenInputSize(){this.listOfNzInputDirective&&this.listOfNzInputDirective.forEach(e=>e.nzSize=this.nzSize)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Zi((e,n)=>e.status===n.status&&e.hasFeedback===n.hasFeedback),u(this.destroy$)).subscribe(({status:e,hasFeedback:n})=>{this.setStatusStyles(e,n)}),this.focusMonitor.monitor(this.elementRef,!0).pipe(u(this.destroy$)).subscribe(e=>{this.focused=!!e,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe(u(this.destroy$)).subscribe(e=>{this.dir=e})}ngAfterContentInit(){this.updateChildrenInputSize();const e=this.listOfNzInputDirective.changes.pipe((0,C.O)(this.listOfNzInputDirective));e.pipe((0,vn.w)(n=>(0,No.T)(e,...n.map(v=>v.disabled$))),(0,R.z)(()=>e),(0,Ii.U)(n=>n.some(v=>v.disabled)),u(this.destroy$)).subscribe(n=>{this.disabled=n,this.cdr.markForCheck()})}ngOnChanges(e){const{nzSize:n,nzSuffix:v,nzPrefix:M,nzPrefixIcon:F,nzSuffixIcon:Q,nzAddOnAfter:re,nzAddOnBefore:Ce,nzAddOnAfterIcon:Le,nzAddOnBeforeIcon:ot,nzStatus:xt}=e;n&&(this.updateChildrenInputSize(),this.isLarge="large"===this.nzSize,this.isSmall="small"===this.nzSize),(v||M||F||Q)&&(this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)),(re||Ce||Le||ot)&&(this.isAddOn=!!(this.nzAddOnAfter||this.nzAddOnBefore||this.nzAddOnAfterIcon||this.nzAddOnBeforeIcon),this.nzFormNoStatusService?.noFormStatus?.next(this.isAddOn)),xt&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}setStatusStyles(e,n){this.status=e,this.hasFeedback=n,this.isFeedback=!!e&&n,this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)||!this.isAddOn&&n,this.affixInGroupStatusCls=this.isAffix||this.isFeedback?this.affixStatusCls=hn(`${this.prefixCls}-affix-wrapper`,e,n):{},this.cdr.markForCheck(),this.affixStatusCls=hn(`${this.prefixCls}-affix-wrapper`,this.isAddOn?"":e,!this.isAddOn&&n),this.groupStatusCls=hn(`${this.prefixCls}-group-wrapper`,this.isAddOn?e:"",!!this.isAddOn&&n);const M={...this.affixStatusCls,...this.groupStatusCls};Object.keys(M).forEach(F=>{M[F]?this.renderer.addClass(this.elementRef.nativeElement,F):this.renderer.removeClass(this.elementRef.nativeElement,F)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Mr),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(Jt,8),t.Y36(Hn,8),t.Y36(Cr,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-input-group"]],contentQueries:function(e,n,v){if(1&e&&t.Suo(v,Ir,4),2&e){let M;t.iGM(M=t.CRH())&&(n.listOfNzInputDirective=M)}},hostVars:40,hostBindings:function(e,n){2&e&&t.ekj("ant-input-group-compact",n.nzCompact)("ant-input-search-enter-button",n.nzSearch)("ant-input-search",n.nzSearch)("ant-input-search-rtl","rtl"===n.dir)("ant-input-search-sm",n.nzSearch&&n.isSmall)("ant-input-search-large",n.nzSearch&&n.isLarge)("ant-input-group-wrapper",n.isAddOn)("ant-input-group-wrapper-rtl","rtl"===n.dir)("ant-input-group-wrapper-lg",n.isAddOn&&n.isLarge)("ant-input-group-wrapper-sm",n.isAddOn&&n.isSmall)("ant-input-affix-wrapper",n.isAffix&&!n.isAddOn)("ant-input-affix-wrapper-rtl","rtl"===n.dir)("ant-input-affix-wrapper-focused",n.isAffix&&n.focused)("ant-input-affix-wrapper-disabled",n.isAffix&&n.disabled)("ant-input-affix-wrapper-lg",n.isAffix&&!n.isAddOn&&n.isLarge)("ant-input-affix-wrapper-sm",n.isAffix&&!n.isAddOn&&n.isSmall)("ant-input-group",!n.isAffix&&!n.isAddOn)("ant-input-group-rtl","rtl"===n.dir)("ant-input-group-lg",!n.isAffix&&!n.isAddOn&&n.isLarge)("ant-input-group-sm",!n.isAffix&&!n.isAddOn&&n.isSmall)},inputs:{nzAddOnBeforeIcon:"nzAddOnBeforeIcon",nzAddOnAfterIcon:"nzAddOnAfterIcon",nzPrefixIcon:"nzPrefixIcon",nzSuffixIcon:"nzSuffixIcon",nzAddOnBefore:"nzAddOnBefore",nzAddOnAfter:"nzAddOnAfter",nzPrefix:"nzPrefix",nzStatus:"nzStatus",nzSuffix:"nzSuffix",nzSize:"nzSize",nzSearch:"nzSearch",nzCompact:"nzCompact"},exportAs:["nzInputGroup"],features:[t._Bn([Cr]),t.TTD],ngContentSelectors:h3,decls:7,vars:2,consts:[["class","ant-input-wrapper ant-input-group",4,"ngIf","ngIfElse"],["noAddOnTemplate",""],["affixTemplate",""],["contentTemplate",""],[1,"ant-input-wrapper","ant-input-group"],["nz-input-group-slot","","type","addon",3,"icon","template",4,"ngIf"],["class","ant-input-affix-wrapper",3,"ant-input-affix-wrapper-disabled","ant-input-affix-wrapper-sm","ant-input-affix-wrapper-lg","ant-input-affix-wrapper-focused","ngClass",4,"ngIf","ngIfElse"],["nz-input-group-slot","","type","addon",3,"icon","template"],[1,"ant-input-affix-wrapper",3,"ngClass"],[3,"ngTemplateOutlet"],[3,"ngIf","ngIfElse"],["nz-input-group-slot","","type","prefix",3,"icon","template",4,"ngIf"],["nz-input-group-slot","","type","suffix",3,"icon","template",4,"ngIf"],["nz-input-group-slot","","type","prefix",3,"icon","template"],["nz-input-group-slot","","type","suffix",3,"icon","template"],[3,"status",4,"ngIf"],[3,"status"],["nz-input-group-slot","","type","suffix",4,"ngIf"],["nz-input-group-slot","","type","suffix"]],template:function(e,n){if(1&e&&(t.F$t(),t.YNc(0,x8,4,4,"span",0),t.YNc(1,w8,1,2,"ng-template",null,1,t.W1O),t.YNc(3,A8,3,3,"ng-template",null,2,t.W1O),t.YNc(5,k8,2,1,"ng-template",null,3,t.W1O)),2&e){const v=t.MAs(2);t.Q6J("ngIf",n.isAddOn)("ngIfElse",v)}},dependencies:[J.mk,J.O5,J.tP,Gs,L8],encapsulation:2,changeDetection:0}),(0,ue.gn)([yt()],i.prototype,"nzSearch",void 0),(0,ue.gn)([yt()],i.prototype,"nzCompact",void 0),i})(),d3=(()=>{class i{constructor(e,n,v,M){this.elementRef=e,this.ngZone=n,this.platform=v,this.resizeService=M,this.autosize=!1,this.el=this.elementRef.nativeElement,this.maxHeight=null,this.minHeight=null,this.destroy$=new q.x,this.inputGap=10}set nzAutosize(e){var v;"string"==typeof e||!0===e?this.autosize=!0:"string"!=typeof(v=e)&&"boolean"!=typeof v&&(v.maxRows||v.minRows)&&(this.autosize=!0,this.minRows=e.minRows,this.maxRows=e.maxRows,this.maxHeight=this.setMaxHeight(),this.minHeight=this.setMinHeight())}resizeToFitContent(e=!1){if(this.cacheTextareaLineHeight(),!this.cachedLineHeight)return;const n=this.el,v=n.value;if(!e&&this.minRows===this.previousMinRows&&v===this.previousValue)return;const M=n.placeholder;n.classList.add("nz-textarea-autosize-measuring"),n.placeholder="";let F=Math.round((n.scrollHeight-this.inputGap)/this.cachedLineHeight)*this.cachedLineHeight+this.inputGap;null!==this.maxHeight&&F>this.maxHeight&&(F=this.maxHeight),null!==this.minHeight&&F<this.minHeight&&(F=this.minHeight),n.style.height=`${F}px`,n.classList.remove("nz-textarea-autosize-measuring"),n.placeholder=M,typeof requestAnimationFrame<"u"&&this.ngZone.runOutsideAngular(()=>requestAnimationFrame(()=>{const{selectionStart:Q,selectionEnd:re}=n;!this.destroy$.isStopped&&document.activeElement===n&&n.setSelectionRange(Q,re)})),this.previousValue=v,this.previousMinRows=this.minRows}cacheTextareaLineHeight(){if(this.cachedLineHeight>=0||!this.el.parentNode)return;const e=this.el.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this.el.parentNode.appendChild(e),this.cachedLineHeight=e.clientHeight-this.inputGap,this.el.parentNode.removeChild(e),this.maxHeight=this.setMaxHeight(),this.minHeight=this.setMinHeight()}setMinHeight(){const e=this.minRows&&this.cachedLineHeight?this.minRows*this.cachedLineHeight+this.inputGap:null;return null!==e&&(this.el.style.minHeight=`${e}px`),e}setMaxHeight(){const e=this.maxRows&&this.cachedLineHeight?this.maxRows*this.cachedLineHeight+this.inputGap:null;return null!==e&&(this.el.style.maxHeight=`${e}px`),e}noopInputHandler(){}ngAfterViewInit(){this.autosize&&this.platform.isBrowser&&(this.resizeToFitContent(),this.resizeService.subscribe().pipe(u(this.destroy$)).subscribe(()=>this.resizeToFitContent(!0)))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngDoCheck(){this.autosize&&this.platform.isBrowser&&this.resizeToFitContent()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(Kt),t.Y36(Ks))},i.\u0275dir=t.lG2({type:i,selectors:[["textarea","nzAutosize",""]],hostAttrs:["rows","1"],hostBindings:function(e,n){1&e&&t.NdJ("input",function(){return n.noopInputHandler()})},inputs:{nzAutosize:"nzAutosize"},exportAs:["nzAutosize"]}),i})(),f3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,Hi,zi,en,G2]}),i})();var Be=Qe(7340);let wi=(()=>{class i{}return i.SLOW="0.3s",i.BASE="0.2s",i.FAST="0.1s",i})(),pi=(()=>{class i{}return i.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",i.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",i.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",i.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",i.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",i.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",i.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",i.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",i.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",i.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",i.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",i.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",i.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",i.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",i})();(0,Be.X$)("collapseMotion",[(0,Be.SB)("expanded",(0,Be.oB)({height:"*"})),(0,Be.SB)("collapsed",(0,Be.oB)({height:0,overflow:"hidden"})),(0,Be.SB)("hidden",(0,Be.oB)({height:0,overflow:"hidden",borderTopWidth:"0"})),(0,Be.eR)("expanded => collapsed",(0,Be.jt)(`150ms ${pi.EASE_IN_OUT}`)),(0,Be.eR)("expanded => hidden",(0,Be.jt)(`150ms ${pi.EASE_IN_OUT}`)),(0,Be.eR)("collapsed => expanded",(0,Be.jt)(`150ms ${pi.EASE_IN_OUT}`)),(0,Be.eR)("hidden => expanded",(0,Be.jt)(`150ms ${pi.EASE_IN_OUT}`))]),(0,Be.X$)("treeCollapseMotion",[(0,Be.eR)("* => *",[(0,Be.IO)("nz-tree-node:leave,nz-tree-builtin-node:leave",[(0,Be.oB)({overflow:"hidden"}),(0,Be.EY)(0,[(0,Be.jt)(`150ms ${pi.EASE_IN_OUT}`,(0,Be.oB)({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),(0,Be.IO)("nz-tree-node:enter,nz-tree-builtin-node:enter",[(0,Be.oB)({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),(0,Be.EY)(0,[(0,Be.jt)(`150ms ${pi.EASE_IN_OUT}`,(0,Be.oB)({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),(0,Be.X$)("fadeMotion",[(0,Be.eR)(":enter",[(0,Be.oB)({opacity:0}),(0,Be.jt)(`${wi.BASE}`,(0,Be.oB)({opacity:1}))]),(0,Be.eR)(":leave",[(0,Be.oB)({opacity:1}),(0,Be.jt)(`${wi.BASE}`,(0,Be.oB)({opacity:0}))])]);const N8=(0,Be.X$)("helpMotion",[(0,Be.eR)(":enter",[(0,Be.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Be.jt)(`${wi.SLOW} ${pi.EASE_IN_OUT}`,(0,Be.oB)({opacity:1,transform:"translateY(0)"}))]),(0,Be.eR)(":leave",[(0,Be.oB)({opacity:1,transform:"translateY(0)"}),(0,Be.jt)(`${wi.SLOW} ${pi.EASE_IN_OUT}`,(0,Be.oB)({opacity:0,transform:"translateY(-5px)"}))])]),H8=((0,Be.X$)("moveUpMotion",[(0,Be.eR)("* => enter",[(0,Be.oB)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),(0,Be.jt)(`${wi.BASE}`,(0,Be.oB)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),(0,Be.eR)("* => leave",[(0,Be.oB)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),(0,Be.jt)(`${wi.BASE}`,(0,Be.oB)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),(0,Be.X$)("notificationMotion",[(0,Be.SB)("enterRight",(0,Be.oB)({opacity:1,transform:"translateX(0)"})),(0,Be.eR)("* => enterRight",[(0,Be.oB)({opacity:0,transform:"translateX(5%)"}),(0,Be.jt)("100ms linear")]),(0,Be.SB)("enterLeft",(0,Be.oB)({opacity:1,transform:"translateX(0)"})),(0,Be.eR)("* => enterLeft",[(0,Be.oB)({opacity:0,transform:"translateX(-5%)"}),(0,Be.jt)("100ms linear")]),(0,Be.SB)("enterTop",(0,Be.oB)({opacity:1,transform:"translateY(0)"})),(0,Be.eR)("* => enterTop",[(0,Be.oB)({opacity:0,transform:"translateY(-5%)"}),(0,Be.jt)("100ms linear")]),(0,Be.SB)("enterBottom",(0,Be.oB)({opacity:1,transform:"translateY(0)"})),(0,Be.eR)("* => enterBottom",[(0,Be.oB)({opacity:0,transform:"translateY(5%)"}),(0,Be.jt)("100ms linear")]),(0,Be.SB)("leave",(0,Be.oB)({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),(0,Be.eR)("* => leave",[(0,Be.oB)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,Be.jt)("100ms linear")])]),`${wi.BASE} ${pi.EASE_OUT_QUINT}`),P8=`${wi.BASE} ${pi.EASE_IN_QUINT}`,F8=(0,Be.X$)("slideMotion",[(0,Be.SB)("void",(0,Be.oB)({opacity:0,transform:"scaleY(0.8)"})),(0,Be.SB)("enter",(0,Be.oB)({opacity:1,transform:"scaleY(1)"})),(0,Be.eR)("void => *",[(0,Be.jt)(H8)]),(0,Be.eR)("* => void",[(0,Be.jt)(P8)])]),R8=((0,Be.X$)("slideAlertMotion",[(0,Be.eR)(":leave",[(0,Be.oB)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,Be.jt)(`${wi.SLOW} ${pi.EASE_IN_OUT_CIRC}`,(0,Be.oB)({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),(0,Be.X$)("zoomBigMotion",[(0,Be.eR)("void => active",[(0,Be.oB)({opacity:0,transform:"scale(0.8)"}),(0,Be.jt)(`${wi.BASE} ${pi.EASE_OUT_CIRC}`,(0,Be.oB)({opacity:1,transform:"scale(1)"}))]),(0,Be.eR)("active => void",[(0,Be.oB)({opacity:1,transform:"scale(1)"}),(0,Be.jt)(`${wi.BASE} ${pi.EASE_IN_OUT_CIRC}`,(0,Be.oB)({opacity:0,transform:"scale(0.8)"}))])]));(0,Be.X$)("zoomBadgeMotion",[(0,Be.eR)(":enter",[(0,Be.oB)({opacity:0,transform:"scale(0) translate(50%, -50%)"}),(0,Be.jt)(`${wi.SLOW} ${pi.EASE_OUT_BACK}`,(0,Be.oB)({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),(0,Be.eR)(":leave",[(0,Be.oB)({opacity:1,transform:"scale(1) translate(50%, -50%)"}),(0,Be.jt)(`${wi.SLOW} ${pi.EASE_IN_BACK}`,(0,Be.oB)({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]),(0,Be.X$)("thumbMotion",[(0,Be.SB)("from",(0,Be.oB)({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),(0,Be.SB)("to",(0,Be.oB)({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),(0,Be.eR)("from => to",(0,Be.jt)(`300ms ${pi.EASE_IN_OUT}`))]);let qs,B8=1;const Er={};function p3(i){return i in Er&&(delete Er[i],!0)}const V8={setImmediate(i){const o=B8++;return Er[o]=!0,qs||(qs=Promise.resolve()),qs.then(()=>p3(o)&&i()),o},clearImmediate(i){p3(i)}},{setImmediate:j8,clearImmediate:Y8}=V8,Or={setImmediate(...i){const{delegate:o}=Or;return(o?.setImmediate||j8)(...i)},clearImmediate(i){const{delegate:o}=Or;return(o?.clearImmediate||Y8)(i)},delegate:void 0},g3=new class G8 extends Zs{flush(o){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let v;o=o||n.shift();do{if(v=o.execute(o.state,o.delay))break}while((o=n[0])&&o.id===e&&n.shift());if(this._active=!1,v){for(;(o=n[0])&&o.id===e&&n.shift();)o.unsubscribe();throw v}}}(class U8 extends Ws{constructor(o,e){super(o,e),this.scheduler=o,this.work=e}requestAsyncId(o,e,n=0){return null!==n&&n>0?super.requestAsyncId(o,e,n):(o.actions.push(this),o._scheduled||(o._scheduled=Or.setImmediate(o.flush.bind(o,void 0))))}recycleAsyncId(o,e,n=0){var v;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(o,e,n);const{actions:M}=o;null!=e&&(null===(v=M[M.length-1])||void 0===v?void 0:v.id)!==e&&(Or.clearImmediate(e),o._scheduled===e&&(o._scheduled=void 0))}});function v3(i,o){return o?e=>(0,$2.z)(o.pipe((0,xi.q)(1),function W8(){return(0,r.e)((i,o)=>{i.subscribe((0,a.x)(o,s.Z))})}()),e.pipe(v3(i))):(0,R.z)((e,n)=>(0,Ee.Xf)(i(e,n)).pipe((0,xi.q)(1),(0,x.h)(e)))}const Po={schedule(i){let o=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=Po;n&&(o=n.requestAnimationFrame,e=n.cancelAnimationFrame);const v=o(M=>{e=void 0,i(M)});return new Fi.w0(()=>e?.(v))},requestAnimationFrame(...i){const{delegate:o}=Po;return(o?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:o}=Po;return(o?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0},J8=new class Q8 extends Zs{flush(o){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let v;o=o||n.shift();do{if(v=o.execute(o.state,o.delay))break}while((o=n[0])&&o.id===e&&n.shift());if(this._active=!1,v){for(;(o=n[0])&&o.id===e&&n.shift();)o.unsubscribe();throw v}}}(class X8 extends Ws{constructor(o,e){super(o,e),this.scheduler=o,this.work=e}requestAsyncId(o,e,n=0){return null!==n&&n>0?super.requestAsyncId(o,e,n):(o.actions.push(this),o._scheduled||(o._scheduled=Po.requestAnimationFrame(()=>o.flush(void 0))))}recycleAsyncId(o,e,n=0){var v;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(o,e,n);const{actions:M}=o;null!=e&&(null===(v=M[M.length-1])||void 0===v?void 0:v.id)!==e&&(Po.cancelAnimationFrame(e),o._scheduled=void 0)}});function m3(i){return!!i&&(i instanceof T.y||(0,y.m)(i.lift)&&(0,y.m)(i.subscribe))}var q8=Qe(4033);class eh{}class ih extends eh{constructor(o){super(),this._data=o}connect(){return m3(this._data)?this._data:(0,Li.of)(this._data)}disconnect(){}}class nh{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(o,e,n,v,M){o.forEachOperation((F,Q,re)=>{let Ce,Le;null==F.previousIndex?(Ce=this._insertView(()=>n(F,Q,re),re,e,v(F)),Le=Ce?1:0):null==re?(this._detachAndCacheView(Q,e),Le=3):(Ce=this._moveView(Q,re,e,v(F)),Le=2),M&&M({context:Ce?.context,operation:Le,record:F})})}detach(){for(const o of this._viewCache)o.destroy();this._viewCache=[]}_insertView(o,e,n,v){const M=this._insertViewFromCache(e,n);if(M)return void(M.context.$implicit=v);const F=o();return n.createEmbeddedView(F.templateRef,F.context,F.index)}_detachAndCacheView(o,e){const n=e.detach(o);this._maybeCacheView(n,e)}_moveView(o,e,n,v){const M=n.get(o);return n.move(M,e),M.context.$implicit=v,M}_maybeCacheView(o,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(o);else{const n=e.indexOf(o);-1===n?o.destroy():e.remove(n)}}_insertViewFromCache(o,e){const n=this._viewCache.pop();return n&&e.insert(n,o),n||null}}const y3=new t.OlP("_ViewRepeater"),oh=["contentWrapper"],rh=["*"],_3=new t.OlP("VIRTUAL_SCROLL_STRATEGY");class ah{constructor(o,e,n){this._scrolledIndexChange=new q.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Zi()),this._viewport=null,this._itemSize=o,this._minBufferPx=e,this._maxBufferPx=n}attach(o){this._viewport=o,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(o,e,n){this._itemSize=o,this._minBufferPx=e,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(o,e){this._viewport&&this._viewport.scrollToOffset(o*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const o=this._viewport.getRenderedRange(),e={start:o.start,end:o.end},n=this._viewport.getViewportSize(),v=this._viewport.getDataLength();let M=this._viewport.measureScrollOffset(),F=this._itemSize>0?M/this._itemSize:0;if(e.end>v){const re=Math.ceil(n/this._itemSize),Ce=Math.max(0,Math.min(F,v-re));F!=Ce&&(F=Ce,M=Ce*this._itemSize,e.start=Math.floor(F)),e.end=Math.max(0,Math.min(v,e.start+re))}const Q=M-e.start*this._itemSize;if(Q<this._minBufferPx&&0!=e.start){const re=Math.ceil((this._maxBufferPx-Q)/this._itemSize);e.start=Math.max(0,e.start-re),e.end=Math.min(v,Math.ceil(F+(n+this._minBufferPx)/this._itemSize))}else{const re=e.end*this._itemSize-(M+n);if(re<this._minBufferPx&&e.end!=v){const Ce=Math.ceil((this._maxBufferPx-re)/this._itemSize);Ce>0&&(e.end=Math.min(v,e.end+Ce),e.start=Math.max(0,Math.floor(F-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(F))}}function sh(i){return i._scrollStrategy}let ch=(()=>{class i{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new ah(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=et(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=et(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=et(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[t._Bn([{provide:_3,useFactory:sh,deps:[(0,t.Gpc)(()=>i)]}]),t.TTD]}),i})(),Ar=(()=>{class i{constructor(e,n,v){this._ngZone=e,this._platform=n,this._scrolled=new q.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=v}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new T.y(n=>{this._globalSubscription||this._addGlobalListener();const v=e>0?this._scrolled.pipe(Sr(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{v.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Li.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const v=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe((0,d.h)(M=>!M||v.indexOf(M)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((v,M)=>{this._scrollableContainsElement(M,e)&&n.push(M)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let v=Ht(n),M=e.getElementRef().nativeElement;do{if(v==M)return!0}while(v=v.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>U(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(t.R0b),t.LFG(Kt),t.LFG(J.K0,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),C3=(()=>{class i{constructor(e,n,v,M){this.elementRef=e,this.scrollDispatcher=n,this.ngZone=v,this.dir=M,this._destroyed=new q.x,this._elementScrolled=new T.y(F=>this.ngZone.runOutsideAngular(()=>U(this.elementRef.nativeElement,"scroll").pipe(u(this._destroyed)).subscribe(F)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const n=this.elementRef.nativeElement,v=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=v?e.end:e.start),null==e.right&&(e.right=v?e.start:e.end),null!=e.bottom&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),v&&0!=Ki()?(null!=e.left&&(e.right=n.scrollWidth-n.clientWidth-e.left),2==Ki()?e.left=e.right:1==Ki()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const n=this.elementRef.nativeElement;qo()?n.scrollTo(e):(null!=e.top&&(n.scrollTop=e.top),null!=e.left&&(n.scrollLeft=e.left))}measureScrollOffset(e){const n="left",v="right",M=this.elementRef.nativeElement;if("top"==e)return M.scrollTop;if("bottom"==e)return M.scrollHeight-M.clientHeight-M.scrollTop;const F=this.dir&&"rtl"==this.dir.value;return"start"==e?e=F?v:n:"end"==e&&(e=F?n:v),F&&2==Ki()?e==n?M.scrollWidth-M.clientWidth-M.scrollLeft:M.scrollLeft:F&&1==Ki()?e==n?M.scrollLeft+M.scrollWidth-M.clientWidth:-M.scrollLeft:e==n?M.scrollLeft:M.scrollWidth-M.clientWidth-M.scrollLeft}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(Ar),t.Y36(t.R0b),t.Y36(Jt,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),i})(),ec=(()=>{class i{constructor(e,n,v){this._platform=e,this._change=new q.x,this._changeListener=M=>{this._change.next(M)},this._document=v,n.runOutsideAngular(()=>{if(e.isBrowser){const M=this._getWindow();M.addEventListener("resize",this._changeListener),M.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:v}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+v,right:e.left+n,height:v,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),v=e.documentElement,M=v.getBoundingClientRect();return{top:-M.top||e.body.scrollTop||n.scrollY||v.scrollTop||0,left:-M.left||e.body.scrollLeft||n.scrollX||v.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Sr(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Kt),t.LFG(t.R0b),t.LFG(J.K0,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const z3=new t.OlP("VIRTUAL_SCROLLABLE");let uh=(()=>{class i extends C3{constructor(e,n,v,M){super(e,n,v,M)}measureViewportSize(e){const n=this.elementRef.nativeElement;return"horizontal"===e?n.clientWidth:n.clientHeight}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(Ar),t.Y36(t.R0b),t.Y36(Jt,8))},i.\u0275dir=t.lG2({type:i,features:[t.qOj]}),i})();const fh=typeof requestAnimationFrame<"u"?J8:g3;let Dr=(()=>{class i extends uh{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=je(e)}constructor(e,n,v,M,F,Q,re,Ce){super(e,Q,v,F),this.elementRef=e,this._changeDetectorRef=n,this._scrollStrategy=M,this.scrollable=Ce,this._platform=(0,t.f3M)(Kt),this._detachedSubject=new q.x,this._renderedRangeSubject=new q.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new T.y(Le=>this._scrollStrategy.scrolledIndexChange.subscribe(ot=>Promise.resolve().then(()=>this.ngZone.run(()=>Le.next(ot))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Fi.w0.EMPTY,this._viewportChanges=re.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,C.O)(null),Sr(0,fh)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(u(this._detachedSubject)).subscribe(n=>{const v=n.length;v!==this._dataLength&&(this._dataLength=v,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function dh(i,o){return i.start==o.start&&i.end==o.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,n="to-start"){e=this.appendOnly&&"to-start"===n?0:e;const M="horizontal"==this.orientation,F=M?"X":"Y";let re=`translate${F}(${Number((M&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===n&&(re+=` translate${F}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=re&&(this._renderedContentTransform=re,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,n="auto"){const v={behavior:n};"horizontal"===this.orientation?v.start=e:v.top=e,this.scrollable.scrollTo(v)}scrollToIndex(e,n="auto"){this._scrollStrategy.scrollToIndex(e,n)}measureScrollOffset(e){let n;return n=this.scrollable==this?v=>super.measureScrollOffset(v):v=>this.scrollable.measureScrollOffset(v),Math.max(0,n(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let n;const v="left",M="right",F="rtl"==this.dir?.value;n="start"==e?F?M:v:"end"==e?F?v:M:e||("horizontal"===this.orientation?"left":"top");const Q=this.scrollable.measureBoundingClientRectWithScrollOffset(n);return this.elementRef.nativeElement.getBoundingClientRect()[n]-Q}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const n of e)n()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(_3,8),t.Y36(Jt,8),t.Y36(Ar),t.Y36(ec),t.Y36(z3,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,n){if(1&e&&t.Gf(oh,7),2&e){let v;t.iGM(v=t.CRH())&&(n._contentWrapper=v.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,n){2&e&&t.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===n.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==n.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[t._Bn([{provide:C3,useFactory:(o,e)=>o||e,deps:[[new t.FiY,new t.tBr(z3)],i]}]),t.qOj,t.jDz],ngContentSelectors:rh,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA(),t._UZ(3,"div",2)),2&e&&(t.xp6(3),t.Udp("width",n._totalContentWidth)("height",n._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),i})();function b3(i,o,e){if(!e.getBoundingClientRect)return 0;const v=e.getBoundingClientRect();return"horizontal"===i?"start"===o?v.left:v.right:"start"===o?v.top:v.bottom}let ph=(()=>{class i{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function th(i){return i&&"function"==typeof i.connect&&!(i instanceof q8.c)}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new ih(m3(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(n,v)=>e(n+(this._renderedRange?this._renderedRange.start:0),v):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=et(e)}constructor(e,n,v,M,F,Q){this._viewContainerRef=e,this._template=n,this._differs=v,this._viewRepeater=M,this._viewport=F,this.viewChange=new q.x,this._dataSourceChanges=new q.x,this.dataStream=this._dataSourceChanges.pipe((0,C.O)(null),function $8(){return(0,r.e)((i,o)=>{let e,n=!1;i.subscribe((0,a.x)(o,v=>{const M=e;e=v,n&&o.next([M,v]),n=!0}))})}(),(0,vn.w)(([re,Ce])=>this._changeDataSource(re,Ce)),function K8(i,o,e){let n,v=!1;return i&&"object"==typeof i?({bufferSize:n=1/0,windowTime:o=1/0,refCount:v=!1,scheduler:e}=i):n=i??1/0,(0,rr.B)({connector:()=>new mn(n,o,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:v})}(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new q.x,this.dataStream.subscribe(re=>{this._data=re,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(u(this._destroyed)).subscribe(re=>{this._renderedRange=re,this.viewChange.observers.length&&Q.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(e,n){if(e.start>=e.end)return 0;const v=e.start-this._renderedRange.start,M=e.end-e.start;let F,Q;for(let re=0;re<M;re++){const Ce=this._viewContainerRef.get(re+v);if(Ce&&Ce.rootNodes.length){F=Q=Ce.rootNodes[0];break}}for(let re=M-1;re>-1;re--){const Ce=this._viewContainerRef.get(re+v);if(Ce&&Ce.rootNodes.length){Q=Ce.rootNodes[Ce.rootNodes.length-1];break}}return F&&Q?b3(n,"end",Q)-b3(n,"start",F):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,n)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,n):n)),this._needsUpdate=!0)}_changeDataSource(e,n){return e&&e.disconnect(this),this._needsUpdate=!0,n?n.connect(this):(0,Li.of)()}_updateContext(){const e=this._data.length;let n=this._viewContainerRef.length;for(;n--;){const v=this._viewContainerRef.get(n);v.context.index=this._renderedRange.start+n,v.context.count=e,this._updateComputedContextProperties(v.context),v.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(M,F,Q)=>this._getEmbeddedViewArgs(M,Q),M=>M.item),e.forEachIdentityChange(M=>{this._viewContainerRef.get(M.currentIndex).context.$implicit=M.item});const n=this._data.length;let v=this._viewContainerRef.length;for(;v--;){const M=this._viewContainerRef.get(v);M.context.index=this._renderedRange.start+v,M.context.count=n,this._updateComputedContextProperties(M.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,n){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:n}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(t.ZZ4),t.Y36(y3),t.Y36(Dr,4),t.Y36(t.R0b))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[t._Bn([{provide:y3,useClass:nh}])]}),i})(),x3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})(),tc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,x3,Dr,qt,x3]}),i})();var gh=Qe(2529);class ic{attach(o){return this._attachedHost=o,o.attach(this)}detach(){let o=this._attachedHost;null!=o&&(this._attachedHost=null,o.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(o){this._attachedHost=o}}class kr extends ic{constructor(o,e,n,v,M){super(),this.component=o,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=v,this.projectableNodes=M}}class Lr extends ic{constructor(o,e,n,v){super(),this.templateRef=o,this.viewContainerRef=e,this.context=n,this.injector=v}get origin(){return this.templateRef.elementRef}attach(o,e=this.context){return this.context=e,super.attach(o)}detach(){return this.context=void 0,super.detach()}}class vh extends ic{constructor(o){super(),this.element=o instanceof t.SBq?o.nativeElement:o}}class nc{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(o){return o instanceof kr?(this._attachedPortal=o,this.attachComponentPortal(o)):o instanceof Lr?(this._attachedPortal=o,this.attachTemplatePortal(o)):this.attachDomPortal&&o instanceof vh?(this._attachedPortal=o,this.attachDomPortal(o)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(o){this._disposeFn=o}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class mh extends nc{constructor(o,e,n,v,M){super(),this.outletElement=o,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=v,this.attachDomPortal=F=>{const Q=F.element,re=this._document.createComment("dom-portal");Q.parentNode.insertBefore(re,Q),this.outletElement.appendChild(Q),this._attachedPortal=F,super.setDisposeFn(()=>{re.parentNode&&re.parentNode.replaceChild(Q,re)})},this._document=M}attachComponentPortal(o){const n=(o.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(o.component);let v;return o.viewContainerRef?(v=o.viewContainerRef.createComponent(n,o.viewContainerRef.length,o.injector||o.viewContainerRef.injector,o.projectableNodes||void 0),this.setDisposeFn(()=>v.destroy())):(v=n.create(o.injector||this._defaultInjector||t.zs3.NULL),this._appRef.attachView(v.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(v.hostView),v.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(v)),this._attachedPortal=o,v}attachTemplatePortal(o){let e=o.viewContainerRef,n=e.createEmbeddedView(o.templateRef,o.context,{injector:o.injector});return n.rootNodes.forEach(v=>this.outletElement.appendChild(v)),n.detectChanges(),this.setDisposeFn(()=>{let v=e.indexOf(n);-1!==v&&e.remove(v)}),this._attachedPortal=o,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(o){return o.hostView.rootNodes[0]}}let Fo=(()=>{class i extends nc{constructor(e,n,v){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new t.vpe,this.attachDomPortal=M=>{const F=M.element,Q=this._document.createComment("dom-portal");M.setAttachedHost(this),F.parentNode.insertBefore(Q,F),this._getRootNode().appendChild(F),this._attachedPortal=M,super.setDisposeFn(()=>{Q.parentNode&&Q.parentNode.replaceChild(F,Q)})},this._document=v}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,M=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),F=n.createComponent(M,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(F.hostView.rootNodes[0]),super.setDisposeFn(()=>F.destroy()),this._attachedPortal=e,this._attachedRef=F,this.attached.emit(F),F}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t._Vd),t.Y36(t.s_b),t.Y36(J.K0))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[t.qOj]}),i})(),M3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})();const S3=qo();class yh{constructor(o,e){this._viewportRuler=o,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const o=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=o.style.left||"",this._previousHTMLStyles.top=o.style.top||"",o.style.left=Ue(-this._previousScrollPosition.left),o.style.top=Ue(-this._previousScrollPosition.top),o.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const o=this._document.documentElement,n=o.style,v=this._document.body.style,M=n.scrollBehavior||"",F=v.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,o.classList.remove("cdk-global-scrollblock"),S3&&(n.scrollBehavior=v.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),S3&&(n.scrollBehavior=M,v.scrollBehavior=F)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class _h{constructor(o,e,n,v){this._scrollDispatcher=o,this._ngZone=e,this._viewportRuler=n,this._config=v,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(o){this._overlayRef=o}enable(){if(this._scrollSubscription)return;const o=this._scrollDispatcher.scrolled(0).pipe((0,d.h)(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=o.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=o.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class w3{enable(){}disable(){}attach(){}}function oc(i,o){return o.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function T3(i,o){return o.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class Ch{constructor(o,e,n,v){this._scrollDispatcher=o,this._viewportRuler=e,this._ngZone=n,this._config=v,this._scrollSubscription=null}attach(o){this._overlayRef=o}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:v}=this._viewportRuler.getViewportSize();oc(e,[{width:n,height:v,bottom:v,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let zh=(()=>{class i{constructor(e,n,v,M){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=v,this.noop=()=>new w3,this.close=F=>new _h(this._scrollDispatcher,this._ngZone,this._viewportRuler,F),this.block=()=>new yh(this._viewportRuler,this._document),this.reposition=F=>new Ch(this._scrollDispatcher,this._viewportRuler,this._ngZone,F),this._document=M}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Ar),t.LFG(ec),t.LFG(t.R0b),t.LFG(J.K0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class rc{constructor(o){if(this.scrollStrategy=new w3,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,o){const e=Object.keys(o);for(const n of e)void 0!==o[n]&&(this[n]=o[n])}}}class $t{constructor(o,e,n,v,M){this.offsetX=n,this.offsetY=v,this.panelClass=M,this.originX=o.originX,this.originY=o.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class bh{constructor(o,e){this.connectionPair=o,this.scrollableViewProperties=e}}let I3=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(J.K0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xh=(()=>{class i extends I3{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=v=>{const M=this._attachedOverlays;for(let F=M.length-1;F>-1;F--)if(M[F]._keydownEvents.observers.length>0){const Q=M[F]._keydownEvents;this._ngZone?this._ngZone.run(()=>Q.next(v)):Q.next(v);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(J.K0),t.LFG(t.R0b,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Mh=(()=>{class i extends I3{constructor(e,n,v){super(e),this._platform=n,this._ngZone=v,this._cursorStyleIsSet=!1,this._pointerDownListener=M=>{this._pointerDownEventTarget=Mt(M)},this._clickListener=M=>{const F=Mt(M),Q="click"===M.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:F;this._pointerDownEventTarget=null;const re=this._attachedOverlays.slice();for(let Ce=re.length-1;Ce>-1;Ce--){const Le=re[Ce];if(Le._outsidePointerEvents.observers.length<1||!Le.hasAttached())continue;if(Le.overlayElement.contains(F)||Le.overlayElement.contains(Q))break;const ot=Le._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ot.next(M)):ot.next(M)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(J.K0),t.LFG(Kt),t.LFG(t.R0b,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),E3=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Et()){const v=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let M=0;M<v.length;M++)v[M].remove()}const n=this._document.createElement("div");n.classList.add(e),Et()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(J.K0),t.LFG(Kt))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Nr{constructor(o,e,n,v,M,F,Q,re,Ce,Le=!1){this._portalOutlet=o,this._host=e,this._pane=n,this._config=v,this._ngZone=M,this._keyboardDispatcher=F,this._document=Q,this._location=re,this._outsideClickDispatcher=Ce,this._animationsDisabled=Le,this._backdropElement=null,this._backdropClick=new q.x,this._attachments=new q.x,this._detachments=new q.x,this._locationChanges=Fi.w0.EMPTY,this._backdropClickHandler=ot=>this._backdropClick.next(ot),this._backdropTransitionendHandler=ot=>{this._disposeBackdrop(ot.target)},this._keydownEvents=new q.x,this._outsidePointerEvents=new q.x,v.scrollStrategy&&(this._scrollStrategy=v.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=v.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(o){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(o);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,xi.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const o=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),o}dispose(){const o=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,o&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(o){o!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=o,this.hasAttached()&&(o.attach(this),this.updatePosition()))}updateSize(o){this._config={...this._config,...o},this._updateElementSize()}setDirection(o){this._config={...this._config,direction:o},this._updateElementDirection()}addPanelClass(o){this._pane&&this._toggleClasses(this._pane,o,!0)}removePanelClass(o){this._pane&&this._toggleClasses(this._pane,o,!1)}getDirection(){const o=this._config.direction;return o?"string"==typeof o?o:o.value:"ltr"}updateScrollStrategy(o){o!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=o,this.hasAttached()&&(o.attach(this),o.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const o=this._pane.style;o.width=Ue(this._config.width),o.height=Ue(this._config.height),o.minWidth=Ue(this._config.minWidth),o.minHeight=Ue(this._config.minHeight),o.maxWidth=Ue(this._config.maxWidth),o.maxHeight=Ue(this._config.maxHeight)}_togglePointerEvents(o){this._pane.style.pointerEvents=o?"":"none"}_attachBackdrop(){const o="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(o)})}):this._backdropElement.classList.add(o)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const o=this._backdropElement;if(o){if(this._animationsDisabled)return void this._disposeBackdrop(o);o.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{o.addEventListener("transitionend",this._backdropTransitionendHandler)}),o.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(o)},500))}}_toggleClasses(o,e,n){const v=ct(e||[]).filter(M=>!!M);v.length&&(n?o.classList.add(...v):o.classList.remove(...v))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const o=this._ngZone.onStable.pipe(u((0,No.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),o.unsubscribe())})})}_disposeScrollStrategy(){const o=this._scrollStrategy;o&&(o.disable(),o.detach&&o.detach())}_disposeBackdrop(o){o&&(o.removeEventListener("click",this._backdropClickHandler),o.removeEventListener("transitionend",this._backdropTransitionendHandler),o.remove(),this._backdropElement===o&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const O3="cdk-overlay-connected-position-bounding-box",Sh=/([A-Za-z%]+)$/;class wh{get positions(){return this._preferredPositions}constructor(o,e,n,v,M){this._viewportRuler=e,this._document=n,this._platform=v,this._overlayContainer=M,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new q.x,this._resizeSubscription=Fi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(o)}attach(o){this._validatePositions(),o.hostElement.classList.add(O3),this._overlayRef=o,this._boundingBox=o.hostElement,this._pane=o.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const o=this._originRect,e=this._overlayRect,n=this._viewportRect,v=this._containerRect,M=[];let F;for(let Q of this._preferredPositions){let re=this._getOriginPoint(o,v,Q),Ce=this._getOverlayPoint(re,e,Q),Le=this._getOverlayFit(Ce,e,n,Q);if(Le.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Q,re);this._canFitWithFlexibleDimensions(Le,Ce,n)?M.push({position:Q,origin:re,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(re,Q)}):(!F||F.overlayFit.visibleArea<Le.visibleArea)&&(F={overlayFit:Le,overlayPoint:Ce,originPoint:re,position:Q,overlayRect:e})}if(M.length){let Q=null,re=-1;for(const Ce of M){const Le=Ce.boundingBoxRect.width*Ce.boundingBoxRect.height*(Ce.position.weight||1);Le>re&&(re=Le,Q=Ce)}return this._isPushed=!1,void this._applyPosition(Q.position,Q.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(F.position,F.originPoint);this._applyPosition(F.position,F.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&_n(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(O3),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const o=this._lastPosition;if(o){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,o);this._applyPosition(o,e)}else this.apply()}withScrollableContainers(o){return this._scrollables=o,this}withPositions(o){return this._preferredPositions=o,-1===o.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(o){return this._viewportMargin=o,this}withFlexibleDimensions(o=!0){return this._hasFlexibleDimensions=o,this}withGrowAfterOpen(o=!0){return this._growAfterOpen=o,this}withPush(o=!0){return this._canPush=o,this}withLockedPosition(o=!0){return this._positionLocked=o,this}setOrigin(o){return this._origin=o,this}withDefaultOffsetX(o){return this._offsetX=o,this}withDefaultOffsetY(o){return this._offsetY=o,this}withTransformOriginOn(o){return this._transformOriginSelector=o,this}_getOriginPoint(o,e,n){let v,M;if("center"==n.originX)v=o.left+o.width/2;else{const F=this._isRtl()?o.right:o.left,Q=this._isRtl()?o.left:o.right;v="start"==n.originX?F:Q}return e.left<0&&(v-=e.left),M="center"==n.originY?o.top+o.height/2:"top"==n.originY?o.top:o.bottom,e.top<0&&(M-=e.top),{x:v,y:M}}_getOverlayPoint(o,e,n){let v,M;return v="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,M="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:o.x+v,y:o.y+M}}_getOverlayFit(o,e,n,v){const M=D3(e);let{x:F,y:Q}=o,re=this._getOffset(v,"x"),Ce=this._getOffset(v,"y");re&&(F+=re),Ce&&(Q+=Ce);let xt=0-Q,wt=Q+M.height-n.height,Qt=this._subtractOverflows(M.width,0-F,F+M.width-n.width),ii=this._subtractOverflows(M.height,xt,wt),jn=Qt*ii;return{visibleArea:jn,isCompletelyWithinViewport:M.width*M.height===jn,fitsInViewportVertically:ii===M.height,fitsInViewportHorizontally:Qt==M.width}}_canFitWithFlexibleDimensions(o,e,n){if(this._hasFlexibleDimensions){const v=n.bottom-e.y,M=n.right-e.x,F=A3(this._overlayRef.getConfig().minHeight),Q=A3(this._overlayRef.getConfig().minWidth);return(o.fitsInViewportVertically||null!=F&&F<=v)&&(o.fitsInViewportHorizontally||null!=Q&&Q<=M)}return!1}_pushOverlayOnScreen(o,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:o.x+this._previousPushAmount.x,y:o.y+this._previousPushAmount.y};const v=D3(e),M=this._viewportRect,F=Math.max(o.x+v.width-M.width,0),Q=Math.max(o.y+v.height-M.height,0),re=Math.max(M.top-n.top-o.y,0),Ce=Math.max(M.left-n.left-o.x,0);let Le=0,ot=0;return Le=v.width<=M.width?Ce||-F:o.x<this._viewportMargin?M.left-n.left-o.x:0,ot=v.height<=M.height?re||-Q:o.y<this._viewportMargin?M.top-n.top-o.y:0,this._previousPushAmount={x:Le,y:ot},{x:o.x+Le,y:o.y+ot}}_applyPosition(o,e){if(this._setTransformOrigin(o),this._setOverlayElementStyles(e,o),this._setBoundingBoxStyles(e,o),o.panelClass&&this._addPanelClasses(o.panelClass),this._lastPosition=o,this._positionChanges.observers.length){const n=this._getScrollVisibility(),v=new bh(o,n);this._positionChanges.next(v)}this._isInitialRender=!1}_setTransformOrigin(o){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,v=o.overlayY;n="center"===o.overlayX?"center":this._isRtl()?"start"===o.overlayX?"right":"left":"start"===o.overlayX?"left":"right";for(let M=0;M<e.length;M++)e[M].style.transformOrigin=`${n} ${v}`}_calculateBoundingBoxRect(o,e){const n=this._viewportRect,v=this._isRtl();let M,F,Q,Le,ot,xt;if("top"===e.overlayY)F=o.y,M=n.height-F+this._viewportMargin;else if("bottom"===e.overlayY)Q=n.height-o.y+2*this._viewportMargin,M=n.height-Q+this._viewportMargin;else{const wt=Math.min(n.bottom-o.y+n.top,o.y),Qt=this._lastBoundingBoxSize.height;M=2*wt,F=o.y-wt,M>Qt&&!this._isInitialRender&&!this._growAfterOpen&&(F=o.y-Qt/2)}if("end"===e.overlayX&&!v||"start"===e.overlayX&&v)xt=n.width-o.x+this._viewportMargin,Le=o.x-this._viewportMargin;else if("start"===e.overlayX&&!v||"end"===e.overlayX&&v)ot=o.x,Le=n.right-o.x;else{const wt=Math.min(n.right-o.x+n.left,o.x),Qt=this._lastBoundingBoxSize.width;Le=2*wt,ot=o.x-wt,Le>Qt&&!this._isInitialRender&&!this._growAfterOpen&&(ot=o.x-Qt/2)}return{top:F,left:ot,bottom:Q,right:xt,width:Le,height:M}}_setBoundingBoxStyles(o,e){const n=this._calculateBoundingBoxRect(o,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const v={};if(this._hasExactPosition())v.top=v.left="0",v.bottom=v.right=v.maxHeight=v.maxWidth="",v.width=v.height="100%";else{const M=this._overlayRef.getConfig().maxHeight,F=this._overlayRef.getConfig().maxWidth;v.height=Ue(n.height),v.top=Ue(n.top),v.bottom=Ue(n.bottom),v.width=Ue(n.width),v.left=Ue(n.left),v.right=Ue(n.right),v.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",v.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",M&&(v.maxHeight=Ue(M)),F&&(v.maxWidth=Ue(F))}this._lastBoundingBoxSize=n,_n(this._boundingBox.style,v)}_resetBoundingBoxStyles(){_n(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){_n(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(o,e){const n={},v=this._hasExactPosition(),M=this._hasFlexibleDimensions,F=this._overlayRef.getConfig();if(v){const Le=this._viewportRuler.getViewportScrollPosition();_n(n,this._getExactOverlayY(e,o,Le)),_n(n,this._getExactOverlayX(e,o,Le))}else n.position="static";let Q="",re=this._getOffset(e,"x"),Ce=this._getOffset(e,"y");re&&(Q+=`translateX(${re}px) `),Ce&&(Q+=`translateY(${Ce}px)`),n.transform=Q.trim(),F.maxHeight&&(v?n.maxHeight=Ue(F.maxHeight):M&&(n.maxHeight="")),F.maxWidth&&(v?n.maxWidth=Ue(F.maxWidth):M&&(n.maxWidth="")),_n(this._pane.style,n)}_getExactOverlayY(o,e,n){let v={top:"",bottom:""},M=this._getOverlayPoint(e,this._overlayRect,o);return this._isPushed&&(M=this._pushOverlayOnScreen(M,this._overlayRect,n)),"bottom"===o.overlayY?v.bottom=this._document.documentElement.clientHeight-(M.y+this._overlayRect.height)+"px":v.top=Ue(M.y),v}_getExactOverlayX(o,e,n){let F,v={left:"",right:""},M=this._getOverlayPoint(e,this._overlayRect,o);return this._isPushed&&(M=this._pushOverlayOnScreen(M,this._overlayRect,n)),F=this._isRtl()?"end"===o.overlayX?"left":"right":"end"===o.overlayX?"right":"left","right"===F?v.right=this._document.documentElement.clientWidth-(M.x+this._overlayRect.width)+"px":v.left=Ue(M.x),v}_getScrollVisibility(){const o=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(v=>v.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:T3(o,n),isOriginOutsideView:oc(o,n),isOverlayClipped:T3(e,n),isOverlayOutsideView:oc(e,n)}}_subtractOverflows(o,...e){return e.reduce((n,v)=>n-Math.max(v,0),o)}_getNarrowedViewportRect(){const o=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+o-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:o-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(o,e){return"x"===e?null==o.offsetX?this._offsetX:o.offsetX:null==o.offsetY?this._offsetY:o.offsetY}_validatePositions(){}_addPanelClasses(o){this._pane&&ct(o).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(o=>{this._pane.classList.remove(o)}),this._appliedPanelClasses=[])}_getOriginRect(){const o=this._origin;if(o instanceof t.SBq)return o.nativeElement.getBoundingClientRect();if(o instanceof Element)return o.getBoundingClientRect();const e=o.width||0,n=o.height||0;return{top:o.y,bottom:o.y+n,left:o.x,right:o.x+e,height:n,width:e}}}function _n(i,o){for(let e in o)o.hasOwnProperty(e)&&(i[e]=o[e]);return i}function A3(i){if("number"!=typeof i&&null!=i){const[o,e]=i.split(Sh);return e&&"px"!==e?null:parseFloat(o)}return i||null}function D3(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const k3="cdk-global-overlay-wrapper";class Th{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(o){const e=o.getConfig();this._overlayRef=o,this._width&&!e.width&&o.updateSize({width:this._width}),this._height&&!e.height&&o.updateSize({height:this._height}),o.hostElement.classList.add(k3),this._isDisposed=!1}top(o=""){return this._bottomOffset="",this._topOffset=o,this._alignItems="flex-start",this}left(o=""){return this._xOffset=o,this._xPosition="left",this}bottom(o=""){return this._topOffset="",this._bottomOffset=o,this._alignItems="flex-end",this}right(o=""){return this._xOffset=o,this._xPosition="right",this}start(o=""){return this._xOffset=o,this._xPosition="start",this}end(o=""){return this._xOffset=o,this._xPosition="end",this}width(o=""){return this._overlayRef?this._overlayRef.updateSize({width:o}):this._width=o,this}height(o=""){return this._overlayRef?this._overlayRef.updateSize({height:o}):this._height=o,this}centerHorizontally(o=""){return this.left(o),this._xPosition="center",this}centerVertically(o=""){return this.top(o),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const o=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:v,height:M,maxWidth:F,maxHeight:Q}=n,re=!("100%"!==v&&"100vw"!==v||F&&"100%"!==F&&"100vw"!==F),Ce=!("100%"!==M&&"100vh"!==M||Q&&"100%"!==Q&&"100vh"!==Q),Le=this._xPosition,ot=this._xOffset,xt="rtl"===this._overlayRef.getConfig().direction;let wt="",Qt="",ii="";re?ii="flex-start":"center"===Le?(ii="center",xt?Qt=ot:wt=ot):xt?"left"===Le||"end"===Le?(ii="flex-end",wt=ot):("right"===Le||"start"===Le)&&(ii="flex-start",Qt=ot):"left"===Le||"start"===Le?(ii="flex-start",wt=ot):("right"===Le||"end"===Le)&&(ii="flex-end",Qt=ot),o.position=this._cssPosition,o.marginLeft=re?"0":wt,o.marginTop=Ce?"0":this._topOffset,o.marginBottom=this._bottomOffset,o.marginRight=re?"0":Qt,e.justifyContent=ii,e.alignItems=Ce?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const o=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(k3),n.justifyContent=n.alignItems=o.marginTop=o.marginBottom=o.marginLeft=o.marginRight=o.position="",this._overlayRef=null,this._isDisposed=!0}}let Ih=(()=>{class i{constructor(e,n,v,M){this._viewportRuler=e,this._document=n,this._platform=v,this._overlayContainer=M}global(){return new Th}flexibleConnectedTo(e){return new wh(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(ec),t.LFG(J.K0),t.LFG(Kt),t.LFG(E3))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Eh=0,Hr=(()=>{class i{constructor(e,n,v,M,F,Q,re,Ce,Le,ot,xt,wt){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=v,this._positionBuilder=M,this._keyboardDispatcher=F,this._injector=Q,this._ngZone=re,this._document=Ce,this._directionality=Le,this._location=ot,this._outsideClickDispatcher=xt,this._animationsModuleType=wt}create(e){const n=this._createHostElement(),v=this._createPaneElement(n),M=this._createPortalOutlet(v),F=new rc(e);return F.direction=F.direction||this._directionality.value,new Nr(M,n,v,F,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+Eh++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(t.z2F)),new mh(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(zh),t.LFG(E3),t.LFG(t._Vd),t.LFG(Ih),t.LFG(xh),t.LFG(t.zs3),t.LFG(t.R0b),t.LFG(J.K0),t.LFG(Jt),t.LFG(J.Ye),t.LFG(Mh),t.LFG(t.QbO,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Oh=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],L3=new t.OlP("cdk-connected-overlay-scroll-strategy");let Pr=(()=>{class i{constructor(e){this.elementRef=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),i})(),Fr=(()=>{class i{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=je(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=je(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=je(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=je(e)}get push(){return this._push}set push(e){this._push=je(e)}constructor(e,n,v,M,F){this._overlay=e,this._dir=F,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Fi.w0.EMPTY,this._attachSubscription=Fi.w0.EMPTY,this._detachSubscription=Fi.w0.EMPTY,this._positionSubscription=Fi.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new t.vpe,this.positionChange=new t.vpe,this.attach=new t.vpe,this.detach=new t.vpe,this.overlayKeydown=new t.vpe,this.overlayOutsideClick=new t.vpe,this._templatePortal=new Lr(n,v),this._scrollStrategyFactory=M,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Oh);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!Z2(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new rc({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){const n=this.positions.map(v=>({originX:v.originX,originY:v.originY,overlayX:v.overlayX,overlayY:v.overlayY,offsetX:v.offsetX||this.offsetX,offsetY:v.offsetY||this.offsetY,panelClass:v.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Pr?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,gh.o)(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Hr),t.Y36(t.Rgc),t.Y36(t.s_b),t.Y36(L3),t.Y36(Jt,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[t.TTD]}),i})();const Dh={provide:L3,deps:[Hr],useFactory:function Ah(i){return()=>i.scrollStrategies.reposition()}};let N3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[Hr,Dh],imports:[qt,M3,tc,tc]}),i})();const ti={top:new $t({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new $t({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new $t({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new $t({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new $t({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new $t({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new $t({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new $t({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new $t({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new $t({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new $t({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new $t({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new $t({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new $t({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},H3=[ti.top,ti.right,ti.bottom,ti.left];function ac(i){for(const o in ti)if(i.connectionPair.originX===ti[o].originX&&i.connectionPair.originY===ti[o].originY&&i.connectionPair.overlayX===ti[o].overlayX&&i.connectionPair.overlayY===ti[o].overlayY)return o}new $t({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new $t({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new $t({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"}),new $t({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),new $t({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),new $t({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),new $t({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2);let P3=(()=>{class i{constructor(e,n){this.cdkConnectedOverlay=e,this.nzDestroyService=n,this.nzArrowPointAtCenter=!1,this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop",this.cdkConnectedOverlay.positionChange.pipe(u(this.nzDestroyService)).subscribe(v=>{this.nzArrowPointAtCenter&&this.updateArrowPosition(v)})}updateArrowPosition(e){const n=this.getOriginRect(),v=ac(e);let M=0,F=0;"topLeft"===v||"bottomLeft"===v?M=n.width/2-14:"topRight"===v||"bottomRight"===v?M=-(n.width/2-14):"leftTop"===v||"rightTop"===v?F=n.height/2-10:("leftBottom"===v||"rightBottom"===v)&&(F=-(n.height/2-10)),(this.cdkConnectedOverlay.offsetX!==M||this.cdkConnectedOverlay.offsetY!==F)&&(this.cdkConnectedOverlay.offsetY=F,this.cdkConnectedOverlay.offsetX=M,this.cdkConnectedOverlay.overlayRef.updatePosition())}getFlexibleConnectedPositionStrategyOrigin(){return this.cdkConnectedOverlay.origin instanceof Pr?this.cdkConnectedOverlay.origin.elementRef:this.cdkConnectedOverlay.origin}getOriginRect(){const e=this.getFlexibleConnectedPositionStrategyOrigin();if(e instanceof t.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const n=e.width||0,v=e.height||0;return{top:e.y,bottom:e.y+v,left:e.x,right:e.x+n,height:v,width:n}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Fr),t.Y36(Ai))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],inputs:{nzArrowPointAtCenter:"nzArrowPointAtCenter"},exportAs:["nzConnectedOverlay"],features:[t._Bn([Ai])]}),(0,ue.gn)([yt()],i.prototype,"nzArrowPointAtCenter",void 0),i})(),F3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})();const R3="nz-animate-disabled";let tn=(()=>{class i{constructor(e,n,v){this.element=e,this.renderer=n,this.animationType=v,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){const e=Ht(this.element);e&&(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(e,R3):this.renderer.removeClass(e,R3))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.QbO,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[t.TTD]}),(0,ue.gn)([yt()],i.prototype,"nzNoAnimation",void 0),i})(),B3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[J.ez]}),i})();const kh=["overlay"];function Lh(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.nzTitle)}}function Nh(i,o){if(1&i&&(t.TgZ(0,"div",2)(1,"div",3)(2,"div",4),t._UZ(3,"span",5),t.qZA(),t.TgZ(4,"div",6),t.YNc(5,Lh,2,1,"ng-container",7),t.qZA()()()),2&i){const e=t.oxw();t.ekj("ant-tooltip-rtl","rtl"===e.dir),t.Q6J("ngClass",e._classMap)("ngStyle",e.nzOverlayStyle)("@.disabled",!(null==e.noAnimation||!e.noAnimation.nzNoAnimation))("nzNoAnimation",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),t.xp6(3),t.Q6J("ngStyle",e._contentStyleMap),t.xp6(1),t.Q6J("ngStyle",e._contentStyleMap),t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzTitle)("nzStringTemplateOutletContext",e.nzTitleContext)}}let Hh=(()=>{class i{constructor(e,n,v,M,F,Q){this.elementRef=e,this.hostView=n,this.resolver=v,this.renderer=M,this.noAnimation=F,this.nzConfigService=Q,this.visibleChange=new t.vpe,this.internalVisible=!1,this.destroy$=new q.x,this.triggerDisposables=[]}get _title(){return this.title||this.directiveTitle||null}get _content(){return this.content||this.directiveContent||null}get _trigger(){return typeof this.trigger<"u"?this.trigger:"hover"}get _placement(){const e=this.placement;return Array.isArray(e)&&e.length>0?e:"string"==typeof e&&e?[e]:["top"]}get _visible(){return(typeof this.visible<"u"?this.visible:this.internalVisible)||!1}get _mouseEnterDelay(){return this.mouseEnterDelay||.15}get _mouseLeaveDelay(){return this.mouseLeaveDelay||.1}get _overlayClassName(){return this.overlayClassName||null}get _overlayStyle(){return this.overlayStyle||null}getProxyPropertyMap(){return{noAnimation:["noAnimation",()=>!!this.noAnimation]}}ngOnChanges(e){const{trigger:n}=e;n&&!n.isFirstChange()&&this.registerTriggers(),this.component&&this.updatePropertiesByChanges(e)}ngAfterViewInit(){this.createComponent(),this.registerTriggers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearTogglingTimer(),this.removeTriggerListeners()}show(){this.component?.show()}hide(){this.component?.hide()}updatePosition(){this.component&&this.component.updatePosition()}createComponent(){const e=this.componentRef;this.component=e.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),e.location.nativeElement),this.component.setOverlayOrigin(this.origin||this.elementRef),this.initProperties();const n=this.component.nzVisibleChange.pipe(Zi());n.pipe(u(this.destroy$)).subscribe(v=>{this.internalVisible=v,this.visibleChange.emit(v)}),n.pipe((0,d.h)(v=>v),function Z8(i,o=br){const e=Js(i,o);return v3(()=>e)}(0,g3),(0,d.h)(()=>Boolean(this.component?.overlay?.overlayRef)),u(this.destroy$)).subscribe(()=>{this.component?.updatePosition()})}registerTriggers(){const e=this.elementRef.nativeElement,n=this.trigger;if(this.removeTriggerListeners(),"hover"===n){let v;this.triggerDisposables.push(this.renderer.listen(e,"mouseenter",()=>{this.delayEnterLeave(!0,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(e,"mouseleave",()=>{this.delayEnterLeave(!0,!1,this._mouseLeaveDelay),this.component?.overlay.overlayRef&&!v&&(v=this.component.overlay.overlayRef.overlayElement,this.triggerDisposables.push(this.renderer.listen(v,"mouseenter",()=>{this.delayEnterLeave(!1,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(v,"mouseleave",()=>{this.delayEnterLeave(!1,!1,this._mouseLeaveDelay)})))}))}else"focus"===n?(this.triggerDisposables.push(this.renderer.listen(e,"focusin",()=>this.show())),this.triggerDisposables.push(this.renderer.listen(e,"focusout",()=>this.hide()))):"click"===n&&this.triggerDisposables.push(this.renderer.listen(e,"click",v=>{v.preventDefault(),this.show()}))}updatePropertiesByChanges(e){this.updatePropertiesByKeys(Object.keys(e))}updatePropertiesByKeys(e){const n={title:["nzTitle",()=>this._title],directiveTitle:["nzTitle",()=>this._title],content:["nzContent",()=>this._content],directiveContent:["nzContent",()=>this._content],trigger:["nzTrigger",()=>this._trigger],placement:["nzPlacement",()=>this._placement],visible:["nzVisible",()=>this._visible],mouseEnterDelay:["nzMouseEnterDelay",()=>this._mouseEnterDelay],mouseLeaveDelay:["nzMouseLeaveDelay",()=>this._mouseLeaveDelay],overlayClassName:["nzOverlayClassName",()=>this._overlayClassName],overlayStyle:["nzOverlayStyle",()=>this._overlayStyle],arrowPointAtCenter:["nzArrowPointAtCenter",()=>this.arrowPointAtCenter],...this.getProxyPropertyMap()};(e||Object.keys(n).filter(v=>!v.startsWith("directive"))).forEach(v=>{if(n[v]){const[M,F]=n[v];this.updateComponentValue(M,F())}}),this.component?.updateByDirective()}initProperties(){this.updatePropertiesByKeys()}updateComponentValue(e,n){typeof n<"u"&&(this.component[e]=n)}delayEnterLeave(e,n,v=-1){this.delayTimer?this.clearTogglingTimer():v>0?this.delayTimer=setTimeout(()=>{this.delayTimer=void 0,n?this.show():this.hide()},1e3*v):n&&e?this.show():this.hide()}removeTriggerListeners(){this.triggerDisposables.forEach(e=>e()),this.triggerDisposables.length=0}clearTogglingTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.s_b),t.Y36(t._Vd),t.Y36(t.Qsj),t.Y36(tn),t.Y36(Ci))},i.\u0275dir=t.lG2({type:i,features:[t.TTD]}),i})(),Ph=(()=>{class i{constructor(e,n,v){this.cdr=e,this.directionality=n,this.noAnimation=v,this.nzTitle=null,this.nzContent=null,this.nzArrowPointAtCenter=!1,this.nzOverlayStyle={},this.nzBackdrop=!1,this.nzVisibleChange=new q.x,this._visible=!1,this._trigger="hover",this.preferredPlacement="top",this.dir="ltr",this._classMap={},this._prefix="ant-tooltip",this._positions=[...H3],this.destroy$=new q.x}set nzVisible(e){const n=ci(e);this._visible!==n&&(this._visible=n,this.nzVisibleChange.next(n))}get nzVisible(){return this._visible}set nzTrigger(e){this._trigger=e}get nzTrigger(){return this._trigger}set nzPlacement(e){const n=e.map(v=>ti[v]);this._positions=[...n,...H3]}ngOnInit(){this.directionality.change?.pipe(u(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.nzVisibleChange.complete(),this.destroy$.next(),this.destroy$.complete()}show(){this.nzVisible||(this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges()),this.origin&&this.overlay&&this.overlay.overlayRef&&"rtl"===this.overlay.overlayRef.getDirection()&&this.overlay.overlayRef.setDirection("ltr"))}hide(){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.updateStyles(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(e){this.preferredPlacement=ac(e),this.updateStyles(),this.cdr.detectChanges()}setOverlayOrigin(e){this.origin=e,this.cdr.markForCheck()}onClickOutside(e){!this.origin.nativeElement.contains(e.target)&&null!==this.nzTrigger&&this.hide()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}updateStyles(){this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(Jt,8),t.Y36(tn))},i.\u0275dir=t.lG2({type:i,viewQuery:function(e,n){if(1&e&&t.Gf(kh,5),2&e){let v;t.iGM(v=t.CRH())&&(n.overlay=v.first)}}}),i})(),Ro=(()=>{class i extends Hh{constructor(e,n,v,M,F){super(e,n,v,M,F),this.titleContext=null,this.trigger="hover",this.placement="top",this.visibleChange=new t.vpe,this.componentRef=this.hostView.createComponent(Rh)}getProxyPropertyMap(){return{...super.getProxyPropertyMap(),nzTooltipColor:["nzColor",()=>this.nzTooltipColor],nzTooltipTitleContext:["nzTitleContext",()=>this.titleContext]}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.s_b),t.Y36(t._Vd),t.Y36(t.Qsj),t.Y36(tn,9))},i.\u0275dir=t.lG2({type:i,selectors:[["","nz-tooltip",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("ant-tooltip-open",n.visible)},inputs:{title:["nzTooltipTitle","title"],titleContext:["nzTooltipTitleContext","titleContext"],directiveTitle:["nz-tooltip","directiveTitle"],trigger:["nzTooltipTrigger","trigger"],placement:["nzTooltipPlacement","placement"],origin:["nzTooltipOrigin","origin"],visible:["nzTooltipVisible","visible"],mouseEnterDelay:["nzTooltipMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:["nzTooltipMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:["nzTooltipOverlayClassName","overlayClassName"],overlayStyle:["nzTooltipOverlayStyle","overlayStyle"],arrowPointAtCenter:["nzTooltipArrowPointAtCenter","arrowPointAtCenter"],nzTooltipColor:"nzTooltipColor"},outputs:{visibleChange:"nzTooltipVisibleChange"},exportAs:["nzTooltip"],features:[t.qOj]}),(0,ue.gn)([yt()],i.prototype,"arrowPointAtCenter",void 0),i})(),Rh=(()=>{class i extends Ph{constructor(e,n,v){super(e,n,v),this.nzTitle=null,this.nzTitleContext=null,this._contentStyleMap={}}isEmpty(){return function Fh(i){return!(i instanceof t.Rgc||""!==i&&_t(i))}(this.nzTitle)}updateStyles(){const e=this.nzColor&&ye(this.nzColor);this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0,[`${this._prefix}-${this.nzColor}`]:e},this._contentStyleMap={backgroundColor:this.nzColor&&!e?this.nzColor:null}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(Jt,8),t.Y36(tn,9))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-tooltip"]],exportAs:["nzTooltipComponent"],features:[t.qOj],decls:2,vars:5,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayPush","nzArrowPointAtCenter","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-arrow-content",3,"ngStyle"],[1,"ant-tooltip-inner",3,"ngStyle"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(e,n){1&e&&(t.YNc(0,Nh,6,11,"ng-template",0,1,t.W1O),t.NdJ("overlayOutsideClick",function(M){return n.onClickOutside(M)})("detach",function(){return n.hide()})("positionChange",function(M){return n.onPositionChange(M)})),2&e&&t.Q6J("cdkConnectedOverlayOrigin",n.origin)("cdkConnectedOverlayOpen",n._visible)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayPush",!0)("nzArrowPointAtCenter",n.nzArrowPointAtCenter)},dependencies:[J.mk,J.PC,Fr,ai,P3,tn],encapsulation:2,data:{animation:[R8]},changeDetection:0}),i})(),Br=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,N3,en,F3,B3]}),i})();var V3=Qe(515),Bh=Qe(3269);function j3(...i){const o=(0,Bh.jO)(i);return(0,r.e)((e,n)=>{const v=i.length,M=new Array(v);let F=i.map(()=>!1),Q=!1;for(let re=0;re<v;re++)(0,Ee.Xf)(i[re]).subscribe((0,a.x)(n,Ce=>{M[re]=Ce,!Q&&!F[re]&&(F[re]=!0,(Q=F.every(U2.y))&&(F=null))},s.Z));e.subscribe((0,a.x)(n,re=>{if(Q){const Ce=[re,...M];n.next(o?o(...Ce):Ce)}}))})}const Y3=["moz","ms","webkit"];function sc(i){if(typeof window>"u")return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(i);const o=Y3.filter(e=>`${e}CancelAnimationFrame`in window||`${e}CancelRequestAnimationFrame`in window)[0];return o?(window[`${o}CancelAnimationFrame`]||window[`${o}CancelRequestAnimationFrame`]).call(this,i):clearTimeout(i)}const Vr=function jh(){if(typeof window>"u")return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const i=Y3.filter(o=>`${o}RequestAnimationFrame`in window)[0];return i?window[`${i}RequestAnimationFrame`]:function Vh(){let i=0;return function(o){const e=(new Date).getTime(),n=Math.max(0,16-(e-i)),v=setTimeout(()=>{o(e+n)},n);return i=e+n,v}}()}();function Yh(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"span",2),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("nzType",e)}}const Uh=["textarea"];function Gh(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"textarea",2,3),t.NdJ("blur",function(){t.CHM(e);const v=t.oxw();return t.KtG(v.confirm())}),t.qZA(),t.TgZ(2,"button",4),t.NdJ("click",function(){t.CHM(e);const v=t.oxw();return t.KtG(v.confirm())}),t._UZ(3,"span",5),t.qZA()}}function Wh(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"span",8),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("nzType",e)}}function Zh(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){t.CHM(e);const v=t.oxw();return t.KtG(v.onClick())}),t.YNc(1,Wh,2,1,"ng-container",7),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("nzTooltipTitle",null===e.tooltip?null:e.tooltip||(null==e.locale?null:e.locale.edit)),t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.icon)}}const Xh=["ellipsisContainer"],Qh=["expandable"],Jh=["contentTemplate"];function $h(i,o){1&i&&t.Hsn(0,0,["*ngIf","!content"])}function Kh(i,o){if(1&i&&(t.YNc(0,$h,1,0,"ng-content",1),t._uU(1)),2&i){const e=o.content;t.Q6J("ngIf",!e),t.xp6(1),t.hij(" ",e," ")}}function qh(i,o){}function eu(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.nzSuffix)}}const tu=function(i){return{content:i}};function iu(i,o){if(1&i&&(t.ynx(0),t.YNc(1,qh,0,0,"ng-template",6),t.YNc(2,eu,2,1,"ng-container",1),t.BQk()),2&i){const e=t.oxw(2),n=t.MAs(1);t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(3,tu,e.nzContent)),t.xp6(1),t.Q6J("ngIf",e.nzSuffix)}}function nu(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.ellipsisStr)}}function ou(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.nzSuffix)}}function ru(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",9,10),t.NdJ("click",function(){t.CHM(e);const v=t.oxw(3);return t.KtG(v.onExpand())}),t._uU(2),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(2),t.hij(" ",null==e.locale?null:e.locale.expand," ")}}function au(i,o){if(1&i&&(t._UZ(0,"span",null,7),t.YNc(2,nu,2,1,"ng-container",1),t.YNc(3,ou,2,1,"ng-container",1),t.YNc(4,ru,3,1,"a",8)),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.isEllipsis),t.xp6(1),t.Q6J("ngIf",e.nzSuffix),t.xp6(1),t.Q6J("ngIf",e.nzExpandable&&e.isEllipsis)}}function su(i,o){if(1&i&&(t.ynx(0),t.YNc(1,iu,3,5,"ng-container",4),t.YNc(2,au,5,3,"ng-template",null,5,t.W1O),t.BQk()),2&i){const e=t.MAs(3),n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.expanded||!n.hasOperationsWithEllipsis&&1===n.nzEllipsisRows&&!n.hasEllipsisObservers||n.canCssEllipsis||n.nzSuffix&&n.expanded)("ngIfElse",e)}}function cu(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nz-text-edit",11),t.NdJ("endEditing",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.onEndEditing(v))})("startEditing",function(){t.CHM(e);const v=t.oxw();return t.KtG(v.onStartEditing())}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("text",e.nzContent)("icon",e.nzEditIcon)("tooltip",e.nzEditTooltip)}}function lu(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nz-text-copy",12),t.NdJ("textCopy",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.onTextCopy(v))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("text",e.copyText)("tooltips",e.nzCopyTooltips)("icons",e.nzCopyIcons)}}const hu=["*"];let U3=(()=>{class i{constructor(e,n,v,M){this.host=e,this.cdr=n,this.clipboard=v,this.i18n=M,this.copied=!1,this.copyId=-1,this.nativeElement=this.host.nativeElement,this.copyTooltip=null,this.copedTooltip=null,this.copyIcon="copy",this.copedIcon="check",this.destroy$=new q.x,this.icons=["copy","check"],this.textCopy=new t.vpe}ngOnInit(){this.i18n.localeChange.pipe(u(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.updateTooltips(),this.cdr.markForCheck()})}ngOnChanges(e){const{tooltips:n,icons:v}=e;n&&this.updateTooltips(),v&&this.updateIcons()}ngOnDestroy(){clearTimeout(this.copyId),this.destroy$.next(),this.destroy$.complete()}onClick(){if(this.copied)return;this.copied=!0,this.cdr.detectChanges();const e=this.text;this.textCopy.emit(e),this.clipboard.copy(e),this.onCopied()}onCopied(){clearTimeout(this.copyId),this.copyId=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},3e3)}updateTooltips(){if(null===this.tooltips)this.copedTooltip=null,this.copyTooltip=null;else if(Array.isArray(this.tooltips)){const[e,n]=this.tooltips;this.copyTooltip=e||this.locale?.copy,this.copedTooltip=n||this.locale?.copied}else this.copyTooltip=this.locale?.copy,this.copedTooltip=this.locale?.copied;this.cdr.markForCheck()}updateIcons(){const[e,n]=this.icons;this.copyIcon=e,this.copedIcon=n,this.cdr.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(y6),t.Y36(Pi.wi))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-text-copy"]],inputs:{text:"text",tooltips:"tooltips",icons:"icons"},outputs:{textCopy:"textCopy"},exportAs:["nzTextCopy"],features:[t.TTD],decls:2,vars:4,consts:[["type","button","nz-tooltip","","nz-trans-button","",1,"ant-typography-copy",3,"nzTooltipTitle","click"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(e,n){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return n.onClick()}),t.YNc(1,Yh,2,1,"ng-container",1),t.qZA()),2&e&&(t.ekj("ant-typography-copy-success",n.copied),t.Q6J("nzTooltipTitle",n.copied?n.copedTooltip:n.copyTooltip),t.xp6(1),t.Q6J("nzStringTemplateOutlet",n.copied?n.copedIcon:n.copyIcon))},dependencies:[ri,Ro,Y2,ai],encapsulation:2,changeDetection:0}),i})(),G3=(()=>{class i{constructor(e,n,v,M,F){this.ngZone=e,this.host=n,this.cdr=v,this.i18n=M,this.destroy$=F,this.editing=!1,this.icon="edit",this.startEditing=new t.vpe,this.endEditing=new t.vpe(!0),this.nativeElement=this.host.nativeElement,this.textarea$=new yn.X(null)}set textarea(e){this.textarea$.next(e)}ngOnInit(){this.i18n.localeChange.pipe(u(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.textarea$.pipe((0,vn.w)(e=>e?new T.y(n=>this.ngZone.runOutsideAngular(()=>U(e.nativeElement,"keydown").subscribe(n))):V3.E),u(this.destroy$)).subscribe(e=>{27!==e.keyCode&&13!==e.keyCode||this.ngZone.run(()=>{27===e.keyCode?this.onCancel():this.onEnter(e),this.cdr.markForCheck()})}),this.textarea$.pipe((0,vn.w)(e=>e?new T.y(n=>this.ngZone.runOutsideAngular(()=>U(e.nativeElement,"input").subscribe(n))):V3.E),u(this.destroy$)).subscribe(e=>{this.currentText=e.target.value})}onClick(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()}confirm(){this.editing=!1,this.endEditing.emit(this.currentText)}onEnter(e){e.stopPropagation(),e.preventDefault(),this.confirm()}onCancel(){this.currentText=this.beforeText,this.confirm()}focusAndSetValue(){const e=this.ngZone.isStable?(0,to.D)(Promise.resolve()):this.ngZone.onStable.pipe((0,xi.q)(1));this.ngZone.runOutsideAngular(()=>{e.pipe(j3(this.textarea$),u(this.destroy$)).subscribe(([,n])=>{n&&(n.nativeElement.focus(),n.nativeElement.value=this.currentText||"",this.autosizeDirective.resizeToFitContent(),this.cdr.markForCheck())})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(Pi.wi),t.Y36(Ai))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-text-edit"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Uh,5),t.Gf(d3,5)),2&e){let v;t.iGM(v=t.CRH())&&(n.textarea=v.first),t.iGM(v=t.CRH())&&(n.autosizeDirective=v.first)}},inputs:{text:"text",icon:"icon",tooltip:"tooltip"},outputs:{startEditing:"startEditing",endEditing:"endEditing"},exportAs:["nzTextEdit"],features:[t._Bn([Ai])],decls:3,vars:2,consts:[[3,"ngIf","ngIfElse"],["notEditing",""],["nz-input","","nzAutosize","",3,"blur"],["textarea",""],["nz-trans-button","",1,"ant-typography-edit-content-confirm",3,"click"],["nz-icon","","nzType","enter"],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"nzTooltipTitle","click"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(e,n){if(1&e&&(t.YNc(0,Gh,4,0,"ng-template",0),t.YNc(1,Zh,2,2,"ng-template",null,1,t.W1O)),2&e){const v=t.MAs(2);t.Q6J("ngIf",n.editing)("ngIfElse",v)}},dependencies:[J.O5,ri,Ro,Ir,d3,Y2,ai],encapsulation:2,changeDetection:0}),i})(),fu=(()=>{class i{constructor(e,n,v,M,F,Q,re,Ce,Le,ot){this.nzConfigService=e,this.host=n,this.cdr=v,this.viewContainerRef=M,this.renderer=F,this.platform=Q,this.i18n=re,this.resizeService=Le,this.directionality=ot,this._nzModuleName="typography",this.nzCopyable=!1,this.nzEditable=!1,this.nzDisabled=!1,this.nzExpandable=!1,this.nzEllipsis=!1,this.nzCopyTooltips=void 0,this.nzCopyIcons=["copy","check"],this.nzEditTooltip=void 0,this.nzEditIcon="edit",this.nzEllipsisRows=1,this.nzContentChange=new t.vpe,this.nzCopy=new t.vpe,this.nzExpandChange=new t.vpe,this.nzOnEllipsis=new t.vpe,this.expandableBtnElementCache=null,this.editing=!1,this.cssEllipsis=!1,this.isEllipsis=!0,this.expanded=!1,this.ellipsisStr="...",this.dir="ltr",this.viewInit=!1,this.rfaId=-1,this.destroy$=new q.x,this.windowResizeSubscription=Fi.w0.EMPTY,this.document=Ce}get hasEllipsisObservers(){return this.nzOnEllipsis.observers.length>0}get canCssEllipsis(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded&&!this.hasEllipsisObservers}get hasOperationsWithEllipsis(){return(this.nzCopyable||this.nzEditable||this.nzExpandable)&&this.nzEllipsis}get copyText(){return"string"==typeof this.nzCopyText?this.nzCopyText:this.nzContent}onTextCopy(e){this.nzCopy.emit(e)}onStartEditing(){this.editing=!0}onEndEditing(e){this.editing=!1,this.nzContentChange.emit(e),this.nzContent===e&&this.renderOnNextFrame(),this.cdr.markForCheck()}onExpand(){this.isEllipsis=!1,this.expanded=!0,this.nzExpandChange.emit(),this.nzOnEllipsis.emit(!1)}canUseCSSEllipsis(){return!(this.nzEditable||this.nzCopyable||this.nzExpandable||this.nzSuffix||this.hasEllipsisObservers)&&function Go(i){if(typeof window<"u"&&window.document&&window.document.documentElement){const o=Array.isArray(i)?i:[i],{documentElement:e}=window.document;return o.some(n=>n in e.style)}return!1}(1===this.nzEllipsisRows?"textOverflow":"webkitLineClamp")}renderOnNextFrame(){sc(this.rfaId),this.viewInit&&this.nzEllipsis&&!(this.nzEllipsisRows<0)&&!this.expanded&&this.platform.isBrowser&&(this.rfaId=Vr(()=>{this.syncEllipsis()}))}getOriginContentViewRef(){const e=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return e.detectChanges(),{viewRef:e,removeView:()=>{this.viewContainerRef.remove(this.viewContainerRef.indexOf(e))}}}syncEllipsis(){if(this.cssEllipsis)return;const{viewRef:e,removeView:n}=this.getOriginContentViewRef(),v=[this.textCopyRef,this.textEditRef].filter(Le=>Le&&Le.nativeElement).map(Le=>Le.nativeElement),M=this.getExpandableBtnElement();M&&v.push(M);const{contentNodes:F,text:Q,ellipsis:re}=Wo(this.host.nativeElement,this.nzEllipsisRows,e.rootNodes,v,this.ellipsisStr,this.nzSuffix);n(),this.ellipsisText=Q,re!==this.isEllipsis&&(this.isEllipsis=re,this.nzOnEllipsis.emit(re));const Ce=this.ellipsisContainer.nativeElement;for(;Ce.firstChild;)this.renderer.removeChild(Ce,Ce.firstChild);F.forEach(Le=>{this.renderer.appendChild(Ce,Le.cloneNode(!0))}),this.cdr.markForCheck()}getExpandableBtnElement(){if(this.nzExpandable){const e=this.locale?this.locale.expand:"",n=this.expandableBtnElementCache;if(!n||n.innerText===e){const v=this.document.createElement("a");v.className="ant-typography-expand",v.innerText=e,this.expandableBtnElementCache=v}return this.expandableBtnElementCache}return this.expandableBtnElementCache=null,null}renderAndSubscribeWindowResize(){this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.windowResizeSubscription=this.resizeService.subscribe().pipe(u(this.destroy$)).subscribe(()=>this.renderOnNextFrame()))}ngOnInit(){this.i18n.localeChange.pipe(u(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.directionality.change?.pipe(u(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.viewInit=!0,this.renderAndSubscribeWindowResize()}ngOnChanges(e){const{nzCopyable:n,nzEditable:v,nzExpandable:M,nzEllipsis:F,nzContent:Q,nzEllipsisRows:re,nzSuffix:Ce}=e;(n||v||M||F||Q||re||Ce)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.expandableBtnElementCache=null,this.windowResizeSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Ci),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(t.s_b),t.Y36(t.Qsj),t.Y36(Kt),t.Y36(Pi.wi),t.Y36(J.K0),t.Y36(Ks),t.Y36(Jt,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-typography"],["","nz-typography",""],["p","nz-paragraph",""],["span","nz-text",""],["h1","nz-title",""],["h2","nz-title",""],["h3","nz-title",""],["h4","nz-title",""]],viewQuery:function(e,n){if(1&e&&(t.Gf(G3,5),t.Gf(U3,5),t.Gf(Xh,5),t.Gf(Qh,5),t.Gf(Jh,5)),2&e){let v;t.iGM(v=t.CRH())&&(n.textEditRef=v.first),t.iGM(v=t.CRH())&&(n.textCopyRef=v.first),t.iGM(v=t.CRH())&&(n.ellipsisContainer=v.first),t.iGM(v=t.CRH())&&(n.expandableBtn=v.first),t.iGM(v=t.CRH())&&(n.contentTemplate=v.first)}},hostVars:26,hostBindings:function(e,n){2&e&&(t.Udp("-webkit-line-clamp",n.canCssEllipsis&&n.nzEllipsisRows>1?n.nzEllipsisRows:null),t.ekj("ant-typography",!n.editing)("ant-typography-rtl","rtl"===n.dir)("ant-typography-edit-content",n.editing)("ant-typography-secondary","secondary"===n.nzType)("ant-typography-warning","warning"===n.nzType)("ant-typography-danger","danger"===n.nzType)("ant-typography-success","success"===n.nzType)("ant-typography-disabled",n.nzDisabled)("ant-typography-ellipsis",n.nzEllipsis&&!n.expanded)("ant-typography-single-line",n.nzEllipsis&&1===n.nzEllipsisRows)("ant-typography-ellipsis-single-line",n.canCssEllipsis&&1===n.nzEllipsisRows)("ant-typography-ellipsis-multiple-line",n.canCssEllipsis&&n.nzEllipsisRows>1))},inputs:{nzCopyable:"nzCopyable",nzEditable:"nzEditable",nzDisabled:"nzDisabled",nzExpandable:"nzExpandable",nzEllipsis:"nzEllipsis",nzCopyTooltips:"nzCopyTooltips",nzCopyIcons:"nzCopyIcons",nzEditTooltip:"nzEditTooltip",nzEditIcon:"nzEditIcon",nzContent:"nzContent",nzEllipsisRows:"nzEllipsisRows",nzType:"nzType",nzCopyText:"nzCopyText",nzSuffix:"nzSuffix"},outputs:{nzContentChange:"nzContentChange",nzCopy:"nzCopy",nzExpandChange:"nzExpandChange",nzOnEllipsis:"nzOnEllipsis"},exportAs:["nzTypography"],features:[t.TTD],ngContentSelectors:hu,decls:5,vars:3,consts:[["contentTemplate",""],[4,"ngIf"],[3,"text","icon","tooltip","endEditing","startEditing",4,"ngIf"],[3,"text","tooltips","icons","textCopy",4,"ngIf"],[4,"ngIf","ngIfElse"],["jsEllipsis",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["ellipsisContainer",""],["class","ant-typography-expand",3,"click",4,"ngIf"],[1,"ant-typography-expand",3,"click"],["expandable",""],[3,"text","icon","tooltip","endEditing","startEditing"],[3,"text","tooltips","icons","textCopy"]],template:function(e,n){1&e&&(t.F$t(),t.YNc(0,Kh,2,2,"ng-template",null,0,t.W1O),t.YNc(2,su,4,2,"ng-container",1),t.YNc(3,cu,1,3,"nz-text-edit",2),t.YNc(4,lu,1,3,"nz-text-copy",3)),2&e&&(t.xp6(2),t.Q6J("ngIf",!n.editing),t.xp6(1),t.Q6J("ngIf",n.nzEditable),t.xp6(1),t.Q6J("ngIf",n.nzCopyable&&!n.editing))},dependencies:[J.O5,J.tP,U3,G3],encapsulation:2,changeDetection:0}),(0,ue.gn)([yt()],i.prototype,"nzCopyable",void 0),(0,ue.gn)([yt()],i.prototype,"nzEditable",void 0),(0,ue.gn)([yt()],i.prototype,"nzDisabled",void 0),(0,ue.gn)([yt()],i.prototype,"nzExpandable",void 0),(0,ue.gn)([yt()],i.prototype,"nzEllipsis",void 0),(0,ue.gn)([jt()],i.prototype,"nzCopyTooltips",void 0),(0,ue.gn)([jt()],i.prototype,"nzCopyIcons",void 0),(0,ue.gn)([jt()],i.prototype,"nzEditTooltip",void 0),(0,ue.gn)([jt()],i.prototype,"nzEditIcon",void 0),(0,ue.gn)([jt(),yi()],i.prototype,"nzEllipsisRows",void 0),i})(),pu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,Hi,Br,f3,Pi.YI,z6,_6,en,zi]}),i})(),Bn=(()=>{class i{constructor(e,n,v,M,F,Q,re){this.elementRef=e,this.renderer=n,this.mediaMatcher=v,this.ngZone=M,this.platform=F,this.breakpointService=Q,this.directionality=re,this.nzAlign=null,this.nzJustify=null,this.nzGutter=null,this.actualGutter$=new mn(1),this.dir="ltr",this.destroy$=new q.x}getGutter(){const e=[null,null],n=this.nzGutter||0;return(Array.isArray(n)?n:[n,null]).forEach((M,F)=>{"object"==typeof M&&null!==M?(e[F]=null,Object.keys(Tr).map(Q=>{const re=Q;this.mediaMatcher.matchMedia(Tr[re]).matches&&M[re]&&(e[F]=M[re])})):e[F]=Number(M)||null}),e}setGutterStyle(){const[e,n]=this.getGutter();this.actualGutter$.next([e,n]);const v=(M,F)=>{null!==F&&this.renderer.setStyle(this.elementRef.nativeElement,M,`-${F/2}px`)};v("margin-left",e),v("margin-right",e),v("margin-top",n),v("margin-bottom",n)}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(u(this.destroy$)).subscribe(e=>{this.dir=e}),this.setGutterStyle()}ngOnChanges(e){e.nzGutter&&this.setGutterStyle()}ngAfterViewInit(){this.platform.isBrowser&&this.breakpointService.subscribe(Tr).pipe(u(this.destroy$)).subscribe(()=>{this.setGutterStyle()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(Xs),t.Y36(t.R0b),t.Y36(Kt),t.Y36(g8),t.Y36(Jt,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","nz-row",""],["nz-row"],["nz-form-item"]],hostAttrs:[1,"ant-row"],hostVars:20,hostBindings:function(e,n){2&e&&t.ekj("ant-row-top","top"===n.nzAlign)("ant-row-middle","middle"===n.nzAlign)("ant-row-bottom","bottom"===n.nzAlign)("ant-row-start","start"===n.nzJustify)("ant-row-end","end"===n.nzJustify)("ant-row-center","center"===n.nzJustify)("ant-row-space-around","space-around"===n.nzJustify)("ant-row-space-between","space-between"===n.nzJustify)("ant-row-space-evenly","space-evenly"===n.nzJustify)("ant-row-rtl","rtl"===n.dir)},inputs:{nzAlign:"nzAlign",nzJustify:"nzJustify",nzGutter:"nzGutter"},exportAs:["nzRow"],features:[t.TTD]}),i})(),jr=(()=>{class i{constructor(e,n,v,M){this.elementRef=e,this.nzRowDirective=n,this.renderer=v,this.directionality=M,this.classMap={},this.destroy$=new q.x,this.hostFlexStyle=null,this.dir="ltr",this.nzFlex=null,this.nzSpan=null,this.nzOrder=null,this.nzOffset=null,this.nzPush=null,this.nzPull=null,this.nzXs=null,this.nzSm=null,this.nzMd=null,this.nzLg=null,this.nzXl=null,this.nzXXl=null}setHostClassMap(){const e={"ant-col":!0,[`ant-col-${this.nzSpan}`]:_t(this.nzSpan),[`ant-col-order-${this.nzOrder}`]:_t(this.nzOrder),[`ant-col-offset-${this.nzOffset}`]:_t(this.nzOffset),[`ant-col-pull-${this.nzPull}`]:_t(this.nzPull),[`ant-col-push-${this.nzPush}`]:_t(this.nzPush),"ant-col-rtl":"rtl"===this.dir,...this.generateClass()};for(const n in this.classMap)this.classMap.hasOwnProperty(n)&&this.renderer.removeClass(this.elementRef.nativeElement,n);this.classMap={...e};for(const n in this.classMap)this.classMap.hasOwnProperty(n)&&this.classMap[n]&&this.renderer.addClass(this.elementRef.nativeElement,n)}setHostFlexStyle(){this.hostFlexStyle=this.parseFlex(this.nzFlex)}parseFlex(e){return"number"==typeof e?`${e} ${e} auto`:"string"==typeof e&&/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}generateClass(){const n={};return["nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"].forEach(v=>{const M=v.replace("nz","").toLowerCase();if(_t(this[v]))if("number"==typeof this[v]||"string"==typeof this[v])n[`ant-col-${M}-${this[v]}`]=!0;else{const F=this[v];["span","pull","push","offset","order"].forEach(re=>{n[`ant-col-${M}${"span"===re?"-":`-${re}-`}${F[re]}`]=F&&_t(F[re])})}}),n}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(u(this.destroy$)).subscribe(e=>{this.dir=e,this.setHostClassMap()}),this.setHostClassMap(),this.setHostFlexStyle()}ngOnChanges(e){this.setHostClassMap();const{nzFlex:n}=e;n&&this.setHostFlexStyle()}ngAfterViewInit(){this.nzRowDirective&&this.nzRowDirective.actualGutter$.pipe(u(this.destroy$)).subscribe(([e,n])=>{const v=(M,F)=>{null!==F&&this.renderer.setStyle(this.elementRef.nativeElement,M,F/2+"px")};v("padding-left",e),v("padding-right",e),v("padding-top",n),v("padding-bottom",n)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(Bn,9),t.Y36(t.Qsj),t.Y36(Jt,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","nz-col",""],["nz-col"],["nz-form-control"],["nz-form-label"]],hostVars:2,hostBindings:function(e,n){2&e&&t.Udp("flex",n.hostFlexStyle)},inputs:{nzFlex:"nzFlex",nzSpan:"nzSpan",nzOrder:"nzOrder",nzOffset:"nzOffset",nzPush:"nzPush",nzPull:"nzPull",nzXs:"nzXs",nzSm:"nzSm",nzMd:"nzMd",nzLg:"nzLg",nzXl:"nzXl",nzXXl:"nzXXl"},exportAs:["nzCol"],features:[t.TTD]}),i})(),cc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,K2,zi]}),i})();const lc=["*"];function gu(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.innerTip)}}const vu=function(i){return[i]},mu=function(i){return{$implicit:i}};function yu(i,o){if(1&i&&(t.TgZ(0,"div",4)(1,"div",5),t.YNc(2,gu,2,1,"ng-container",6),t.qZA()()),2&i){const e=t.oxw();t.Q6J("@helpMotion",void 0),t.xp6(1),t.Q6J("ngClass",t.VKq(4,vu,"ant-form-item-explain-"+e.status)),t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.innerTip)("nzStringTemplateOutletContext",t.VKq(6,mu,e.validateControl))}}function _u(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.nzExtra)}}function Cu(i,o){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,_u,2,1,"ng-container",8),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzExtra)}}function zu(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"span",3),t.BQk()),2&i){const e=o.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("nzType",e)("nzTheme",n.tooltipIcon.theme)}}function bu(i,o){if(1&i&&(t.TgZ(0,"span",1),t.YNc(1,zu,2,2,"ng-container",2),t.qZA()),2&i){const e=t.oxw();t.Q6J("nzTooltipTitle",e.nzTooltipTitle),t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.tooltipIcon.type)}}let hc=(()=>{class i{constructor(e){this.cdr=e,this.status="",this.hasFeedback=!1,this.withHelpClass=!1,this.destroy$=new q.x}setWithHelpViaTips(e){this.withHelpClass=e,this.cdr.markForCheck()}setStatus(e){this.status=e,this.cdr.markForCheck()}setHasFeedback(e){this.hasFeedback=e,this.cdr.markForCheck()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-form-item"]],hostAttrs:[1,"ant-form-item"],hostVars:12,hostBindings:function(e,n){2&e&&t.ekj("ant-form-item-has-success","success"===n.status)("ant-form-item-has-warning","warning"===n.status)("ant-form-item-has-error","error"===n.status)("ant-form-item-is-validating","validating"===n.status)("ant-form-item-has-feedback",n.hasFeedback&&n.status)("ant-form-item-with-help",n.withHelpClass)},exportAs:["nzFormItem"],ngContentSelectors:lc,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})();const uc={type:"question-circle",theme:"outline"};let dc=(()=>{class i{constructor(e,n){this.nzConfigService=e,this.directionality=n,this._nzModuleName="form",this.nzLayout="horizontal",this.nzNoColon=!1,this.nzAutoTips={},this.nzDisableAutoTips=!1,this.nzTooltipIcon=uc,this.nzLabelAlign="right",this.dir="ltr",this.destroy$=new q.x,this.inputChanges$=new q.x,this.dir=this.directionality.value,this.directionality.change?.pipe(u(this.destroy$)).subscribe(v=>{this.dir=v})}getInputObservable(e){return this.inputChanges$.pipe((0,d.h)(n=>e in n),(0,Ii.U)(n=>n[e]))}ngOnChanges(e){this.inputChanges$.next(e)}ngOnDestroy(){this.inputChanges$.complete(),this.destroy$.next(),this.destroy$.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Ci),t.Y36(Jt,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","nz-form",""]],hostAttrs:[1,"ant-form"],hostVars:8,hostBindings:function(e,n){2&e&&t.ekj("ant-form-horizontal","horizontal"===n.nzLayout)("ant-form-vertical","vertical"===n.nzLayout)("ant-form-inline","inline"===n.nzLayout)("ant-form-rtl","rtl"===n.dir)},inputs:{nzLayout:"nzLayout",nzNoColon:"nzNoColon",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzTooltipIcon:"nzTooltipIcon",nzLabelAlign:"nzLabelAlign"},exportAs:["nzForm"],features:[t.TTD]}),(0,ue.gn)([jt(),yt()],i.prototype,"nzNoColon",void 0),(0,ue.gn)([jt()],i.prototype,"nzAutoTips",void 0),(0,ue.gn)([yt()],i.prototype,"nzDisableAutoTips",void 0),(0,ue.gn)([jt()],i.prototype,"nzTooltipIcon",void 0),i})(),W3=(()=>{class i{constructor(e,n,v,M,F){this.nzFormItemComponent=e,this.cdr=n,this.nzFormDirective=M,this.nzFormStatusService=F,this._hasFeedback=!1,this.validateChanges=Fi.w0.EMPTY,this.validateString=null,this.destroyed$=new q.x,this.status="",this.validateControl=null,this.innerTip=null,this.nzAutoTips={},this.nzDisableAutoTips="default",this.subscribeAutoTips(v.localeChange.pipe((0,nr.b)(Q=>this.localeId=Q.locale))),this.subscribeAutoTips(this.nzFormDirective?.getInputObservable("nzAutoTips")),this.subscribeAutoTips(this.nzFormDirective?.getInputObservable("nzDisableAutoTips").pipe((0,d.h)(()=>"default"===this.nzDisableAutoTips)))}get disableAutoTips(){return"default"!==this.nzDisableAutoTips?ci(this.nzDisableAutoTips):this.nzFormDirective?.nzDisableAutoTips}set nzHasFeedback(e){this._hasFeedback=ci(e),this.nzFormStatusService.formStatusChanges.next({status:this.status,hasFeedback:this._hasFeedback}),this.nzFormItemComponent&&this.nzFormItemComponent.setHasFeedback(this._hasFeedback)}get nzHasFeedback(){return this._hasFeedback}set nzValidateStatus(e){e instanceof gt.TO||e instanceof gt.On?(this.validateControl=e,this.validateString=null,this.watchControl()):e instanceof gt.u?(this.validateControl=e.control,this.validateString=null,this.watchControl()):(this.validateString=e,this.validateControl=null,this.setStatus())}watchControl(){this.validateChanges.unsubscribe(),this.validateControl&&this.validateControl.statusChanges&&(this.validateChanges=this.validateControl.statusChanges.pipe((0,C.O)(null),u(this.destroyed$)).subscribe(()=>{this.disableAutoTips||this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck()}))}setStatus(){this.status=this.getControlStatus(this.validateString),this.innerTip=this.getInnerTip(this.status),this.nzFormStatusService.formStatusChanges.next({status:this.status,hasFeedback:this.nzHasFeedback}),this.nzFormItemComponent&&(this.nzFormItemComponent.setWithHelpViaTips(!!this.innerTip),this.nzFormItemComponent.setStatus(this.status))}getControlStatus(e){let n;return n="warning"===e||this.validateControlStatus("INVALID","warning")?"warning":"error"===e||this.validateControlStatus("INVALID")?"error":"validating"===e||"pending"===e||this.validateControlStatus("PENDING")?"validating":"success"===e||this.validateControlStatus("VALID")?"success":"",n}validateControlStatus(e,n){if(this.validateControl){const{dirty:v,touched:M,status:F}=this.validateControl;return(!!v||!!M)&&(n?this.validateControl.hasError(n):F===e)}return!1}getInnerTip(e){switch(e){case"error":return!this.disableAutoTips&&this.autoErrorTip||this.nzErrorTip||null;case"validating":return this.nzValidatingTip||null;case"success":return this.nzSuccessTip||null;case"warning":return this.nzWarningTip||null;default:return null}}updateAutoErrorTip(){if(this.validateControl){const e=this.validateControl.errors||{};let n="";for(const v in e)if(e.hasOwnProperty(v)&&(n=e[v]?.[this.localeId]??this.nzAutoTips?.[this.localeId]?.[v]??this.nzAutoTips.default?.[v]??this.nzFormDirective?.nzAutoTips?.[this.localeId]?.[v]??this.nzFormDirective?.nzAutoTips.default?.[v]),n)break;this.autoErrorTip=n}}subscribeAutoTips(e){e?.pipe(u(this.destroyed$)).subscribe(()=>{this.disableAutoTips||(this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck())})}ngOnChanges(e){const{nzDisableAutoTips:n,nzAutoTips:v,nzSuccessTip:M,nzWarningTip:F,nzErrorTip:Q,nzValidatingTip:re}=e;n||v?(this.updateAutoErrorTip(),this.setStatus()):(M||F||Q||re)&&this.setStatus()}ngOnInit(){this.setStatus()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}ngAfterContentInit(){!this.validateControl&&!this.validateString&&(this.nzValidateStatus=this.defaultValidateControl instanceof gt.oH?this.defaultValidateControl.control:this.defaultValidateControl)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(hc,9),t.Y36(t.sBO),t.Y36(Pi.wi),t.Y36(dc,8),t.Y36(Hn))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-form-control"]],contentQueries:function(e,n,v){if(1&e&&t.Suo(v,gt.a5,5),2&e){let M;t.iGM(M=t.CRH())&&(n.defaultValidateControl=M.first)}},hostAttrs:[1,"ant-form-item-control"],inputs:{nzSuccessTip:"nzSuccessTip",nzWarningTip:"nzWarningTip",nzErrorTip:"nzErrorTip",nzValidatingTip:"nzValidatingTip",nzExtra:"nzExtra",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzHasFeedback:"nzHasFeedback",nzValidateStatus:"nzValidateStatus"},exportAs:["nzFormControl"],features:[t._Bn([Hn]),t.TTD],ngContentSelectors:lc,decls:5,vars:2,consts:[[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["class","ant-form-item-explain ant-form-item-explain-connected",4,"ngIf"],["class","ant-form-item-extra",4,"ngIf"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],["role","alert",3,"ngClass"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-form-item-extra"],[4,"nzStringTemplateOutlet"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1),t.Hsn(2),t.qZA()(),t.YNc(3,yu,3,8,"div",2),t.YNc(4,Cu,2,1,"div",3)),2&e&&(t.xp6(3),t.Q6J("ngIf",n.innerTip),t.xp6(1),t.Q6J("ngIf",n.nzExtra))},dependencies:[J.mk,J.O5,ai],encapsulation:2,data:{animation:[N8]},changeDetection:0}),i})();function Z3(i){return{...uc,..."string"==typeof i?{type:i}:i}}let X3=(()=>{class i{constructor(e,n){this.cdr=e,this.nzFormDirective=n,this.nzRequired=!1,this.noColon="default",this._tooltipIcon="default",this.labelAlign="default",this.destroy$=new q.x,this.nzFormDirective&&(this.nzFormDirective.getInputObservable("nzNoColon").pipe((0,d.h)(()=>"default"===this.noColon),u(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzTooltipIcon").pipe((0,d.h)(()=>"default"===this._tooltipIcon),u(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzLabelAlign").pipe((0,d.h)(()=>"default"===this.labelAlign),u(this.destroy$)).subscribe(()=>this.cdr.markForCheck()))}set nzNoColon(e){this.noColon=ci(e)}get nzNoColon(){return"default"!==this.noColon?this.noColon:this.nzFormDirective?.nzNoColon}set nzTooltipIcon(e){this._tooltipIcon=Z3(e)}get tooltipIcon(){return"default"!==this._tooltipIcon?this._tooltipIcon:Z3(this.nzFormDirective?.nzTooltipIcon||uc)}set nzLabelAlign(e){this.labelAlign=e}get nzLabelAlign(){return"default"!==this.labelAlign?this.labelAlign:this.nzFormDirective?.nzLabelAlign||"right"}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(dc,12))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-form-label"]],hostAttrs:[1,"ant-form-item-label"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("ant-form-item-label-left","left"===n.nzLabelAlign)},inputs:{nzFor:"nzFor",nzRequired:"nzRequired",nzNoColon:"nzNoColon",nzTooltipTitle:"nzTooltipTitle",nzTooltipIcon:"nzTooltipIcon",nzLabelAlign:"nzLabelAlign"},exportAs:["nzFormLabel"],ngContentSelectors:lc,decls:3,vars:6,consts:[["class","ant-form-item-tooltip","nz-tooltip","",3,"nzTooltipTitle",4,"ngIf"],["nz-tooltip","",1,"ant-form-item-tooltip",3,"nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType","nzTheme"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"label"),t.Hsn(1),t.YNc(2,bu,2,2,"span",0),t.qZA()),2&e&&(t.ekj("ant-form-item-no-colon",n.nzNoColon)("ant-form-item-required",n.nzRequired),t.uIk("for",n.nzFor),t.xp6(2),t.Q6J("ngIf",n.nzTooltipTitle))},dependencies:[J.O5,ri,Ro,ai],encapsulation:2,changeDetection:0}),(0,ue.gn)([yt()],i.prototype,"nzRequired",void 0),i})(),Mu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,cc,Hi,Br,K2,zi,en,cc]}),i})();function Su(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"img",5),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.nzNotFoundImage,t.LSH)("alt",e.isContentString?e.nzNotFoundContent:"empty")}}function wu(i,o){if(1&i&&(t.ynx(0),t.YNc(1,Su,2,2,"ng-container",4),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzNotFoundImage)}}function Tu(i,o){1&i&&t._UZ(0,"nz-empty-default")}function Iu(i,o){1&i&&t._UZ(0,"nz-empty-simple")}function Eu(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.isContentString?e.nzNotFoundContent:e.locale.description," ")}}function Ou(i,o){if(1&i&&(t.TgZ(0,"p",6),t.YNc(1,Eu,2,1,"ng-container",4),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzNotFoundContent)}}function Au(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.nzNotFoundFooter," ")}}function Du(i,o){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,Au,2,1,"ng-container",4),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzNotFoundFooter)}}function ku(i,o){1&i&&t._UZ(0,"nz-empty",6),2&i&&t.Q6J("nzNotFoundImage","simple")}function Lu(i,o){1&i&&t._UZ(0,"nz-empty",7),2&i&&t.Q6J("nzNotFoundImage","simple")}function Nu(i,o){1&i&&t._UZ(0,"nz-empty")}function Hu(i,o){if(1&i&&(t.ynx(0,2),t.YNc(1,ku,1,1,"nz-empty",3),t.YNc(2,Lu,1,1,"nz-empty",4),t.YNc(3,Nu,1,0,"nz-empty",5),t.BQk()),2&i){const e=t.oxw();t.Q6J("ngSwitch",e.size),t.xp6(1),t.Q6J("ngSwitchCase","normal"),t.xp6(1),t.Q6J("ngSwitchCase","small")}}function Pu(i,o){}function Fu(i,o){if(1&i&&t.YNc(0,Pu,0,0,"ng-template",8),2&i){const e=t.oxw(2);t.Q6J("cdkPortalOutlet",e.contentPortal)}}function Ru(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.content," ")}}function Bu(i,o){if(1&i&&(t.ynx(0),t.YNc(1,Fu,1,1,null,1),t.YNc(2,Ru,2,1,"ng-container",1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","string"!==e.contentType),t.xp6(1),t.Q6J("ngIf","string"===e.contentType)}}const Vu=new t.OlP("nz-empty-component-name");let ju=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-empty-default"]],exportAs:["nzEmptyDefault"],decls:12,vars:0,consts:[["width","184","height","152","viewBox","0 0 184 152","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-default"],["fill","none","fill-rule","evenodd"],["transform","translate(24 31.67)"],["cx","67.797","cy","106.89","rx","67.797","ry","12.668",1,"ant-empty-img-default-ellipse"],["d","M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",1,"ant-empty-img-default-path-1"],["d","M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z","transform","translate(13.56)",1,"ant-empty-img-default-path-2"],["d","M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",1,"ant-empty-img-default-path-3"],["d","M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",1,"ant-empty-img-default-path-4"],["d","M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",1,"ant-empty-img-default-path-5"],["transform","translate(149.65 15.383)",1,"ant-empty-img-default-g"],["cx","20.654","cy","3.167","rx","2.849","ry","2.815"],["d","M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"]],template:function(e,n){1&e&&(t.O4$(),t.TgZ(0,"svg",0)(1,"g",1)(2,"g",2),t._UZ(3,"ellipse",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7),t.qZA(),t._UZ(8,"path",8),t.TgZ(9,"g",9),t._UZ(10,"ellipse",10)(11,"path",11),t.qZA()()())},encapsulation:2,changeDetection:0}),i})(),Yu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-empty-simple"]],exportAs:["nzEmptySimple"],decls:6,vars:0,consts:[["width","64","height","41","viewBox","0 0 64 41","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-simple"],["transform","translate(0 1)","fill","none","fill-rule","evenodd"],["cx","32","cy","33","rx","32","ry","7",1,"ant-empty-img-simple-ellipse"],["fill-rule","nonzero",1,"ant-empty-img-simple-g"],["d","M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"],["d","M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",1,"ant-empty-img-simple-path"]],template:function(e,n){1&e&&(t.O4$(),t.TgZ(0,"svg",0)(1,"g",1),t._UZ(2,"ellipse",2),t.TgZ(3,"g",3),t._UZ(4,"path",4)(5,"path",5),t.qZA()()())},encapsulation:2,changeDetection:0}),i})();const Uu=["default","simple"];let Gu=(()=>{class i{constructor(e,n){this.i18n=e,this.cdr=n,this.nzNotFoundImage="default",this.isContentString=!1,this.isImageBuildIn=!0,this.destroy$=new q.x}ngOnChanges(e){const{nzNotFoundContent:n,nzNotFoundImage:v}=e;if(n&&(this.isContentString="string"==typeof n.currentValue),v){const M=v.currentValue||"default";this.isImageBuildIn=Uu.findIndex(F=>F===M)>-1}}ngOnInit(){this.i18n.localeChange.pipe(u(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Empty"),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Pi.wi),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-empty"]],hostAttrs:[1,"ant-empty"],inputs:{nzNotFoundImage:"nzNotFoundImage",nzNotFoundContent:"nzNotFoundContent",nzNotFoundFooter:"nzNotFoundFooter"},exportAs:["nzEmpty"],features:[t.TTD],decls:6,vars:5,consts:[[1,"ant-empty-image"],[4,"ngIf"],["class","ant-empty-description",4,"ngIf"],["class","ant-empty-footer",4,"ngIf"],[4,"nzStringTemplateOutlet"],[3,"src","alt"],[1,"ant-empty-description"],[1,"ant-empty-footer"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,wu,2,1,"ng-container",1),t.YNc(2,Tu,1,0,"nz-empty-default",1),t.YNc(3,Iu,1,0,"nz-empty-simple",1),t.qZA(),t.YNc(4,Ou,2,1,"p",2),t.YNc(5,Du,2,1,"div",3)),2&e&&(t.xp6(1),t.Q6J("ngIf",!n.isImageBuildIn),t.xp6(1),t.Q6J("ngIf",n.isImageBuildIn&&"simple"!==n.nzNotFoundImage),t.xp6(1),t.Q6J("ngIf",n.isImageBuildIn&&"simple"===n.nzNotFoundImage),t.xp6(1),t.Q6J("ngIf",null!==n.nzNotFoundContent),t.xp6(1),t.Q6J("ngIf",n.nzNotFoundFooter))},dependencies:[J.O5,ai,ju,Yu],encapsulation:2,changeDetection:0}),i})(),Q3=(()=>{class i{constructor(e,n,v,M){this.configService=e,this.viewContainerRef=n,this.cdr=v,this.injector=M,this.contentType="string",this.size="",this.destroy$=new q.x}ngOnChanges(e){e.nzComponentName&&(this.size=function Wu(i){switch(i){case"table":case"list":return"normal";case"select":case"tree-select":case"cascader":case"transfer":return"small";default:return""}}(e.nzComponentName.currentValue)),e.specificContent&&!e.specificContent.isFirstChange()&&(this.content=e.specificContent.currentValue,this.renderEmpty())}ngOnInit(){this.subscribeDefaultEmptyContentChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderEmpty(){const e=this.content;if("string"==typeof e)this.contentType="string";else if(e instanceof t.Rgc){const n={$implicit:this.nzComponentName};this.contentType="template",this.contentPortal=new Lr(e,this.viewContainerRef,n)}else if(e instanceof t.DyG){const n=t.zs3.create({parent:this.injector,providers:[{provide:Vu,useValue:this.nzComponentName}]});this.contentType="component",this.contentPortal=new kr(e,this.viewContainerRef,n)}else this.contentType="string",this.contentPortal=void 0;this.cdr.detectChanges()}subscribeDefaultEmptyContentChange(){this.configService.getConfigChangeEventForComponent("empty").pipe((0,C.O)(!0),u(this.destroy$)).subscribe(()=>{this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()})}getUserDefaultEmptyContent(){return(this.configService.getConfigForComponent("empty")||{}).nzDefaultEmptyContent}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Ci),t.Y36(t.s_b),t.Y36(t.sBO),t.Y36(t.zs3))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-embed-empty"]],inputs:{nzComponentName:"nzComponentName",specificContent:"specificContent"},exportAs:["nzEmbedEmpty"],features:[t.TTD],decls:2,vars:2,consts:[[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],[3,"ngSwitch"],["class","ant-empty-normal",3,"nzNotFoundImage",4,"ngSwitchCase"],["class","ant-empty-small",3,"nzNotFoundImage",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"ant-empty-normal",3,"nzNotFoundImage"],[1,"ant-empty-small",3,"nzNotFoundImage"],[3,"cdkPortalOutlet"]],template:function(e,n){1&e&&(t.YNc(0,Hu,4,3,"ng-container",0),t.YNc(1,Bu,3,2,"ng-container",1)),2&e&&(t.Q6J("ngIf",!n.content&&null!==n.specificContent),t.xp6(1),t.Q6J("ngIf",n.content))},dependencies:[J.O5,J.RF,J.n9,J.ED,Fo,Gu],encapsulation:2,changeDetection:0}),i})(),J3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,M3,en,Pi.YI]}),i})();const $3=["*"];function Zu(i,o){}function Xu(i,o){if(1&i&&t.YNc(0,Zu,0,0,"ng-template",4),2&i){const e=t.oxw();t.Q6J("ngTemplateOutlet",e.template)}}function Qu(i,o){if(1&i&&t._uU(0),2&i){const e=t.oxw();t.Oqu(e.label)}}function Ju(i,o){1&i&&t._UZ(0,"span",7)}function $u(i,o){if(1&i&&(t.TgZ(0,"div",5),t.YNc(1,Ju,1,0,"span",6),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.icon)("ngIfElse",e.icon)}}function Ku(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.nzLabel)}}function qu(i,o){if(1&i&&(t.TgZ(0,"div",4),t._UZ(1,"nz-embed-empty",5),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("specificContent",e.notFoundContent)}}function ed(i,o){if(1&i&&t._UZ(0,"nz-option-item-group",9),2&i){const e=t.oxw().$implicit;t.Q6J("nzLabel",e.groupLabel)}}function td(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nz-option-item",10),t.NdJ("itemHover",function(v){t.CHM(e);const M=t.oxw(2);return t.KtG(M.onItemHover(v))})("itemClick",function(v){t.CHM(e);const M=t.oxw(2);return t.KtG(M.onItemClick(v))}),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("icon",n.menuItemSelectedIcon)("customContent",e.nzCustomContent)("template",e.template)("grouped",!!e.groupLabel)("disabled",e.nzDisabled)("showState","tags"===n.mode||"multiple"===n.mode)("label",e.nzLabel)("compareWith",n.compareWith)("activatedValue",n.activatedValue)("listOfSelectedValue",n.listOfSelectedValue)("value",e.nzValue)}}function id(i,o){1&i&&(t.ynx(0,6),t.YNc(1,ed,1,1,"nz-option-item-group",7),t.YNc(2,td,1,11,"nz-option-item",8),t.BQk()),2&i&&(t.Q6J("ngSwitch",o.$implicit.type),t.xp6(1),t.Q6J("ngSwitchCase","group"),t.xp6(1),t.Q6J("ngSwitchCase","item"))}function nd(i,o){}function od(i,o){1&i&&t.Hsn(0)}const rd=["inputElement"],ad=["mirrorElement"];function sd(i,o){1&i&&t._UZ(0,"span",3,4)}function cd(i,o){if(1&i&&(t.TgZ(0,"div",4),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.label)}}function ld(i,o){if(1&i&&t._uU(0),2&i){const e=t.oxw(2);t.Oqu(e.label)}}function hd(i,o){if(1&i&&(t.ynx(0),t.YNc(1,cd,2,1,"div",2),t.YNc(2,ld,1,1,"ng-template",null,3,t.W1O),t.BQk()),2&i){const e=t.MAs(3),n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.deletable)("ngIfElse",e)}}function ud(i,o){1&i&&t._UZ(0,"span",7)}function dd(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"span",5),t.NdJ("click",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.onDelete(v))}),t.YNc(1,ud,1,0,"span",6),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.removeIcon)("ngIfElse",e.removeIcon)}}const fd=function(i){return{$implicit:i}};function pd(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.placeholder," ")}}function gd(i,o){if(1&i&&t._UZ(0,"nz-select-item",6),2&i){const e=t.oxw(2);t.Q6J("deletable",!1)("disabled",!1)("removeIcon",e.removeIcon)("label",e.listOfTopItem[0].nzLabel)("contentTemplateOutlet",e.customTemplate)("contentTemplateOutletContext",e.listOfTopItem[0])}}function vd(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"nz-select-search",4),t.NdJ("isComposingChange",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.isComposingChange(v))})("valueChange",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.onInputValueChange(v))}),t.qZA(),t.YNc(2,gd,1,6,"nz-select-item",5),t.BQk()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("nzId",e.nzId)("disabled",e.disabled)("value",e.inputValue)("showInput",e.showSearch)("mirrorSync",!1)("autofocus",e.autofocus)("focusTrigger",e.open),t.xp6(1),t.Q6J("ngIf",e.isShowSingleLabel)}}function md(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nz-select-item",9),t.NdJ("delete",function(){const M=t.CHM(e).$implicit,F=t.oxw(2);return t.KtG(F.onDeleteItem(M.contentTemplateOutletContext))}),t.qZA()}if(2&i){const e=o.$implicit,n=t.oxw(2);t.Q6J("removeIcon",n.removeIcon)("label",e.nzLabel)("disabled",e.nzDisabled||n.disabled)("contentTemplateOutlet",e.contentTemplateOutlet)("deletable",!0)("contentTemplateOutletContext",e.contentTemplateOutletContext)}}function yd(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.YNc(1,md,1,6,"nz-select-item",7),t.TgZ(2,"nz-select-search",8),t.NdJ("isComposingChange",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.isComposingChange(v))})("valueChange",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.onInputValueChange(v))}),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.listOfSlicedItem)("ngForTrackBy",e.trackValue),t.xp6(1),t.Q6J("nzId",e.nzId)("disabled",e.disabled)("value",e.inputValue)("autofocus",e.autofocus)("showInput",!0)("mirrorSync",!0)("focusTrigger",e.open)}}function _d(i,o){if(1&i&&t._UZ(0,"nz-select-placeholder",10),2&i){const e=t.oxw();t.Q6J("placeholder",e.placeHolder)}}function Cd(i,o){1&i&&t._UZ(0,"span",1)}function zd(i,o){1&i&&t._UZ(0,"span",3)}function bd(i,o){1&i&&t._UZ(0,"span",8)}function xd(i,o){1&i&&t._UZ(0,"span",9)}function Md(i,o){if(1&i&&(t.ynx(0),t.YNc(1,bd,1,0,"span",6),t.YNc(2,xd,1,0,"span",7),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.search),t.xp6(1),t.Q6J("ngIf",e.search)}}function Sd(i,o){if(1&i&&t._UZ(0,"span",11),2&i){const e=t.oxw().$implicit;t.Q6J("nzType",e)}}function wd(i,o){if(1&i&&(t.ynx(0),t.YNc(1,Sd,1,1,"span",10),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e)}}function Td(i,o){if(1&i&&t.YNc(0,wd,2,1,"ng-container",2),2&i){const e=t.oxw(2);t.Q6J("nzStringTemplateOutlet",e.suffixIcon)}}function Id(i,o){if(1&i&&(t.YNc(0,Md,3,2,"ng-container",4),t.YNc(1,Td,1,1,"ng-template",null,5,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw();t.Q6J("ngIf",n.showArrow&&!n.suffixIcon)("ngIfElse",e)}}function Ed(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.feedbackIcon)}}function Od(i,o){if(1&i&&t._UZ(0,"nz-form-item-feedback-icon",8),2&i){const e=t.oxw(3);t.Q6J("status",e.status)}}function Ad(i,o){if(1&i&&t.YNc(0,Od,1,1,"nz-form-item-feedback-icon",7),2&i){const e=t.oxw(2);t.Q6J("ngIf",e.hasFeedback&&!!e.status)}}function Dd(i,o){if(1&i&&(t.TgZ(0,"nz-select-arrow",5),t.YNc(1,Ad,1,1,"ng-template",null,6,t.W1O),t.qZA()),2&i){const e=t.MAs(2),n=t.oxw();t.Q6J("showArrow",n.nzShowArrow)("loading",n.nzLoading)("search",n.nzOpen&&n.nzShowSearch)("suffixIcon",n.nzSuffixIcon)("feedbackIcon",e)}}function kd(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nz-select-clear",9),t.NdJ("clear",function(){t.CHM(e);const v=t.oxw();return t.KtG(v.onClearSelection())}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("clearIcon",e.nzClearIcon)}}function Ld(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nz-option-container",10),t.NdJ("keydown",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.onKeyDown(v))})("itemClick",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.onItemClick(v))})("scrollToBottom",function(){t.CHM(e);const v=t.oxw();return t.KtG(v.nzScrollToBottom.emit())}),t.qZA()}if(2&i){const e=t.oxw();t.ekj("ant-select-dropdown-placement-bottomLeft","bottomLeft"===e.dropDownPosition)("ant-select-dropdown-placement-topLeft","topLeft"===e.dropDownPosition)("ant-select-dropdown-placement-bottomRight","bottomRight"===e.dropDownPosition)("ant-select-dropdown-placement-topRight","topRight"===e.dropDownPosition),t.Q6J("ngStyle",e.nzDropdownStyle)("itemSize",e.nzOptionHeightPx)("maxItemLength",e.nzOptionOverflowSize)("matchWidth",e.nzDropdownMatchSelectWidth)("@slideMotion","enter")("@.disabled",!(null==e.noAnimation||!e.noAnimation.nzNoAnimation))("nzNoAnimation",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("listOfContainerItem",e.listOfContainerItem)("menuItemSelectedIcon",e.nzMenuItemSelectedIcon)("notFoundContent",e.nzNotFoundContent)("activatedValue",e.activatedValue)("listOfSelectedValue",e.listOfValue)("dropdownRender",e.nzDropdownRender)("compareWith",e.compareWith)("mode",e.nzMode)}}let fc=(()=>{class i{constructor(){this.nzLabel=null,this.changes=new q.x}ngOnChanges(){this.changes.next()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-option-group"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzOptionGroup"],features:[t.TTD],ngContentSelectors:$3,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),Nd=(()=>{class i{constructor(e,n,v){this.elementRef=e,this.ngZone=n,this.destroy$=v,this.selected=!1,this.activated=!1,this.grouped=!1,this.customContent=!1,this.template=null,this.disabled=!1,this.showState=!1,this.label=null,this.value=null,this.activatedValue=null,this.listOfSelectedValue=[],this.icon=null,this.itemClick=new t.vpe,this.itemHover=new t.vpe}ngOnChanges(e){const{value:n,activatedValue:v,listOfSelectedValue:M}=e;(n||M)&&(this.selected=this.listOfSelectedValue.some(F=>this.compareWith(F,this.value))),(n||v)&&(this.activated=this.compareWith(this.activatedValue,this.value))}ngOnInit(){this.ngZone.runOutsideAngular(()=>{U(this.elementRef.nativeElement,"click").pipe(u(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemClick.emit(this.value))}),U(this.elementRef.nativeElement,"mouseenter").pipe(u(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemHover.emit(this.value))})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(Ai))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-option-item"]],hostAttrs:[1,"ant-select-item","ant-select-item-option"],hostVars:9,hostBindings:function(e,n){2&e&&(t.uIk("title",n.label),t.ekj("ant-select-item-option-grouped",n.grouped)("ant-select-item-option-selected",n.selected&&!n.disabled)("ant-select-item-option-disabled",n.disabled)("ant-select-item-option-active",n.activated&&!n.disabled))},inputs:{grouped:"grouped",customContent:"customContent",template:"template",disabled:"disabled",showState:"showState",label:"label",value:"value",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",icon:"icon",compareWith:"compareWith"},outputs:{itemClick:"itemClick",itemHover:"itemHover"},features:[t._Bn([Ai]),t.TTD],decls:5,vars:3,consts:[[1,"ant-select-item-option-content"],[3,"ngIf","ngIfElse"],["noCustomContent",""],["class","ant-select-item-option-state","style","user-select: none","unselectable","on",4,"ngIf"],[3,"ngTemplateOutlet"],["unselectable","on",1,"ant-select-item-option-state",2,"user-select","none"],["nz-icon","","nzType","check","class","ant-select-selected-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","check",1,"ant-select-selected-icon"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,Xu,1,1,"ng-template",1),t.YNc(2,Qu,1,1,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,$u,2,2,"div",3)),2&e){const v=t.MAs(3);t.xp6(1),t.Q6J("ngIf",n.customContent)("ngIfElse",v),t.xp6(3),t.Q6J("ngIf",n.showState&&n.selected)}},dependencies:[J.O5,J.tP,ri,Mi],encapsulation:2,changeDetection:0}),i})(),Hd=(()=>{class i{constructor(){this.nzLabel=null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-option-item-group"]],hostAttrs:[1,"ant-select-item","ant-select-item-group"],inputs:{nzLabel:"nzLabel"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(e,n){1&e&&t.YNc(0,Ku,2,1,"ng-container",0),2&e&&t.Q6J("nzStringTemplateOutlet",n.nzLabel)},dependencies:[ai],encapsulation:2,changeDetection:0}),i})(),Pd=(()=>{class i{constructor(){this.notFoundContent=void 0,this.menuItemSelectedIcon=null,this.dropdownRender=null,this.activatedValue=null,this.listOfSelectedValue=[],this.mode="default",this.matchWidth=!0,this.itemSize=32,this.maxItemLength=8,this.listOfContainerItem=[],this.itemClick=new t.vpe,this.scrollToBottom=new t.vpe,this.scrolledIndex=0}onItemClick(e){this.itemClick.emit(e)}onItemHover(e){this.activatedValue=e}trackValue(e,n){return n.key}onScrolledIndexChange(e){this.scrolledIndex=e,e===this.listOfContainerItem.length-this.maxItemLength&&this.scrollToBottom.emit()}scrollToActivatedValue(){const e=this.listOfContainerItem.findIndex(n=>this.compareWith(n.key,this.activatedValue));(e<this.scrolledIndex||e>=this.scrolledIndex+this.maxItemLength)&&this.cdkVirtualScrollViewport.scrollToIndex(e||0)}ngOnChanges(e){const{listOfContainerItem:n,activatedValue:v}=e;(n||v)&&this.scrollToActivatedValue()}ngAfterViewInit(){setTimeout(()=>this.scrollToActivatedValue())}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-option-container"]],viewQuery:function(e,n){if(1&e&&t.Gf(Dr,7),2&e){let v;t.iGM(v=t.CRH())&&(n.cdkVirtualScrollViewport=v.first)}},hostAttrs:[1,"ant-select-dropdown"],inputs:{notFoundContent:"notFoundContent",menuItemSelectedIcon:"menuItemSelectedIcon",dropdownRender:"dropdownRender",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",compareWith:"compareWith",mode:"mode",matchWidth:"matchWidth",itemSize:"itemSize",maxItemLength:"maxItemLength",listOfContainerItem:"listOfContainerItem"},outputs:{itemClick:"itemClick",scrollToBottom:"scrollToBottom"},exportAs:["nzOptionContainer"],features:[t.TTD],decls:5,vars:14,consts:[["class","ant-select-item-empty",4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx","scrolledIndexChange"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"ngTemplateOutlet"],[1,"ant-select-item-empty"],["nzComponentName","select",3,"specificContent"],[3,"ngSwitch"],[3,"nzLabel",4,"ngSwitchCase"],[3,"icon","customContent","template","grouped","disabled","showState","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick",4,"ngSwitchCase"],[3,"nzLabel"],[3,"icon","customContent","template","grouped","disabled","showState","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick"]],template:function(e,n){1&e&&(t.TgZ(0,"div"),t.YNc(1,qu,2,1,"div",0),t.TgZ(2,"cdk-virtual-scroll-viewport",1),t.NdJ("scrolledIndexChange",function(M){return n.onScrolledIndexChange(M)}),t.YNc(3,id,3,3,"ng-template",2),t.qZA(),t.YNc(4,nd,0,0,"ng-template",3),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",0===n.listOfContainerItem.length),t.xp6(1),t.Udp("height",n.listOfContainerItem.length*n.itemSize,"px")("max-height",n.itemSize*n.maxItemLength,"px"),t.ekj("full-width",!n.matchWidth),t.Q6J("itemSize",n.itemSize)("maxBufferPx",n.itemSize*n.maxItemLength)("minBufferPx",n.itemSize*n.maxItemLength),t.xp6(1),t.Q6J("cdkVirtualForOf",n.listOfContainerItem)("cdkVirtualForTrackBy",n.trackValue)("cdkVirtualForTemplateCacheSize",0),t.xp6(1),t.Q6J("ngTemplateOutlet",n.dropdownRender))},dependencies:[J.O5,J.tP,J.RF,J.n9,ch,ph,Dr,Q3,Nd,Hd],encapsulation:2,changeDetection:0}),i})(),K3=(()=>{class i{constructor(e,n){this.nzOptionGroupComponent=e,this.destroy$=n,this.changes=new q.x,this.groupLabel=null,this.nzLabel=null,this.nzValue=null,this.nzDisabled=!1,this.nzHide=!1,this.nzCustomContent=!1}ngOnInit(){this.nzOptionGroupComponent&&this.nzOptionGroupComponent.changes.pipe((0,C.O)(!0),u(this.destroy$)).subscribe(()=>{this.groupLabel=this.nzOptionGroupComponent.nzLabel})}ngOnChanges(){this.changes.next()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(fc,8),t.Y36(Ai))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-option"]],viewQuery:function(e,n){if(1&e&&t.Gf(t.Rgc,7),2&e){let v;t.iGM(v=t.CRH())&&(n.template=v.first)}},inputs:{nzLabel:"nzLabel",nzValue:"nzValue",nzDisabled:"nzDisabled",nzHide:"nzHide",nzCustomContent:"nzCustomContent"},exportAs:["nzOption"],features:[t._Bn([Ai]),t.TTD],ngContentSelectors:$3,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.YNc(0,od,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),(0,ue.gn)([yt()],i.prototype,"nzDisabled",void 0),(0,ue.gn)([yt()],i.prototype,"nzHide",void 0),(0,ue.gn)([yt()],i.prototype,"nzCustomContent",void 0),i})(),q3=(()=>{class i{constructor(e,n,v){this.elementRef=e,this.renderer=n,this.focusMonitor=v,this.nzId=null,this.disabled=!1,this.mirrorSync=!1,this.showInput=!0,this.focusTrigger=!1,this.value="",this.autofocus=!1,this.valueChange=new t.vpe,this.isComposingChange=new t.vpe}setCompositionState(e){this.isComposingChange.next(e)}onValueChange(e){this.value=e,this.valueChange.next(e),this.mirrorSync&&this.syncMirrorWidth()}clearInputValue(){this.inputElement.nativeElement.value="",this.onValueChange("")}syncMirrorWidth(){const e=this.mirrorElement.nativeElement,n=this.elementRef.nativeElement,v=this.inputElement.nativeElement;this.renderer.removeStyle(n,"width"),this.renderer.setProperty(e,"textContent",`${v.value}\xa0`),this.renderer.setStyle(n,"width",`${e.scrollWidth}px`)}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnChanges(e){const n=this.inputElement.nativeElement,{focusTrigger:v,showInput:M}=e;M&&(this.showInput?this.renderer.removeAttribute(n,"readonly"):this.renderer.setAttribute(n,"readonly","readonly")),v&&!0===v.currentValue&&!1===v.previousValue&&n.focus()}ngAfterViewInit(){this.mirrorSync&&this.syncMirrorWidth(),this.autofocus&&this.focus()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(Mr))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-select-search"]],viewQuery:function(e,n){if(1&e&&(t.Gf(rd,7),t.Gf(ad,5)),2&e){let v;t.iGM(v=t.CRH())&&(n.inputElement=v.first),t.iGM(v=t.CRH())&&(n.mirrorElement=v.first)}},hostAttrs:[1,"ant-select-selection-search"],inputs:{nzId:"nzId",disabled:"disabled",mirrorSync:"mirrorSync",showInput:"showInput",focusTrigger:"focusTrigger",value:"value",autofocus:"autofocus"},outputs:{valueChange:"valueChange",isComposingChange:"isComposingChange"},features:[t._Bn([{provide:gt.ve,useValue:!1}]),t.TTD],decls:3,vars:7,consts:[["autocomplete","off",1,"ant-select-selection-search-input",3,"ngModel","disabled","ngModelChange","compositionstart","compositionend"],["inputElement",""],["class","ant-select-selection-search-mirror",4,"ngIf"],[1,"ant-select-selection-search-mirror"],["mirrorElement",""]],template:function(e,n){1&e&&(t.TgZ(0,"input",0,1),t.NdJ("ngModelChange",function(M){return n.onValueChange(M)})("compositionstart",function(){return n.setCompositionState(!0)})("compositionend",function(){return n.setCompositionState(!1)}),t.qZA(),t.YNc(2,sd,2,0,"span",2)),2&e&&(t.Udp("opacity",n.showInput?null:0),t.Q6J("ngModel",n.value)("disabled",n.disabled),t.uIk("id",n.nzId)("autofocus",n.autofocus?"autofocus":null),t.xp6(2),t.Q6J("ngIf",n.mirrorSync))},dependencies:[J.O5,gt.Fj,gt.JJ,gt.On],encapsulation:2,changeDetection:0}),i})(),Fd=(()=>{class i{constructor(){this.disabled=!1,this.label=null,this.deletable=!1,this.removeIcon=null,this.contentTemplateOutletContext=null,this.contentTemplateOutlet=null,this.delete=new t.vpe}onDelete(e){e.preventDefault(),e.stopPropagation(),this.disabled||this.delete.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-select-item"]],hostAttrs:[1,"ant-select-selection-item"],hostVars:3,hostBindings:function(e,n){2&e&&(t.uIk("title",n.label),t.ekj("ant-select-selection-item-disabled",n.disabled))},inputs:{disabled:"disabled",label:"label",deletable:"deletable",removeIcon:"removeIcon",contentTemplateOutletContext:"contentTemplateOutletContext",contentTemplateOutlet:"contentTemplateOutlet"},outputs:{delete:"delete"},decls:2,vars:5,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-select-selection-item-remove",3,"click",4,"ngIf"],["class","ant-select-selection-item-content",4,"ngIf","ngIfElse"],["labelTemplate",""],[1,"ant-select-selection-item-content"],[1,"ant-select-selection-item-remove",3,"click"],["nz-icon","","nzType","close",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close"]],template:function(e,n){1&e&&(t.YNc(0,hd,4,2,"ng-container",0),t.YNc(1,dd,2,2,"span",1)),2&e&&(t.Q6J("nzStringTemplateOutlet",n.contentTemplateOutlet)("nzStringTemplateOutletContext",t.VKq(3,fd,n.contentTemplateOutletContext)),t.xp6(1),t.Q6J("ngIf",n.deletable&&!n.disabled))},dependencies:[J.O5,ri,ai,Mi],encapsulation:2,changeDetection:0}),i})(),Rd=(()=>{class i{constructor(){this.placeholder=null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-select-placeholder"]],hostAttrs:[1,"ant-select-selection-placeholder"],inputs:{placeholder:"placeholder"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(e,n){1&e&&t.YNc(0,pd,2,1,"ng-container",0),2&e&&t.Q6J("nzStringTemplateOutlet",n.placeholder)},dependencies:[ai],encapsulation:2,changeDetection:0}),i})(),pc=(()=>{class i{constructor(e,n,v){this.elementRef=e,this.ngZone=n,this.noAnimation=v,this.nzId=null,this.showSearch=!1,this.placeHolder=null,this.open=!1,this.maxTagCount=1/0,this.autofocus=!1,this.disabled=!1,this.mode="default",this.customTemplate=null,this.maxTagPlaceholder=null,this.removeIcon=null,this.listOfTopItem=[],this.tokenSeparators=[],this.tokenize=new t.vpe,this.inputValueChange=new t.vpe,this.deleteItem=new t.vpe,this.listOfSlicedItem=[],this.isShowPlaceholder=!0,this.isShowSingleLabel=!1,this.isComposing=!1,this.inputValue=null,this.destroy$=new q.x}updateTemplateVariable(){const e=0===this.listOfTopItem.length;this.isShowPlaceholder=e&&!this.isComposing&&!this.inputValue,this.isShowSingleLabel=!e&&!this.isComposing&&!this.inputValue}isComposingChange(e){this.isComposing=e,this.updateTemplateVariable()}onInputValueChange(e){e!==this.inputValue&&(this.inputValue=e,this.updateTemplateVariable(),this.inputValueChange.emit(e),this.tokenSeparate(e,this.tokenSeparators))}tokenSeparate(e,n){if(e&&e.length&&n.length&&"default"!==this.mode&&((F,Q)=>{for(let re=0;re<Q.length;++re)if(F.lastIndexOf(Q[re])>0)return!0;return!1})(e,n)){const F=((F,Q)=>{const re=new RegExp(`[${Q.join()}]`),Ce=F.split(re).filter(Le=>Le);return[...new Set(Ce)]})(e,n);this.tokenize.next(F)}}clearInputValue(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.clearInputValue()}focus(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}blur(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.blur()}trackValue(e,n){return n.nzValue}onDeleteItem(e){!this.disabled&&!e.nzDisabled&&this.deleteItem.next(e)}ngOnChanges(e){const{listOfTopItem:n,maxTagCount:v,customTemplate:M,maxTagPlaceholder:F}=e;if(n&&this.updateTemplateVariable(),n||v||M||F){const Q=this.listOfTopItem.slice(0,this.maxTagCount).map(re=>({nzLabel:re.nzLabel,nzValue:re.nzValue,nzDisabled:re.nzDisabled,contentTemplateOutlet:this.customTemplate,contentTemplateOutletContext:re}));if(this.listOfTopItem.length>this.maxTagCount){const re=`+ ${this.listOfTopItem.length-this.maxTagCount} ...`,Ce=this.listOfTopItem.map(ot=>ot.nzValue),Le={nzLabel:re,nzValue:"$$__nz_exceeded_item",nzDisabled:!0,contentTemplateOutlet:this.maxTagPlaceholder,contentTemplateOutletContext:Ce.slice(this.maxTagCount)};Q.push(Le)}this.listOfSlicedItem=Q}}ngOnInit(){this.ngZone.runOutsideAngular(()=>{U(this.elementRef.nativeElement,"click").pipe(u(this.destroy$)).subscribe(e=>{e.target!==this.nzSelectSearchComponent.inputElement.nativeElement&&this.nzSelectSearchComponent.focus()}),U(this.elementRef.nativeElement,"keydown").pipe(u(this.destroy$)).subscribe(e=>{e.target instanceof HTMLInputElement&&8===e.keyCode&&"default"!==this.mode&&!e.target.value&&this.listOfTopItem.length>0&&(e.preventDefault(),this.ngZone.run(()=>this.onDeleteItem(this.listOfTopItem[this.listOfTopItem.length-1])))})})}ngOnDestroy(){this.destroy$.next()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(tn,9))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-select-top-control"]],viewQuery:function(e,n){if(1&e&&t.Gf(q3,5),2&e){let v;t.iGM(v=t.CRH())&&(n.nzSelectSearchComponent=v.first)}},hostAttrs:[1,"ant-select-selector"],inputs:{nzId:"nzId",showSearch:"showSearch",placeHolder:"placeHolder",open:"open",maxTagCount:"maxTagCount",autofocus:"autofocus",disabled:"disabled",mode:"mode",customTemplate:"customTemplate",maxTagPlaceholder:"maxTagPlaceholder",removeIcon:"removeIcon",listOfTopItem:"listOfTopItem",tokenSeparators:"tokenSeparators"},outputs:{tokenize:"tokenize",inputValueChange:"inputValueChange",deleteItem:"deleteItem"},exportAs:["nzSelectTopControl"],features:[t.TTD],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"placeholder",4,"ngIf"],[3,"nzId","disabled","value","showInput","mirrorSync","autofocus","focusTrigger","isComposingChange","valueChange"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext",4,"ngIf"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzId","disabled","value","autofocus","showInput","mirrorSync","focusTrigger","isComposingChange","valueChange"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete"],[3,"placeholder"]],template:function(e,n){1&e&&(t.ynx(0,0),t.YNc(1,vd,3,8,"ng-container",1),t.YNc(2,yd,3,9,"ng-container",2),t.BQk(),t.YNc(3,_d,1,1,"nz-select-placeholder",3)),2&e&&(t.Q6J("ngSwitch",n.mode),t.xp6(1),t.Q6J("ngSwitchCase","default"),t.xp6(2),t.Q6J("ngIf",n.isShowPlaceholder))},dependencies:[J.sg,J.O5,J.RF,J.n9,J.ED,Mi,q3,Fd,Rd],encapsulation:2,changeDetection:0}),i})(),Bd=(()=>{class i{constructor(){this.clearIcon=null,this.clear=new t.vpe}onClick(e){e.preventDefault(),e.stopPropagation(),this.clear.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-select-clear"]],hostAttrs:[1,"ant-select-clear"],hostBindings:function(e,n){1&e&&t.NdJ("click",function(M){return n.onClick(M)})},inputs:{clearIcon:"clearIcon"},outputs:{clear:"clear"},decls:1,vars:2,consts:[["nz-icon","","nzType","close-circle","nzTheme","fill","class","ant-select-close-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close-circle","nzTheme","fill",1,"ant-select-close-icon"]],template:function(e,n){1&e&&t.YNc(0,Cd,1,0,"span",0),2&e&&t.Q6J("ngIf",!n.clearIcon)("ngIfElse",n.clearIcon)},dependencies:[J.O5,ri,Mi],encapsulation:2,changeDetection:0}),i})(),Vd=(()=>{class i{constructor(){this.loading=!1,this.search=!1,this.showArrow=!1,this.suffixIcon=null,this.feedbackIcon=null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-select-arrow"]],hostAttrs:[1,"ant-select-arrow"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("ant-select-arrow-loading",n.loading)},inputs:{loading:"loading",search:"search",showArrow:"showArrow",suffixIcon:"suffixIcon",feedbackIcon:"feedbackIcon"},decls:4,vars:3,consts:[["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],["defaultArrow",""],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","loading"],[4,"ngIf","ngIfElse"],["suffixTemplate",""],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","search",4,"ngIf"],["nz-icon","","nzType","down"],["nz-icon","","nzType","search"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(e,n){if(1&e&&(t.YNc(0,zd,1,0,"span",0),t.YNc(1,Id,3,2,"ng-template",null,1,t.W1O),t.YNc(3,Ed,2,1,"ng-container",2)),2&e){const v=t.MAs(2);t.Q6J("ngIf",n.loading)("ngIfElse",v),t.xp6(3),t.Q6J("nzStringTemplateOutlet",n.feedbackIcon)}},dependencies:[J.O5,ri,ai,Mi],encapsulation:2,changeDetection:0}),i})();const jd=(i,o)=>!(!o||!o.nzLabel)&&o.nzLabel.toString().toLowerCase().indexOf(i.toLowerCase())>-1;let Ud=(()=>{class i{constructor(e,n,v,M,F,Q,re,Ce,Le,ot,xt,wt){this.ngZone=e,this.destroy$=n,this.nzConfigService=v,this.cdr=M,this.host=F,this.renderer=Q,this.platform=re,this.focusMonitor=Ce,this.directionality=Le,this.noAnimation=ot,this.nzFormStatusService=xt,this.nzFormNoStatusService=wt,this._nzModuleName="select",this.nzId=null,this.nzSize="default",this.nzStatus="",this.nzOptionHeightPx=32,this.nzOptionOverflowSize=8,this.nzDropdownClassName=null,this.nzDropdownMatchSelectWidth=!0,this.nzDropdownStyle=null,this.nzNotFoundContent=void 0,this.nzPlaceHolder=null,this.nzPlacement=null,this.nzMaxTagCount=1/0,this.nzDropdownRender=null,this.nzCustomTemplate=null,this.nzSuffixIcon=null,this.nzClearIcon=null,this.nzRemoveIcon=null,this.nzMenuItemSelectedIcon=null,this.nzTokenSeparators=[],this.nzMaxTagPlaceholder=null,this.nzMaxMultipleCount=1/0,this.nzMode="default",this.nzFilterOption=jd,this.compareWith=(Qt,ii)=>Qt===ii,this.nzAllowClear=!1,this.nzBorderless=!1,this.nzShowSearch=!1,this.nzLoading=!1,this.nzAutoFocus=!1,this.nzAutoClearSearchValue=!0,this.nzServerSearch=!1,this.nzDisabled=!1,this.nzOpen=!1,this.nzSelectOnTab=!1,this.nzBackdrop=!1,this.nzOptions=[],this.nzOnSearch=new t.vpe,this.nzScrollToBottom=new t.vpe,this.nzOpenChange=new t.vpe,this.nzBlur=new t.vpe,this.nzFocus=new t.vpe,this.listOfValue$=new yn.X([]),this.listOfTemplateItem$=new yn.X([]),this.listOfTagAndTemplateItem=[],this.searchValue="",this.isReactiveDriven=!1,this.requestId=-1,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.dropDownPosition="bottomLeft",this.triggerWidth=null,this.listOfContainerItem=[],this.listOfTopItem=[],this.activatedValue=null,this.listOfValue=[],this.focused=!1,this.dir="ltr",this.positions=[],this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1}set nzShowArrow(e){this._nzShowArrow=e}get nzShowArrow(){return void 0===this._nzShowArrow?"default"===this.nzMode:this._nzShowArrow}generateTagItem(e){return{nzValue:e,nzLabel:e,type:"item"}}onItemClick(e){if(this.activatedValue=e,"default"===this.nzMode)(0===this.listOfValue.length||!this.compareWith(this.listOfValue[0],e))&&this.updateListOfValue([e]),this.setOpenState(!1);else{const n=this.listOfValue.findIndex(v=>this.compareWith(v,e));if(-1!==n){const v=this.listOfValue.filter((M,F)=>F!==n);this.updateListOfValue(v)}else if(this.listOfValue.length<this.nzMaxMultipleCount){const v=[...this.listOfValue,e];this.updateListOfValue(v)}this.focus(),this.nzAutoClearSearchValue&&this.clearInput()}}onItemDelete(e){const n=this.listOfValue.filter(v=>!this.compareWith(v,e.nzValue));this.updateListOfValue(n),this.clearInput()}updateListOfContainerItem(){let e=this.listOfTagAndTemplateItem.filter(M=>!M.nzHide).filter(M=>!(!this.nzServerSearch&&this.searchValue)||this.nzFilterOption(this.searchValue,M));if("tags"===this.nzMode&&this.searchValue){const M=this.listOfTagAndTemplateItem.find(F=>F.nzLabel===this.searchValue);if(M)this.activatedValue=M.nzValue;else{const F=this.generateTagItem(this.searchValue);e=[F,...e],this.activatedValue=F.nzValue}}const n=e.find(M=>M.nzLabel===this.searchValue)||e.find(M=>this.compareWith(M.nzValue,this.activatedValue))||e.find(M=>this.compareWith(M.nzValue,this.listOfValue[0]))||e[0];this.activatedValue=n&&n.nzValue||null;let v=[];this.isReactiveDriven?v=[...new Set(this.nzOptions.filter(M=>M.groupLabel).map(M=>M.groupLabel))]:this.listOfNzOptionGroupComponent&&(v=this.listOfNzOptionGroupComponent.map(M=>M.nzLabel)),v.forEach(M=>{const F=e.findIndex(Q=>M===Q.groupLabel);F>-1&&e.splice(F,0,{groupLabel:M,type:"group",key:M})}),this.listOfContainerItem=[...e],this.updateCdkConnectedOverlayPositions()}clearInput(){this.nzSelectTopControlComponent.clearInputValue()}updateListOfValue(e){const v=((M,F)=>"default"===this.nzMode?M.length>0?M[0]:null:M)(e);this.value!==v&&(this.listOfValue=e,this.listOfValue$.next(e),this.value=v,this.onChange(this.value))}onTokenSeparate(e){const n=this.listOfTagAndTemplateItem.filter(v=>-1!==e.findIndex(M=>M===v.nzLabel)).map(v=>v.nzValue).filter(v=>-1===this.listOfValue.findIndex(M=>this.compareWith(M,v)));if("multiple"===this.nzMode)this.updateListOfValue([...this.listOfValue,...n]);else if("tags"===this.nzMode){const v=e.filter(M=>-1===this.listOfTagAndTemplateItem.findIndex(F=>F.nzLabel===M));this.updateListOfValue([...this.listOfValue,...n,...v])}this.clearInput()}onKeyDown(e){if(this.nzDisabled)return;const n=this.listOfContainerItem.filter(M=>"item"===M.type).filter(M=>!M.nzDisabled),v=n.findIndex(M=>this.compareWith(M.nzValue,this.activatedValue));switch(e.keyCode){case 38:e.preventDefault(),this.nzOpen&&n.length>0&&(this.activatedValue=n[v>0?v-1:n.length-1].nzValue);break;case 40:e.preventDefault(),this.nzOpen&&n.length>0?this.activatedValue=n[v<n.length-1?v+1:0].nzValue:this.setOpenState(!0);break;case 13:e.preventDefault(),this.nzOpen?_t(this.activatedValue)&&-1!==v&&this.onItemClick(this.activatedValue):this.setOpenState(!0);break;case 32:this.nzOpen||(this.setOpenState(!0),e.preventDefault());break;case 9:this.nzSelectOnTab?this.nzOpen&&(e.preventDefault(),_t(this.activatedValue)&&this.onItemClick(this.activatedValue)):this.setOpenState(!1);break;case 27:break;default:this.nzOpen||this.setOpenState(!0)}}setOpenState(e){this.nzOpen!==e&&(this.nzOpen=e,this.nzOpenChange.emit(e),this.onOpenChange(),this.cdr.markForCheck())}onOpenChange(){this.updateCdkConnectedOverlayStatus(),this.clearInput()}onInputValueChange(e){this.searchValue=e,this.updateListOfContainerItem(),this.nzOnSearch.emit(e),this.updateCdkConnectedOverlayPositions()}onClearSelection(){this.updateListOfValue([])}onClickOutside(e){this.host.nativeElement.contains(e.target)||this.setOpenState(!1)}focus(){this.nzSelectTopControlComponent.focus()}blur(){this.nzSelectTopControlComponent.blur()}onPositionChange(e){const n=ac(e);this.dropDownPosition=n}updateCdkConnectedOverlayStatus(){if(this.platform.isBrowser&&this.originElement.nativeElement){const e=this.triggerWidth;sc(this.requestId),this.requestId=Vr(()=>{this.triggerWidth=this.originElement.nativeElement.getBoundingClientRect().width,e!==this.triggerWidth&&this.cdr.detectChanges()})}}updateCdkConnectedOverlayPositions(){Vr(()=>{this.cdkConnectedOverlay?.overlayRef?.updatePosition()})}writeValue(e){if(this.value!==e){this.value=e;const v=((M,F)=>null==M?[]:"default"===this.nzMode?[M]:M)(e);this.listOfValue=v,this.listOfValue$.next(v),this.cdr.markForCheck()}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.nzDisabled&&this.setOpenState(!1),this.cdr.markForCheck()}ngOnChanges(e){const{nzOpen:n,nzDisabled:v,nzOptions:M,nzStatus:F,nzPlacement:Q}=e;if(n&&this.onOpenChange(),v&&this.nzDisabled&&this.setOpenState(!1),M){this.isReactiveDriven=!0;const Ce=(this.nzOptions||[]).map(Le=>({template:Le.label instanceof t.Rgc?Le.label:null,nzLabel:"string"==typeof Le.label||"number"==typeof Le.label?Le.label:null,nzValue:Le.value,nzDisabled:Le.disabled||!1,nzHide:Le.hide||!1,nzCustomContent:Le.label instanceof t.Rgc,groupLabel:Le.groupLabel||null,type:"item",key:Le.value}));this.listOfTemplateItem$.next(Ce)}if(F&&this.setStatusStyles(this.nzStatus,this.hasFeedback),Q){const{currentValue:re}=Q;this.dropDownPosition=re;const Ce=["bottomLeft","topLeft","bottomRight","topRight"];this.positions=re&&Ce.includes(re)?[ti[re]]:Ce.map(Le=>ti[Le])}}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Zi((e,n)=>e.status===n.status&&e.hasFeedback===n.hasFeedback),j3(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,Li.of)(!1)),(0,Ii.U)(([{status:e,hasFeedback:n},v])=>({status:v?"":e,hasFeedback:n})),u(this.destroy$)).subscribe(({status:e,hasFeedback:n})=>{this.setStatusStyles(e,n)}),this.focusMonitor.monitor(this.host,!0).pipe(u(this.destroy$)).subscribe(e=>{e?(this.focused=!0,this.cdr.markForCheck(),this.nzFocus.emit()):(this.focused=!1,this.cdr.markForCheck(),this.nzBlur.emit(),Promise.resolve().then(()=>{this.onTouched()}))}),(0,J2.a)([this.listOfValue$,this.listOfTemplateItem$]).pipe(u(this.destroy$)).subscribe(([e,n])=>{const v=e.filter(()=>"tags"===this.nzMode).filter(M=>-1===n.findIndex(F=>this.compareWith(F.nzValue,M))).map(M=>this.listOfTopItem.find(F=>this.compareWith(F.nzValue,M))||this.generateTagItem(M));this.listOfTagAndTemplateItem=[...n,...v],this.listOfTopItem=this.listOfValue.map(M=>[...this.listOfTagAndTemplateItem,...this.listOfTopItem].find(F=>this.compareWith(M,F.nzValue))).filter(M=>!!M),this.updateListOfContainerItem()}),this.directionality.change?.pipe(u(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.nzConfigService.getConfigChangeEventForComponent("select").pipe(u(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>U(this.host.nativeElement,"click").pipe(u(this.destroy$)).subscribe(()=>{this.nzOpen&&this.nzShowSearch||this.nzDisabled||this.ngZone.run(()=>this.setOpenState(!this.nzOpen))})),this.cdkConnectedOverlay.overlayKeydown.pipe(u(this.destroy$)).subscribe(e=>{27===e.keyCode&&this.setOpenState(!1)})}ngAfterContentInit(){this.isReactiveDriven||(0,No.T)(this.listOfNzOptionGroupComponent.changes,this.listOfNzOptionComponent.changes).pipe((0,C.O)(!0),(0,vn.w)(()=>(0,No.T)(this.listOfNzOptionComponent.changes,this.listOfNzOptionGroupComponent.changes,...this.listOfNzOptionComponent.map(e=>e.changes),...this.listOfNzOptionGroupComponent.map(e=>e.changes)).pipe((0,C.O)(!0))),u(this.destroy$)).subscribe(()=>{const e=this.listOfNzOptionComponent.toArray().map(n=>{const{template:v,nzLabel:M,nzValue:F,nzDisabled:Q,nzHide:re,nzCustomContent:Ce,groupLabel:Le}=n;return{template:v,nzLabel:M,nzValue:F,nzDisabled:Q,nzHide:re,nzCustomContent:Ce,groupLabel:Le,type:"item",key:F}});this.listOfTemplateItem$.next(e),this.cdr.markForCheck()})}ngOnDestroy(){sc(this.requestId),this.focusMonitor.stopMonitoring(this.host)}setStatusStyles(e,n){this.status=e,this.hasFeedback=n,this.cdr.markForCheck(),this.statusCls=hn(this.prefixCls,e,n),Object.keys(this.statusCls).forEach(v=>{this.statusCls[v]?this.renderer.addClass(this.host.nativeElement,v):this.renderer.removeClass(this.host.nativeElement,v)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.R0b),t.Y36(Ai),t.Y36(Ci),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(Kt),t.Y36(Mr),t.Y36(Jt,8),t.Y36(tn,9),t.Y36(Hn,8),t.Y36(Cr,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-select"]],contentQueries:function(e,n,v){if(1&e&&(t.Suo(v,K3,5),t.Suo(v,fc,5)),2&e){let M;t.iGM(M=t.CRH())&&(n.listOfNzOptionComponent=M),t.iGM(M=t.CRH())&&(n.listOfNzOptionGroupComponent=M)}},viewQuery:function(e,n){if(1&e&&(t.Gf(Pr,7,t.SBq),t.Gf(Fr,7),t.Gf(pc,7),t.Gf(fc,7,t.SBq),t.Gf(pc,7,t.SBq)),2&e){let v;t.iGM(v=t.CRH())&&(n.originElement=v.first),t.iGM(v=t.CRH())&&(n.cdkConnectedOverlay=v.first),t.iGM(v=t.CRH())&&(n.nzSelectTopControlComponent=v.first),t.iGM(v=t.CRH())&&(n.nzOptionGroupComponentElement=v.first),t.iGM(v=t.CRH())&&(n.nzSelectTopControlComponentElement=v.first)}},hostAttrs:[1,"ant-select"],hostVars:26,hostBindings:function(e,n){2&e&&t.ekj("ant-select-in-form-item",!!n.nzFormStatusService)("ant-select-lg","large"===n.nzSize)("ant-select-sm","small"===n.nzSize)("ant-select-show-arrow",n.nzShowArrow)("ant-select-disabled",n.nzDisabled)("ant-select-show-search",(n.nzShowSearch||"default"!==n.nzMode)&&!n.nzDisabled)("ant-select-allow-clear",n.nzAllowClear)("ant-select-borderless",n.nzBorderless)("ant-select-open",n.nzOpen)("ant-select-focused",n.nzOpen||n.focused)("ant-select-single","default"===n.nzMode)("ant-select-multiple","default"!==n.nzMode)("ant-select-rtl","rtl"===n.dir)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzOptionHeightPx:"nzOptionHeightPx",nzOptionOverflowSize:"nzOptionOverflowSize",nzDropdownClassName:"nzDropdownClassName",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzDropdownStyle:"nzDropdownStyle",nzNotFoundContent:"nzNotFoundContent",nzPlaceHolder:"nzPlaceHolder",nzPlacement:"nzPlacement",nzMaxTagCount:"nzMaxTagCount",nzDropdownRender:"nzDropdownRender",nzCustomTemplate:"nzCustomTemplate",nzSuffixIcon:"nzSuffixIcon",nzClearIcon:"nzClearIcon",nzRemoveIcon:"nzRemoveIcon",nzMenuItemSelectedIcon:"nzMenuItemSelectedIcon",nzTokenSeparators:"nzTokenSeparators",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzMaxMultipleCount:"nzMaxMultipleCount",nzMode:"nzMode",nzFilterOption:"nzFilterOption",compareWith:"compareWith",nzAllowClear:"nzAllowClear",nzBorderless:"nzBorderless",nzShowSearch:"nzShowSearch",nzLoading:"nzLoading",nzAutoFocus:"nzAutoFocus",nzAutoClearSearchValue:"nzAutoClearSearchValue",nzServerSearch:"nzServerSearch",nzDisabled:"nzDisabled",nzOpen:"nzOpen",nzSelectOnTab:"nzSelectOnTab",nzBackdrop:"nzBackdrop",nzOptions:"nzOptions",nzShowArrow:"nzShowArrow"},outputs:{nzOnSearch:"nzOnSearch",nzScrollToBottom:"nzScrollToBottom",nzOpenChange:"nzOpenChange",nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzSelect"],features:[t._Bn([Ai,{provide:gt.JU,useExisting:(0,t.Gpc)(()=>i),multi:!0}]),t.TTD],decls:5,vars:25,consts:[["cdkOverlayOrigin","",3,"nzId","open","disabled","mode","nzNoAnimation","maxTagPlaceholder","removeIcon","placeHolder","maxTagCount","customTemplate","tokenSeparators","showSearch","autofocus","listOfTopItem","inputValueChange","tokenize","deleteItem","keydown"],["origin","cdkOverlayOrigin"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon",4,"ngIf"],[3,"clearIcon","clear",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayPanelClass","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick","detach","positionChange"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon"],["feedbackIconTpl",""],[3,"status",4,"ngIf"],[3,"status"],[3,"clearIcon","clear"],[3,"ngStyle","itemSize","maxItemLength","matchWidth","nzNoAnimation","listOfContainerItem","menuItemSelectedIcon","notFoundContent","activatedValue","listOfSelectedValue","dropdownRender","compareWith","mode","keydown","itemClick","scrollToBottom"]],template:function(e,n){if(1&e&&(t.TgZ(0,"nz-select-top-control",0,1),t.NdJ("inputValueChange",function(M){return n.onInputValueChange(M)})("tokenize",function(M){return n.onTokenSeparate(M)})("deleteItem",function(M){return n.onItemDelete(M)})("keydown",function(M){return n.onKeyDown(M)}),t.qZA(),t.YNc(2,Dd,3,5,"nz-select-arrow",2),t.YNc(3,kd,1,1,"nz-select-clear",3),t.YNc(4,Ld,1,23,"ng-template",4),t.NdJ("overlayOutsideClick",function(M){return n.onClickOutside(M)})("detach",function(){return n.setOpenState(!1)})("positionChange",function(M){return n.onPositionChange(M)})),2&e){const v=t.MAs(1);t.Q6J("nzId",n.nzId)("open",n.nzOpen)("disabled",n.nzDisabled)("mode",n.nzMode)("@.disabled",!(null==n.noAnimation||!n.noAnimation.nzNoAnimation))("nzNoAnimation",null==n.noAnimation?null:n.noAnimation.nzNoAnimation)("maxTagPlaceholder",n.nzMaxTagPlaceholder)("removeIcon",n.nzRemoveIcon)("placeHolder",n.nzPlaceHolder)("maxTagCount",n.nzMaxTagCount)("customTemplate",n.nzCustomTemplate)("tokenSeparators",n.nzTokenSeparators)("showSearch",n.nzShowSearch)("autofocus",n.nzAutoFocus)("listOfTopItem",n.listOfTopItem),t.xp6(2),t.Q6J("ngIf",n.nzShowArrow||n.hasFeedback&&!!n.status),t.xp6(1),t.Q6J("ngIf",n.nzAllowClear&&!n.nzDisabled&&n.listOfValue.length),t.xp6(1),t.Q6J("cdkConnectedOverlayHasBackdrop",n.nzBackdrop)("cdkConnectedOverlayMinWidth",n.nzDropdownMatchSelectWidth?null:n.triggerWidth)("cdkConnectedOverlayWidth",n.nzDropdownMatchSelectWidth?n.triggerWidth:null)("cdkConnectedOverlayOrigin",v)("cdkConnectedOverlayTransformOriginOn",".ant-select-dropdown")("cdkConnectedOverlayPanelClass",n.nzDropdownClassName)("cdkConnectedOverlayOpen",n.nzOpen)("cdkConnectedOverlayPositions",n.positions)}},dependencies:[J.O5,J.PC,Fr,Pr,P3,tn,Mi,Gs,Pd,pc,Bd,Vd],encapsulation:2,data:{animation:[F8]},changeDetection:0}),(0,ue.gn)([jt()],i.prototype,"nzSuffixIcon",void 0),(0,ue.gn)([yt()],i.prototype,"nzAllowClear",void 0),(0,ue.gn)([jt(),yt()],i.prototype,"nzBorderless",void 0),(0,ue.gn)([yt()],i.prototype,"nzShowSearch",void 0),(0,ue.gn)([yt()],i.prototype,"nzLoading",void 0),(0,ue.gn)([yt()],i.prototype,"nzAutoFocus",void 0),(0,ue.gn)([yt()],i.prototype,"nzAutoClearSearchValue",void 0),(0,ue.gn)([yt()],i.prototype,"nzServerSearch",void 0),(0,ue.gn)([yt()],i.prototype,"nzDisabled",void 0),(0,ue.gn)([yt()],i.prototype,"nzOpen",void 0),(0,ue.gn)([yt()],i.prototype,"nzSelectOnTab",void 0),(0,ue.gn)([jt(),yt()],i.prototype,"nzBackdrop",void 0),i})(),Gd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,Pi.YI,gt.u5,zi,N3,Hi,en,J3,F3,B3,Ys,G2,tc,u8]}),i})();const e0=["*"],Wd=["inputElement"],Zd=["nz-radio",""];let t0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["","nz-radio-button",""]]}),i})(),gc=(()=>{class i{constructor(){this.selected$=new mn(1),this.touched$=new q.x,this.disabled$=new mn(1),this.name$=new mn(1)}touch(){this.touched$.next()}select(e){this.selected$.next(e)}setDisabled(e){this.disabled$.next(e)}setName(e){this.name$.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})(),Xd=(()=>{class i{constructor(e,n,v){this.cdr=e,this.nzRadioService=n,this.directionality=v,this.value=null,this.destroy$=new q.x,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.nzDisabled=!1,this.nzButtonStyle="outline",this.nzSize="default",this.nzName=null,this.dir="ltr"}ngOnInit(){this.nzRadioService.selected$.pipe(u(this.destroy$)).subscribe(e=>{this.value!==e&&(this.value=e,this.onChange(this.value))}),this.nzRadioService.touched$.pipe(u(this.destroy$)).subscribe(()=>{Promise.resolve().then(()=>this.onTouched())}),this.directionality.change?.pipe(u(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){const{nzDisabled:n,nzName:v}=e;n&&this.nzRadioService.setDisabled(this.nzDisabled),v&&this.nzRadioService.setName(this.nzName)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}writeValue(e){this.value=e,this.nzRadioService.select(e),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.nzRadioService.setDisabled(this.nzDisabled),this.cdr.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(gc),t.Y36(Jt,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-radio-group"]],hostAttrs:[1,"ant-radio-group"],hostVars:8,hostBindings:function(e,n){2&e&&t.ekj("ant-radio-group-large","large"===n.nzSize)("ant-radio-group-small","small"===n.nzSize)("ant-radio-group-solid","solid"===n.nzButtonStyle)("ant-radio-group-rtl","rtl"===n.dir)},inputs:{nzDisabled:"nzDisabled",nzButtonStyle:"nzButtonStyle",nzSize:"nzSize",nzName:"nzName"},exportAs:["nzRadioGroup"],features:[t._Bn([gc,{provide:gt.JU,useExisting:(0,t.Gpc)(()=>i),multi:!0}]),t.TTD],ngContentSelectors:e0,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),(0,ue.gn)([yt()],i.prototype,"nzDisabled",void 0),i})(),Qd=(()=>{class i{constructor(e,n,v,M,F,Q,re,Ce){this.ngZone=e,this.elementRef=n,this.cdr=v,this.focusMonitor=M,this.directionality=F,this.nzRadioService=Q,this.nzRadioButtonDirective=re,this.nzFormStatusService=Ce,this.isNgModel=!1,this.destroy$=new q.x,this.isNzDisableFirstChange=!0,this.isChecked=!1,this.name=null,this.isRadioButton=!!this.nzRadioButtonDirective,this.onChange=()=>{},this.onTouched=()=>{},this.nzValue=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.dir="ltr"}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}writeValue(e){this.isChecked=e,this.cdr.markForCheck()}registerOnChange(e){this.isNgModel=!0,this.onChange=e}registerOnTouched(e){this.onTouched=e}ngOnInit(){this.nzRadioService&&(this.nzRadioService.name$.pipe(u(this.destroy$)).subscribe(e=>{this.name=e,this.cdr.markForCheck()}),this.nzRadioService.disabled$.pipe(u(this.destroy$)).subscribe(e=>{this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}),this.nzRadioService.selected$.pipe(u(this.destroy$)).subscribe(e=>{const n=this.isChecked;this.isChecked=this.nzValue===e,this.isNgModel&&n!==this.isChecked&&!1===this.isChecked&&this.onChange(!1),this.cdr.markForCheck()})),this.focusMonitor.monitor(this.elementRef,!0).pipe(u(this.destroy$)).subscribe(e=>{e||(Promise.resolve().then(()=>this.onTouched()),this.nzRadioService&&this.nzRadioService.touch())}),this.directionality.change.pipe(u(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.setupClickListener()}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.focusMonitor.stopMonitoring(this.elementRef)}setupClickListener(){this.ngZone.runOutsideAngular(()=>{U(this.elementRef.nativeElement,"click").pipe(u(this.destroy$)).subscribe(e=>{e.stopPropagation(),e.preventDefault(),!this.nzDisabled&&!this.isChecked&&this.ngZone.run(()=>{this.focus(),this.nzRadioService?.select(this.nzValue),this.isNgModel&&(this.isChecked=!0,this.onChange(!0)),this.cdr.markForCheck()})})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(Mr),t.Y36(Jt,8),t.Y36(gc,8),t.Y36(t0,8),t.Y36(Hn,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["","nz-radio",""],["","nz-radio-button",""]],viewQuery:function(e,n){if(1&e&&t.Gf(Wd,7),2&e){let v;t.iGM(v=t.CRH())&&(n.inputElement=v.first)}},hostVars:18,hostBindings:function(e,n){2&e&&t.ekj("ant-radio-wrapper-in-form-item",!!n.nzFormStatusService)("ant-radio-wrapper",!n.isRadioButton)("ant-radio-button-wrapper",n.isRadioButton)("ant-radio-wrapper-checked",n.isChecked&&!n.isRadioButton)("ant-radio-button-wrapper-checked",n.isChecked&&n.isRadioButton)("ant-radio-wrapper-disabled",n.nzDisabled&&!n.isRadioButton)("ant-radio-button-wrapper-disabled",n.nzDisabled&&n.isRadioButton)("ant-radio-wrapper-rtl",!n.isRadioButton&&"rtl"===n.dir)("ant-radio-button-wrapper-rtl",n.isRadioButton&&"rtl"===n.dir)},inputs:{nzValue:"nzValue",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus"},exportAs:["nzRadio"],features:[t._Bn([{provide:gt.JU,useExisting:(0,t.Gpc)(()=>i),multi:!0}])],attrs:Zd,ngContentSelectors:e0,decls:6,vars:24,consts:[["type","radio",3,"disabled","checked"],["inputElement",""]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"span"),t._UZ(1,"input",0,1)(3,"span"),t.qZA(),t.TgZ(4,"span"),t.Hsn(5),t.qZA()),2&e&&(t.ekj("ant-radio",!n.isRadioButton)("ant-radio-checked",n.isChecked&&!n.isRadioButton)("ant-radio-disabled",n.nzDisabled&&!n.isRadioButton)("ant-radio-button",n.isRadioButton)("ant-radio-button-checked",n.isChecked&&n.isRadioButton)("ant-radio-button-disabled",n.nzDisabled&&n.isRadioButton),t.xp6(1),t.ekj("ant-radio-input",!n.isRadioButton)("ant-radio-button-input",n.isRadioButton),t.Q6J("disabled",n.nzDisabled)("checked",n.isChecked),t.uIk("autofocus",n.nzAutoFocus?"autofocus":null)("name",n.name),t.xp6(2),t.ekj("ant-radio-inner",!n.isRadioButton)("ant-radio-button-inner",n.isRadioButton))},encapsulation:2,changeDetection:0}),(0,ue.gn)([yt()],i.prototype,"nzDisabled",void 0),(0,ue.gn)([yt()],i.prototype,"nzAutoFocus",void 0),i})(),Jd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,gt.u5]}),i})();function $d(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"span",1),t.NdJ("click",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.closeTag(v))}),t.qZA()}}const Kd=["*"];let qd=(()=>{class i{constructor(e,n,v,M){this.cdr=e,this.renderer=n,this.elementRef=v,this.directionality=M,this.isPresetColor=!1,this.nzMode="default",this.nzChecked=!1,this.nzOnClose=new t.vpe,this.nzCheckedChange=new t.vpe,this.dir="ltr",this.destroy$=new q.x}updateCheckedStatus(){"checkable"===this.nzMode&&(this.nzChecked=!this.nzChecked,this.nzCheckedChange.emit(this.nzChecked))}closeTag(e){this.nzOnClose.emit(e),e.defaultPrevented||this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}clearPresetColor(){const e=this.elementRef.nativeElement,n=new RegExp(`(ant-tag-(?:${[...de,...ce].join("|")}))`,"g"),v=e.classList.toString(),M=[];let F=n.exec(v);for(;null!==F;)M.push(F[1]),F=n.exec(v);e.classList.remove(...M)}setPresetColor(){const e=this.elementRef.nativeElement;this.clearPresetColor(),this.isPresetColor=!!this.nzColor&&(ye(this.nzColor)||function Me(i){return-1!==ce.indexOf(i)}(this.nzColor)),this.isPresetColor&&e.classList.add(`ant-tag-${this.nzColor}`)}ngOnInit(){this.directionality.change?.pipe(u(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){const{nzColor:n}=e;n&&this.setPresetColor()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(Jt,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-tag"]],hostAttrs:[1,"ant-tag"],hostVars:10,hostBindings:function(e,n){1&e&&t.NdJ("click",function(){return n.updateCheckedStatus()}),2&e&&(t.Udp("background-color",n.isPresetColor?"":n.nzColor),t.ekj("ant-tag-has-color",n.nzColor&&!n.isPresetColor)("ant-tag-checkable","checkable"===n.nzMode)("ant-tag-checkable-checked",n.nzChecked)("ant-tag-rtl","rtl"===n.dir))},inputs:{nzMode:"nzMode",nzColor:"nzColor",nzChecked:"nzChecked"},outputs:{nzOnClose:"nzOnClose",nzCheckedChange:"nzCheckedChange"},exportAs:["nzTag"],features:[t.TTD],ngContentSelectors:Kd,decls:2,vars:1,consts:[["nz-icon","","nzType","close","class","ant-tag-close-icon","tabindex","-1",3,"click",4,"ngIf"],["nz-icon","","nzType","close","tabindex","-1",1,"ant-tag-close-icon",3,"click"]],template:function(e,n){1&e&&(t.F$t(),t.Hsn(0),t.YNc(1,$d,1,0,"span",0)),2&e&&(t.xp6(1),t.Q6J("ngIf","closeable"===n.nzMode))},dependencies:[J.O5,ri],encapsulation:2,changeDetection:0}),(0,ue.gn)([yt()],i.prototype,"nzChecked",void 0),i})(),ef=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,gt.u5,Hi]}),i})();const tf=function(){return[8,0]};function nf(i,o){if(1&i&&(t.TgZ(0,"div",1)(1,"nz-radio-group",9)(2,"div",10)(3,"div",4)(4,"label",11),t._uU(5,"Yes"),t._UZ(6,"span",12),t.qZA()(),t.TgZ(7,"div",4)(8,"label",13),t._uU(9,"No"),t._UZ(10,"span",14),t.qZA()()()()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("formControl",e.answer),t.xp6(1),t.Q6J("nzGutter",t.DdM(4,tf)),t.xp6(2),t.Q6J("nzValue",!0),t.xp6(4),t.Q6J("nzValue",!1)}}function rf(i,o){if(1&i&&(t.TgZ(0,"div",4)(1,"nz-form-item",15)(2,"nz-form-control")(3,"nz-input-group"),t._UZ(4,"input",16),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("formControl",e.text_field)}}function af(i,o){if(1&i&&(t.TgZ(0,"div",1)(1,"label",11)(2,"nz-tag",19),t._uU(3),t.qZA(),t._uU(4),t.qZA()()),2&i){const e=o.$implicit,n=o.index,v=t.oxw(2);t.xp6(1),t.Q6J("nzValue",e),t.xp6(1),t.Q6J("nzColor","#108ee9"),t.xp6(1),t.Oqu(v.numberToAlphabet(n)),t.xp6(1),t.hij(" ",e," ")}}const sf=function(){return[0,8]};function cf(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"nz-radio-group",17)(2,"div",10),t.YNc(3,af,5,4,"div",18),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("formControl",e.answer),t.xp6(1),t.Q6J("nzGutter",t.DdM(3,sf)),t.xp6(1),t.Q6J("ngForOf",e.options)}}function lf(i,o){1&i&&t.GkF(0)}const hf=function(){return[8,8]};let uf=(()=>{class i{constructor(e){this.fb=e,this.answer=new gt.NI,this.text_field=new gt.NI,this.question="",this.questionLabel="",this.options=[],this.hasTextField=!1,this.questionType="polar",this.selectedChoice=new t.vpe,this.numberToAlphabet=n=>String.fromCharCode(n+65)}ngOnInit(){"polar"==this.questionType&&this.answer.setValue(!1),this.hasTextField?this.text_field.valueChanges.subscribe(e=>{this.selectedChoice.emit({label:this.questionLabel,value:e})}):this.answer.valueChanges.subscribe(e=>{this.selectedChoice.emit({label:this.questionLabel,value:e})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(gt.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-question"]],inputs:{question:"question",questionLabel:"questionLabel",options:"options",hasTextField:"hasTextField",questionType:"questionType"},outputs:{selectedChoice:"selectedChoice"},decls:13,vars:7,consts:[["nz-row","",1,"mb-[22px]"],["nz-col","","nzSpan","24"],["nzTooltipTitle","Required","nzTooltipPlacement","right","nz-tooltip","",1,"text-lg","font-medium"],[1,"text-red-600"],["nz-col",""],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24",4,"ngIf"],["nz-col","",4,"ngIf"],[4,"ngIf"],["nzButtonStyle","solid",3,"formControl"],["nz-row","",1,"mt-2",3,"nzGutter"],["nz-radio-button","",3,"nzValue"],["nz-icon","","nzType","check","nzTheme","outline",1,"align-baseline","ml-2"],["nz-radio-button","",1,"align-baseline",3,"nzValue"],["nz-icon","","nzType","close","nzTheme","outline",1,"align-baseline","ml-2"],[1,"max-w-[154px]","m-0"],["type","text","nz-input","","placeholder","Linear Feet Wall1","nzSize","large",3,"formControl"],[3,"formControl"],["nz-col","","nzSpan","24",4,"ngFor","ngForOf"],[3,"nzColor"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nz-form-label")(3,"span",2),t._uU(4),t.TgZ(5,"span",3),t._uU(6,"*"),t.qZA()()()(),t.TgZ(7,"div",4)(8,"div",5),t.YNc(9,nf,11,5,"div",6),t.YNc(10,rf,5,1,"div",7),t.qZA(),t.YNc(11,cf,4,4,"ng-container",8),t.YNc(12,lf,1,0,"ng-container",8),t.qZA()()),2&e&&(t.xp6(4),t.hij(" ",n.question," "),t.xp6(4),t.Q6J("nzGutter",t.DdM(6,hf)),t.xp6(1),t.Q6J("ngIf","polar"==n.questionType),t.xp6(1),t.Q6J("ngIf",n.hasTextField||"text-only"==n.questionType),t.xp6(1),t.Q6J("ngIf","non-polar"==n.questionType),t.xp6(1),t.Q6J("ngIf","text-only"==n.questionType))},dependencies:[J.sg,J.O5,gt.Fj,gt.JJ,gt.oH,Mi,jr,Bn,hc,X3,W3,Ir,u3,Ro,Qd,t0,Xd,ri,qd]}),i})();var df=Qe(5728),ff=Qe.n(df);function n0(i,o,e,n,v,M,F){try{var Q=i[M](F),re=Q.value}catch(Ce){return void e(Ce)}Q.done?o(re):Promise.resolve(re).then(n,v)}var o0=Qe(9770);class ui{transform(o,e=0,n="B",v){if(!(Ft(o)&&Ft(e)&&e%1==0&&e>=0))return o;let M=o,F=n;for(;"B"!==F;)M*=1024,F=ui.formats[F].prev;if(v){const re=Yt(ui.calculateResult(ui.formats[v],M),e);return ui.formatResult(re,v)}for(const Q in ui.formats)if(ui.formats.hasOwnProperty(Q)){const re=ui.formats[Q];if(M<re.max){const Ce=Yt(ui.calculateResult(re,M),e);return ui.formatResult(Ce,Q)}}}static formatResult(o,e){return`${o} ${e}`}static calculateResult(o,e){const n=o.prev?ui.formats[o.prev]:void 0;return n?e/n.max:e}}ui.formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}},ui.\u0275fac=function(o){return new(o||ui)},ui.\u0275pipe=t.Yjl({name:"nzBytes",type:ui,pure:!0});let vc=(()=>{class i{transform(e,n="px"){let re="px";return["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","1h","vw","vh","vmin","vmax","%"].some(Ce=>Ce===n)&&(re=n),"number"==typeof e?`${e}${re}`:`${e}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"nzToCssUnit",type:i,pure:!0}),i})();const vf=["nz-modal-close",""];function mf(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"span",2),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("nzType",e)}}const r0=["modalElement"];function yf(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(e);const v=t.oxw();return t.KtG(v.onCloseClick())}),t.qZA()}}function _f(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"span",17),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("innerHTML",e.config.nzTitle,t.oJD)}}function Cf(i,o){}function zf(i,o){if(1&i&&t._UZ(0,"div",17),2&i){const e=t.oxw();t.Q6J("innerHTML",e.config.nzContent,t.oJD)}}function bf(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const v=t.oxw();return t.KtG(v.onCancel())}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("nzLoading",!!e.config.nzCancelLoading)("disabled",e.config.nzCancelDisabled),t.uIk("cdkFocusInitial","cancel"===e.config.nzAutofocus||null),t.xp6(1),t.hij(" ",e.config.nzCancelText||e.locale.cancelText," ")}}function xf(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const v=t.oxw();return t.KtG(v.onOk())}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("nzType",e.config.nzOkType)("nzLoading",!!e.config.nzOkLoading)("disabled",e.config.nzOkDisabled)("nzDanger",e.config.nzOkDanger),t.uIk("cdkFocusInitial","ok"===e.config.nzAutofocus||null),t.xp6(1),t.hij(" ",e.config.nzOkText||e.locale.okText," ")}}const Mf=["nz-modal-footer",""];function Sf(i,o){if(1&i&&t._UZ(0,"div",5),2&i){const e=t.oxw(3);t.Q6J("innerHTML",e.config.nzFooter,t.oJD)}}function wf(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){const M=t.CHM(e).$implicit,F=t.oxw(4);return t.KtG(F.onButtonClick(M))}),t._uU(1),t.qZA()}if(2&i){const e=o.$implicit,n=t.oxw(4);t.Q6J("hidden",!n.getButtonCallableProp(e,"show"))("nzLoading",n.getButtonCallableProp(e,"loading"))("disabled",n.getButtonCallableProp(e,"disabled"))("nzType",e.type)("nzDanger",e.danger)("nzShape",e.shape)("nzSize",e.size)("nzGhost",e.ghost),t.xp6(1),t.hij(" ",e.label," ")}}function Tf(i,o){if(1&i&&(t.ynx(0),t.YNc(1,wf,2,9,"button",6),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.buttons)}}function If(i,o){if(1&i&&(t.ynx(0),t.YNc(1,Sf,1,1,"div",3),t.YNc(2,Tf,2,1,"ng-container",4),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.buttonsFooter),t.xp6(1),t.Q6J("ngIf",e.buttonsFooter)}}const Ef=function(i,o){return{$implicit:i,modalRef:o}};function Of(i,o){if(1&i&&(t.ynx(0),t.YNc(1,If,3,2,"ng-container",2),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.config.nzFooter)("nzStringTemplateOutletContext",t.WLB(2,Ef,e.config.nzComponentParams,e.modalRef))}}function Af(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(e);const v=t.oxw(2);return t.KtG(v.onCancel())}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("nzLoading",!!e.config.nzCancelLoading)("disabled",e.config.nzCancelDisabled),t.uIk("cdkFocusInitial","cancel"===e.config.nzAutofocus||null),t.xp6(1),t.hij(" ",e.config.nzCancelText||e.locale.cancelText," ")}}function Df(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(e);const v=t.oxw(2);return t.KtG(v.onOk())}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("nzType",e.config.nzOkType)("nzDanger",e.config.nzOkDanger)("nzLoading",!!e.config.nzOkLoading)("disabled",e.config.nzOkDisabled),t.uIk("cdkFocusInitial","ok"===e.config.nzAutofocus||null),t.xp6(1),t.hij(" ",e.config.nzOkText||e.locale.okText," ")}}function kf(i,o){if(1&i&&(t.YNc(0,Af,2,4,"button",8),t.YNc(1,Df,2,6,"button",9)),2&i){const e=t.oxw();t.Q6J("ngIf",null!==e.config.nzCancelText),t.xp6(1),t.Q6J("ngIf",null!==e.config.nzOkText)}}const Lf=["nz-modal-title",""];function Nf(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"div",2),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("innerHTML",e.config.nzTitle,t.oJD)}}function Hf(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const v=t.oxw();return t.KtG(v.onCloseClick())}),t.qZA()}}function Pf(i,o){1&i&&t._UZ(0,"div",10)}function Ff(i,o){}function Rf(i,o){if(1&i&&t._UZ(0,"div",11),2&i){const e=t.oxw();t.Q6J("innerHTML",e.config.nzContent,t.oJD)}}function Bf(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",12),t.NdJ("cancelTriggered",function(){t.CHM(e);const v=t.oxw();return t.KtG(v.onCloseClick())})("okTriggered",function(){t.CHM(e);const v=t.oxw();return t.KtG(v.onOkClick())}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("modalRef",e.modalRef)}}const a0=()=>{};class Cn{constructor(){this.nzCentered=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzNoAnimation=!1,this.nzAutofocus="auto",this.nzKeyboard=!0,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzModalType="default",this.nzOnCancel=a0,this.nzOnOk=a0,this.nzIconType="question-circle"}}const Yr="ant-modal-mask",Ur="modal",Vf=new t.OlP("NZ_MODAL_DATA"),s0={modalContainer:(0,Be.X$)("modalContainer",[(0,Be.SB)("void, exit",(0,Be.oB)({})),(0,Be.SB)("enter",(0,Be.oB)({})),(0,Be.eR)("* => enter",(0,Be.jt)(".24s",(0,Be.oB)({}))),(0,Be.eR)("* => void, * => exit",(0,Be.jt)(".2s",(0,Be.oB)({})))])};function Bo(i,o,e){return typeof i>"u"?typeof o>"u"?e:o:i}function c0(){throw Error("Attempting to attach modal content after content is already attached")}let l0=(()=>{class i extends nc{constructor(e,n,v,M,F,Q,re,Ce,Le,ot){super(),this.ngZone=e,this.host=n,this.focusTrapFactory=v,this.cdr=M,this.render=F,this.overlayRef=Q,this.nzConfigService=re,this.config=Ce,this.animationType=ot,this.animationStateChanged=new t.vpe,this.containerClick=new t.vpe,this.cancelTriggered=new t.vpe,this.okTriggered=new t.vpe,this.state="enter",this.isStringContent=!1,this.dir="ltr",this.elementFocusedBeforeModalWasOpened=null,this.mouseDown=!1,this.oldMaskStyle=null,this.destroy$=new q.x,this.document=Le,this.dir=Q.getDirection(),this.isStringContent="string"==typeof Ce.nzContent,this.nzConfigService.getConfigChangeEventForComponent(Ur).pipe(u(this.destroy$)).subscribe(()=>{this.updateMaskClassname()})}get showMask(){const e=this.nzConfigService.getConfigForComponent(Ur)||{};return!!Bo(this.config.nzMask,e.nzMask,!0)}get maskClosable(){const e=this.nzConfigService.getConfigForComponent(Ur)||{};return!!Bo(this.config.nzMaskClosable,e.nzMaskClosable,!0)}onContainerClick(e){e.target===e.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}onCloseClick(){this.cancelTriggered.emit()}onOkClick(){this.okTriggered.emit()}attachComponentPortal(e){return this.portalOutlet.hasAttached()&&c0(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this.portalOutlet.hasAttached()&&c0(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachTemplatePortal(e)}attachStringContent(){this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop()}getNativeElement(){return this.host.nativeElement}animationDisabled(){return this.config.nzNoAnimation||"NoopAnimations"===this.animationType}setModalTransformOrigin(){const e=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){const n=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),v=function ki(i){if(!i.getClientRects().length)return{top:0,left:0};const o=i.getBoundingClientRect(),e=i.ownerDocument.defaultView;return{top:o.top+e.pageYOffset,left:o.left+e.pageXOffset}}(this.elementFocusedBeforeModalWasOpened);this.render.setStyle(e,"transform-origin",`${v.left+n.width/2-e.offsetLeft}px ${v.top+n.height/2-e.offsetTop}px 0px`)}}savePreviouslyFocusedElement(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.host.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.host.nativeElement.focus&&this.ngZone.runOutsideAngular(()=>Vr(()=>this.host.nativeElement.focus())))}trapFocus(){const e=this.host.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady();else{const n=this.document.activeElement;n!==e&&!e.contains(n)&&e.focus()}}restoreFocus(){const e=this.elementFocusedBeforeModalWasOpened;if(e&&"function"==typeof e.focus){const n=this.document.activeElement,v=this.host.nativeElement;(!n||n===this.document.body||n===v||v.contains(n))&&e.focus()}this.focusTrap&&this.focusTrap.destroy()}setEnterAnimationClass(){if(this.animationDisabled())return;this.setModalTransformOrigin();const e=this.modalElementRef.nativeElement,n=this.overlayRef.backdropElement;e.classList.add("ant-zoom-enter"),e.classList.add("ant-zoom-enter-active"),n&&(n.classList.add("ant-fade-enter"),n.classList.add("ant-fade-enter-active"))}setExitAnimationClass(){const e=this.modalElementRef.nativeElement;e.classList.add("ant-zoom-leave"),e.classList.add("ant-zoom-leave-active"),this.setMaskExitAnimationClass()}setMaskExitAnimationClass(e=!1){const n=this.overlayRef.backdropElement;if(n){if(this.animationDisabled()||e)return void n.classList.remove(Yr);n.classList.add("ant-fade-leave"),n.classList.add("ant-fade-leave-active")}}cleanAnimationClass(){if(this.animationDisabled())return;const e=this.overlayRef.backdropElement,n=this.modalElementRef.nativeElement;e&&(e.classList.remove("ant-fade-enter"),e.classList.remove("ant-fade-enter-active")),n.classList.remove("ant-zoom-enter"),n.classList.remove("ant-zoom-enter-active"),n.classList.remove("ant-zoom-leave"),n.classList.remove("ant-zoom-leave-active")}setZIndexForBackdrop(){const e=this.overlayRef.backdropElement;e&&_t(this.config.nzZIndex)&&this.render.setStyle(e,"z-index",this.config.nzZIndex)}bindBackdropStyle(){const e=this.overlayRef.backdropElement;if(e&&(this.oldMaskStyle&&(Object.keys(this.oldMaskStyle).forEach(v=>{this.render.removeStyle(e,v)}),this.oldMaskStyle=null),this.setZIndexForBackdrop(),"object"==typeof this.config.nzMaskStyle&&Object.keys(this.config.nzMaskStyle).length)){const n={...this.config.nzMaskStyle};Object.keys(n).forEach(v=>{this.render.setStyle(e,v,n[v])}),this.oldMaskStyle=n}}updateMaskClassname(){const e=this.overlayRef.backdropElement;e&&(this.showMask?e.classList.add(Yr):e.classList.remove(Yr))}onAnimationDone(e){"enter"===e.toState?this.trapFocus():"exit"===e.toState&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(e)}onAnimationStart(e){"enter"===e.toState?(this.setEnterAnimationClass(),this.bindBackdropStyle()):"exit"===e.toState&&this.setExitAnimationClass(),this.animationStateChanged.emit(e)}startExitAnimation(){this.state="exit",this.cdr.markForCheck()}ngOnDestroy(){this.setMaskExitAnimationClass(!0),this.destroy$.next(),this.destroy$.complete()}setupMouseListeners(e){this.ngZone.runOutsideAngular(()=>{U(this.host.nativeElement,"mouseup").pipe(u(this.destroy$)).subscribe(()=>{this.mouseDown&&setTimeout(()=>{this.mouseDown=!1})}),U(e.nativeElement,"mousedown").pipe(u(this.destroy$)).subscribe(()=>{this.mouseDown=!0})})}}return i.\u0275fac=function(e){t.$Z()},i.\u0275dir=t.lG2({type:i,features:[t.qOj]}),i})(),h0=(()=>{class i{constructor(e){this.config=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Cn))},i.\u0275cmp=t.Xpm({type:i,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["NzModalCloseBuiltin"],attrs:vf,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],["nz-icon","",1,"ant-modal-close-icon",3,"nzType"]],template:function(e,n){1&e&&(t.TgZ(0,"span",0),t.YNc(1,mf,2,1,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("nzStringTemplateOutlet",n.config.nzCloseIcon))},dependencies:[ai,Mi,ri],encapsulation:2,changeDetection:0}),i})(),Uf=(()=>{class i extends l0{constructor(e,n,v,M,F,Q,re,Ce,Le,ot,xt){super(e,v,M,F,Q,re,Ce,Le,ot,xt),this.i18n=n,this.config=Le,this.cancelTriggered=new t.vpe,this.okTriggered=new t.vpe,this.i18n.localeChange.pipe(u(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.R0b),t.Y36(Pi.wi),t.Y36(t.SBq),t.Y36(a3),t.Y36(t.sBO),t.Y36(t.Qsj),t.Y36(Nr),t.Y36(Ci),t.Y36(Cn),t.Y36(J.K0,8),t.Y36(t.QbO,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-modal-confirm-container"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Fo,7),t.Gf(r0,7)),2&e){let v;t.iGM(v=t.CRH())&&(n.portalOutlet=v.first),t.iGM(v=t.CRH())&&(n.modalElementRef=v.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(e,n){1&e&&(t.WFA("@modalContainer.start",function(M){return n.onAnimationStart(M)})("@modalContainer.done",function(M){return n.onAnimationDone(M)}),t.NdJ("click",function(M){return n.onContainerClick(M)})),2&e&&(t.d8E("@.disabled",n.config.nzNoAnimation)("@modalContainer",n.state),t.Tol(n.config.nzWrapClassName?"ant-modal-wrap "+n.config.nzWrapClassName:"ant-modal-wrap"),t.Udp("z-index",n.config.nzZIndex),t.ekj("ant-modal-wrap-rtl","rtl"===n.dir)("ant-modal-centered",n.config.nzCentered))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],features:[t.qOj],decls:17,vars:13,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],["nz-icon","",3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click",4,"ngIf"],["nz-modal-close","",3,"click"],[3,"innerHTML"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0,1),t.ALo(2,"nzToCssUnit"),t.TgZ(3,"div",2),t.YNc(4,yf,1,0,"button",3),t.TgZ(5,"div",4)(6,"div",5)(7,"div",6),t._UZ(8,"span",7),t.TgZ(9,"span",8),t.YNc(10,_f,2,1,"ng-container",9),t.qZA(),t.TgZ(11,"div",10),t.YNc(12,Cf,0,0,"ng-template",11),t.YNc(13,zf,1,1,"div",12),t.qZA()(),t.TgZ(14,"div",13),t.YNc(15,bf,2,4,"button",14),t.YNc(16,xf,2,6,"button",15),t.qZA()()()()()),2&e&&(t.Udp("width",t.lcZ(2,11,null==n.config?null:n.config.nzWidth)),t.Q6J("ngClass",n.config.nzClassName)("ngStyle",n.config.nzStyle),t.xp6(4),t.Q6J("ngIf",n.config.nzClosable),t.xp6(1),t.Q6J("ngStyle",n.config.nzBodyStyle),t.xp6(3),t.Q6J("nzType",n.config.nzIconType),t.xp6(2),t.Q6J("nzStringTemplateOutlet",n.config.nzTitle),t.xp6(3),t.Q6J("ngIf",n.isStringContent),t.xp6(2),t.Q6J("ngIf",null!==n.config.nzCancelText),t.xp6(1),t.Q6J("ngIf",null!==n.config.nzOkText))},dependencies:[J.mk,J.O5,J.PC,ai,Fo,Lo,Mi,ko,ri,h0,vc],encapsulation:2,data:{animation:[s0.modalContainer]}}),i})(),Gf=(()=>{class i{constructor(e,n){this.i18n=e,this.config=n,this.buttonsFooter=!1,this.buttons=[],this.cancelTriggered=new t.vpe,this.okTriggered=new t.vpe,this.destroy$=new q.x,Array.isArray(n.nzFooter)&&(this.buttonsFooter=!0,this.buttons=n.nzFooter.map(Wf)),this.i18n.localeChange.pipe(u(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}getButtonCallableProp(e,n){const v=e[n],M=this.modalRef.getContentComponent();return"function"==typeof v?v.apply(e,M&&[M]):v}onButtonClick(e){if(!this.getButtonCallableProp(e,"loading")){const v=this.getButtonCallableProp(e,"onClick");e.autoLoading&&qe(v)&&(e.loading=!0,v.then(()=>e.loading=!1).catch(M=>{throw e.loading=!1,M}))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Pi.wi),t.Y36(Cn))},i.\u0275cmp=t.Xpm({type:i,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["NzModalFooterBuiltin"],attrs:Mf,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["defaultFooterButtons",""],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click",4,"ngFor","ngForOf"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click"]],template:function(e,n){if(1&e&&(t.YNc(0,Of,2,5,"ng-container",0),t.YNc(1,kf,2,2,"ng-template",null,1,t.W1O)),2&e){const v=t.MAs(2);t.Q6J("ngIf",n.config.nzFooter)("ngIfElse",v)}},dependencies:[J.sg,J.O5,ai,Lo,Mi,ko],encapsulation:2}),i})();function Wf(i){return{type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1,...i}}let Zf=(()=>{class i{constructor(e){this.config=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Cn))},i.\u0275cmp=t.Xpm({type:i,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["NzModalTitleBuiltin"],attrs:Lf,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Nf,2,1,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("nzStringTemplateOutlet",n.config.nzTitle))},dependencies:[ai],encapsulation:2,changeDetection:0}),i})(),Xf=(()=>{class i extends l0{constructor(e,n,v,M,F,Q,re,Ce,Le,ot){super(e,n,v,M,F,Q,re,Ce,Le,ot),this.config=Ce}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(a3),t.Y36(t.sBO),t.Y36(t.Qsj),t.Y36(Nr),t.Y36(Ci),t.Y36(Cn),t.Y36(J.K0,8),t.Y36(t.QbO,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-modal-container"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Fo,7),t.Gf(r0,7)),2&e){let v;t.iGM(v=t.CRH())&&(n.portalOutlet=v.first),t.iGM(v=t.CRH())&&(n.modalElementRef=v.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(e,n){1&e&&(t.WFA("@modalContainer.start",function(M){return n.onAnimationStart(M)})("@modalContainer.done",function(M){return n.onAnimationDone(M)}),t.NdJ("click",function(M){return n.onContainerClick(M)})),2&e&&(t.d8E("@.disabled",n.config.nzNoAnimation)("@modalContainer",n.state),t.Tol(n.config.nzWrapClassName?"ant-modal-wrap "+n.config.nzWrapClassName:"ant-modal-wrap"),t.Udp("z-index",n.config.nzZIndex),t.ekj("ant-modal-wrap-rtl","rtl"===n.dir)("ant-modal-centered",n.config.nzCentered))},exportAs:["nzModalContainer"],features:[t.qOj],decls:10,vars:11,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],["nz-modal-title","",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered",4,"ngIf"],["nz-modal-close","",3,"click"],["nz-modal-title",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0,1),t.ALo(2,"nzToCssUnit"),t.TgZ(3,"div",2),t.YNc(4,Hf,1,0,"button",3),t.YNc(5,Pf,1,0,"div",4),t.TgZ(6,"div",5),t.YNc(7,Ff,0,0,"ng-template",6),t.YNc(8,Rf,1,1,"div",7),t.qZA(),t.YNc(9,Bf,1,1,"div",8),t.qZA()()),2&e&&(t.Udp("width",t.lcZ(2,9,null==n.config?null:n.config.nzWidth)),t.Q6J("ngClass",n.config.nzClassName)("ngStyle",n.config.nzStyle),t.xp6(4),t.Q6J("ngIf",n.config.nzClosable),t.xp6(1),t.Q6J("ngIf",n.config.nzTitle),t.xp6(1),t.Q6J("ngStyle",n.config.nzBodyStyle),t.xp6(2),t.Q6J("ngIf",n.isStringContent),t.xp6(1),t.Q6J("ngIf",null!==n.config.nzFooter))},dependencies:[J.mk,J.O5,J.PC,Fo,h0,Gf,Zf,vc],encapsulation:2,data:{animation:[s0.modalContainer]}}),i})();class mc{constructor(o,e,n){this.overlayRef=o,this.config=e,this.containerInstance=n,this.componentInstance=null,this.state=0,this.afterClose=new q.x,this.afterOpen=new q.x,this.destroy$=new q.x,n.animationStateChanged.pipe((0,d.h)(v=>"done"===v.phaseName&&"enter"===v.toState),(0,xi.q)(1)).subscribe(()=>{this.afterOpen.next(),this.afterOpen.complete(),e.nzAfterOpen instanceof t.vpe&&e.nzAfterOpen.emit()}),n.animationStateChanged.pipe((0,d.h)(v=>"done"===v.phaseName&&"exit"===v.toState),(0,xi.q)(1)).subscribe(()=>{clearTimeout(this.closeTimeout),this._finishDialogClose()}),n.containerClick.pipe((0,xi.q)(1),u(this.destroy$)).subscribe(()=>{!this.config.nzCancelLoading&&!this.config.nzOkLoading&&this.trigger("cancel")}),o.keydownEvents().pipe((0,d.h)(v=>this.config.nzKeyboard&&!this.config.nzCancelLoading&&!this.config.nzOkLoading&&27===v.keyCode&&!Z2(v))).subscribe(v=>{v.preventDefault(),this.trigger("cancel")}),n.cancelTriggered.pipe(u(this.destroy$)).subscribe(()=>this.trigger("cancel")),n.okTriggered.pipe(u(this.destroy$)).subscribe(()=>this.trigger("ok")),o.detachments().subscribe(()=>{this.afterClose.next(this.result),this.afterClose.complete(),e.nzAfterClose instanceof t.vpe&&e.nzAfterClose.emit(this.result),this.componentInstance=null,this.overlayRef.dispose()})}getContentComponent(){return this.componentInstance}getElement(){return this.containerInstance.getNativeElement()}destroy(o){this.close(o)}triggerOk(){return this.trigger("ok")}triggerCancel(){return this.trigger("cancel")}close(o){0===this.state&&(this.result=o,this.containerInstance.animationStateChanged.pipe((0,d.h)(e=>"start"===e.phaseName),(0,xi.q)(1)).subscribe(e=>{this.overlayRef.detachBackdrop(),this.closeTimeout=setTimeout(()=>{this._finishDialogClose()},e.totalTime+100)}),this.containerInstance.startExitAnimation(),this.state=1)}updateConfig(o){Object.assign(this.config,o),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}getState(){return this.state}getConfig(){return this.config}getBackdropElement(){return this.overlayRef.backdropElement}trigger(o){var e=this;return function pf(i){return function(){var o=this,e=arguments;return new Promise(function(n,v){var M=i.apply(o,e);function F(re){n0(M,n,v,F,Q,"next",re)}function Q(re){n0(M,n,v,F,Q,"throw",re)}F(void 0)})}}(function*(){if(1===e.state)return;const n={ok:e.config.nzOnOk,cancel:e.config.nzOnCancel}[o],v={ok:"nzOkLoading",cancel:"nzCancelLoading"}[o];if(!e.config[v])if(n instanceof t.vpe)n.emit(e.getContentComponent());else if("function"==typeof n){const F=n(e.getContentComponent());if(qe(F)){e.config[v]=!0;let Q=!1;try{Q=yield F}finally{e.config[v]=!1,e.closeWhitResult(Q)}}else e.closeWhitResult(F)}})()}closeWhitResult(o){!1!==o&&this.close(o)}_finishDialogClose(){this.state=2,this.overlayRef.dispose(),this.destroy$.next()}}let u0=(()=>{class i{constructor(e,n,v,M,F){this.overlay=e,this.injector=n,this.nzConfigService=v,this.parentModal=M,this.directionality=F,this.openModalsAtThisLevel=[],this.afterAllClosedAtThisLevel=new q.x,this.afterAllClose=(0,o0.P)(()=>this.openModals.length?this._afterAllClosed:this._afterAllClosed.pipe((0,C.O)(void 0)))}get openModals(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}get _afterAllClosed(){const e=this.parentModal;return e?e._afterAllClosed:this.afterAllClosedAtThisLevel}create(e){return this.open(e.nzContent,e)}closeAll(){this.closeModals(this.openModals)}confirm(e={},n="confirm"){return"nzFooter"in e&&(0,Ve.ZK)('The Confirm-Modal doesn\'t support "nzFooter", this property will be ignored.'),"nzWidth"in e||(e.nzWidth=416),"nzMaskClosable"in e||(e.nzMaskClosable=!1),e.nzModalType="confirm",e.nzClassName=`ant-modal-confirm ant-modal-confirm-${n} ${e.nzClassName||""}`,this.create(e)}info(e={}){return this.confirmFactory(e,"info")}success(e={}){return this.confirmFactory(e,"success")}error(e={}){return this.confirmFactory(e,"error")}warning(e={}){return this.confirmFactory(e,"warning")}open(e,n){const v=function jf(i,o){return{...o,...i}}(n||{},new Cn),M=this.createOverlay(v),F=this.attachModalContainer(M,v),Q=this.attachModalContent(e,F,M,v);return F.modalRef=Q,this.openModals.push(Q),Q.afterClose.subscribe(()=>this.removeOpenModal(Q)),Q}removeOpenModal(e){const n=this.openModals.indexOf(e);n>-1&&(this.openModals.splice(n,1),this.openModals.length||this._afterAllClosed.next())}closeModals(e){let n=e.length;for(;n--;)e[n].close(),this.openModals.length||this._afterAllClosed.next()}createOverlay(e){const n=this.nzConfigService.getConfigForComponent(Ur)||{},v=new rc({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:Bo(e.nzCloseOnNavigation,n.nzCloseOnNavigation,!0),direction:Bo(e.nzDirection,n.nzDirection,this.directionality.value)});return Bo(e.nzMask,n.nzMask,!0)&&(v.backdropClass=Yr),this.overlay.create(v)}attachModalContainer(e,n){const M=t.zs3.create({parent:n&&n.nzViewContainerRef&&n.nzViewContainerRef.injector||this.injector,providers:[{provide:Nr,useValue:e},{provide:Cn,useValue:n}]}),Q=new kr("confirm"===n.nzModalType?Uf:Xf,n.nzViewContainerRef,M);return e.attach(Q).instance}attachModalContent(e,n,v,M){const F=new mc(v,M,n);if(e instanceof t.Rgc)n.attachTemplatePortal(new Lr(e,null,{$implicit:M.nzData||M.nzComponentParams,modalRef:F}));else if(_t(e)&&"string"!=typeof e){const Q=this.createInjector(F,M),re=n.attachComponentPortal(new kr(e,M.nzViewContainerRef,Q));(function Yf(i,o){Object.assign(i,o)})(re.instance,M.nzComponentParams),F.componentInstance=re.instance}else n.attachStringContent();return F}createInjector(e,n){return t.zs3.create({parent:n&&n.nzViewContainerRef&&n.nzViewContainerRef.injector||this.injector,providers:[{provide:mc,useValue:e},{provide:Vf,useValue:n.nzData}]})}confirmFactory(e={},n){return"nzIconType"in e||(e.nzIconType={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"}[n]),"nzCancelText"in e||(e.nzCancelText=null),this.confirm(e,n)}ngOnDestroy(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Hr),t.LFG(t.zs3),t.LFG(Ci),t.LFG(i,12),t.LFG(Jt,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();const Qf=["editor"],Jf=function(){return[8,8]};let $f=(()=>{class i{constructor(e){this.modal=e,this.closeModal=n=>{if("save"==n){const v=this.tuiImageEditor.toDataURL();this.modal.close(v)}else this.modal.close()}}ngAfterViewInit(){this.tuiImageEditor=new(ff())(this.editor.nativeElement,{cssMaxWidth:1e3,cssMaxHeight:800,includeUI:{}}),this.tuiImageEditor.loadImageFromFile(this.imageFile,"My example picture").then(()=>{this.tuiImageEditor.ui.activeMenuEvent(),console.log(this.modal)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(mc))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-image-editor"]],viewQuery:function(e,n){if(1&e&&t.Gf(Qf,5),2&e){let v;t.iGM(v=t.CRH())&&(n.editor=v.first)}},inputs:{imageFile:"imageFile"},decls:9,vars:2,consts:[[1,"h-[600px]"],["editor",""],["nz-row","","nzJustify","end",1,"mt-2",3,"nzGutter"],["nz-col",""],["nz-button","","nzType","primary","nzGhost","",3,"click"],["nz-button","","nzType","primary","nzGhost","","nzDanger","",3,"click"]],template:function(e,n){1&e&&(t._UZ(0,"div",0,1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return n.closeModal("save")}),t._uU(5," Save Changes "),t.qZA()(),t.TgZ(6,"div",3)(7,"button",5),t.NdJ("click",function(){return n.closeModal("discard")}),t._uU(8," Discard Changes "),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("nzGutter",t.DdM(1,Jf)))},dependencies:[Lo,Mi,ko,jr,Bn],styles:['/*!\n * TOAST UI ImageEditor\n * @version 3.15.3\n * @license MIT\n */body>textarea{position:fixed!important}.tui-image-editor-container{background-color:#282828;box-sizing:border-box;height:100%;letter-spacing:.3px;margin:0;min-height:300px;overflow:hidden;padding:0;position:relative}.tui-image-editor-container div,.tui-image-editor-container input,.tui-image-editor-container label,.tui-image-editor-container li,.tui-image-editor-container ul{box-sizing:border-box;margin:0;padding:0;-webkit-user-select:none;user-select:none}.tui-image-editor-container .tui-image-editor-header{background-color:#151515;min-width:533px;position:absolute;top:0;width:100%}.tui-image-editor-container .tui-image-editor-controls-buttons,.tui-image-editor-container .tui-image-editor-header-buttons{float:right;margin:8px}.tui-image-editor-container .tui-image-editor-controls-logo,.tui-image-editor-container .tui-image-editor-header-logo{float:left;padding:17px;width:30%}.tui-image-editor-container .tui-image-editor-controls-buttons,.tui-image-editor-container .tui-image-editor-controls-logo{display:none;height:100%;width:270px}.tui-image-editor-container .tui-image-editor-controls-buttons button,.tui-image-editor-container .tui-image-editor-controls-buttons div,.tui-image-editor-container .tui-image-editor-header-buttons button,.tui-image-editor-container .tui-image-editor-header-buttons div{border:1px solid #ddd;border-radius:20px;cursor:pointer;display:inline-block;font-family:Noto Sans,sans-serif;font-size:12px;font-weight:700;height:40px;letter-spacing:.3px;line-height:40px;outline:none;padding:0;position:relative;text-align:center;vertical-align:middle;width:120px}.tui-image-editor-container .tui-image-editor-download-btn{background-color:#fdba3b;border-color:#fdba3b;color:#fff}.tui-image-editor-container .tui-image-editor-load-btn{cursor:pointer;display:inline-block;inset:0;opacity:0;position:absolute;width:100%}.tui-image-editor-container .tui-image-editor-main-container{bottom:64px;position:absolute;top:0;width:100%}.tui-image-editor-container .tui-image-editor-main{inset:64px 0 0;position:absolute;text-align:center}.tui-image-editor-container .tui-image-editor-wrap{bottom:0;overflow:auto;width:100%}.tui-image-editor-container .tui-image-editor-wrap .tui-image-editor-size-wrap{display:table;height:100%;width:100%}.tui-image-editor-container .tui-image-editor-wrap .tui-image-editor-size-wrap .tui-image-editor-align-wrap{display:table-cell;vertical-align:middle}.tui-image-editor-container .tui-image-editor{display:inline-block;position:relative}.tui-image-editor-container .tui-image-editor-help-menu,.tui-image-editor-container .tui-image-editor-menu{display:table-cell;list-style:none;margin:0 auto;padding:0;text-align:center;vertical-align:middle;white-space:nowrap;width:auto}.tui-image-editor-container .tui-image-editor-help-menu>.tui-image-editor-item,.tui-image-editor-container .tui-image-editor-menu>.tui-image-editor-item{border-radius:2px;cursor:pointer;display:inline-block;margin:0 4px;padding:7px 8px 3px;position:relative}.tui-image-editor-container .tui-image-editor-help-menu>.tui-image-editor-item[tooltip-content]:hover:before,.tui-image-editor-container .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:hover:before{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #2f2f2f;content:"";display:inline-block;height:0;left:13px;margin:0 auto;position:absolute;top:-2px;width:0}.tui-image-editor-container .tui-image-editor-help-menu>.tui-image-editor-item[tooltip-content]:hover:after,.tui-image-editor-container .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:hover:after{background-color:#2f2f2f;border-radius:3px;color:#fff;content:attr(tooltip-content);display:inline-block;font-size:11px;font-weight:lighter;left:0;max-height:23px;min-width:24px;padding:5px 8px;position:absolute;top:-25px}.tui-image-editor-container .tui-image-editor-help-menu>.tui-image-editor-item.active,.tui-image-editor-container .tui-image-editor-menu>.tui-image-editor-item.active{background-color:#fff;transition:all .3s ease}.tui-image-editor-container .tui-image-editor-wrap{position:absolute}.tui-image-editor-container .tui-image-editor-grid-visual{border:1px solid rgba(255,255,255,.7);display:none;height:100%;position:absolute;width:100%}.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-flip .tui-image-editor,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-rotate .tui-image-editor{transition:none}.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-flip .tui-image-editor-grid-visual,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-resize .tui-image-editor-grid-visual,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-rotate .tui-image-editor-grid-visual{display:block}.tui-image-editor-container .tui-image-editor-grid-visual table{border-collapse:collapse;height:100%;width:100%}.tui-image-editor-container .tui-image-editor-grid-visual table td{border:1px solid rgba(255,255,255,.3)}.tui-image-editor-container .tui-image-editor-grid-visual table td.dot:before{background-color:#fff;border:0;border-radius:100%;box-shadow:0 0 1px #0000004d;box-sizing:border-box;content:"";height:10px;position:absolute;width:10px}.tui-image-editor-container .tui-image-editor-grid-visual table td.dot.left-top:before{left:-5px;top:-5px}.tui-image-editor-container .tui-image-editor-grid-visual table td.dot.right-top:before{right:-5px;top:-5px}.tui-image-editor-container .tui-image-editor-grid-visual table td.dot.left-bottom:before{bottom:-5px;left:-5px}.tui-image-editor-container .tui-image-editor-grid-visual table td.dot.right-bottom:before{bottom:-5px;right:-5px}.tui-image-editor-container .tui-image-editor-submenu{bottom:0;display:none;height:150px;position:absolute;white-space:nowrap;width:100%;z-index:2}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover svg>use.active{display:block}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item li{display:inline-block;vertical-align:top}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-newline{display:block;margin-top:0}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-button{cursor:pointer;display:inline-block;font-size:11px;font-weight:400;margin:0 9px;position:relative}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-button.preset{margin:0 9px 20px 5px}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item label>span{cursor:pointer;display:inline-block;font-family:Noto Sans,sans-serif;font-size:11px;padding-top:5px}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-button.apply label,.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-button.cancel label{vertical-align:7px}.tui-image-editor-container .tui-image-editor-submenu>div{display:none;vertical-align:bottom}.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-style{display:block;inset:0;opacity:.95;position:absolute;z-index:-1}.tui-image-editor-container .tui-image-editor-partition>div{border-left:1px solid #3c3c3c;height:52px;margin:0 8px;width:1px}.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-filter .tui-image-editor-partition>div{height:108px;margin:0 29px 0 0}.tui-image-editor-container .tui-image-editor-submenu-align{margin-right:30px;text-align:left}.tui-image-editor-container .tui-image-editor-submenu-align label>span{white-space:nowrap;width:55px}.tui-image-editor-container .tui-image-editor-submenu-align:first-child{margin-right:0}.tui-image-editor-container .tui-image-editor-submenu-align:first-child label>span{width:70px}.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-crop .tui-image-editor-submenu>div.tui-image-editor-menu-crop,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-draw .tui-image-editor-submenu>div.tui-image-editor-menu-draw,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-filter .tui-image-editor-submenu>div.tui-image-editor-menu-filter,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-flip .tui-image-editor-submenu>div.tui-image-editor-menu-flip,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-icon .tui-image-editor-submenu>div.tui-image-editor-menu-icon,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-mask .tui-image-editor-submenu>div.tui-image-editor-menu-mask,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-resize .tui-image-editor-submenu>div.tui-image-editor-menu-resize,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-rotate .tui-image-editor-submenu>div.tui-image-editor-menu-rotate,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-shape .tui-image-editor-submenu>div.tui-image-editor-menu-shape,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-text .tui-image-editor-submenu>div.tui-image-editor-menu-text,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-zoom .tui-image-editor-submenu>div.tui-image-editor-menu-zoom{display:table-cell}.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-crop .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-draw .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-filter .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-flip .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-icon .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-mask .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-resize .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-rotate .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-shape .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-text .tui-image-editor-submenu,.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-zoom .tui-image-editor-submenu{display:table}.tui-image-editor-container .tui-image-editor-help-menu{background-color:#ffffff0f;border-radius:20px;list-style:none;margin:0 auto;padding:0;position:absolute;text-align:center;vertical-align:middle;z-index:2}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history{background-color:#fff;box-shadow:0 2px 6px #00000026;color:#444;cursor:auto;display:none;height:276px;padding:4px 2px;position:absolute;transform:translate(calc(-50% + 12px));width:196px}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list{height:268px;list-style:none;overflow:hidden scroll;padding:0}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item{font-size:11px;height:24px;line-height:24px}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item{cursor:pointer;height:24px;position:relative}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item svg{height:24px;width:24px}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item span{display:inline-block;height:24px;text-align:left;width:128px}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item .history-item-icon{display:inline-block;height:24px;left:6px;position:absolute;top:6px;width:24px}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item .history-item-checkbox{display:none;height:24px;position:absolute;right:-6px;top:5px;width:24px}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item.selected-item{background-color:#7777771f}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item.selected-item .history-item-checkbox{display:inline-block}.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item.disabled-item{color:#333;opacity:.3}.tui-image-editor-container .tui-image-editor-help-menu .opened .tie-panel-history{display:block}.tui-image-editor-container .tui-image-editor-help-menu .opened .tie-panel-history:before{content:"";display:inline-block;height:0;margin:0 auto;position:absolute;width:0}.tui-image-editor-container .filter-color-item{display:inline-block}.tui-image-editor-container .filter-color-item .tui-image-editor-checkbox{display:block}.tui-image-editor-container .tui-image-editor-checkbox-wrap{display:inline-block!important;text-align:left}.tui-image-editor-container .tui-image-editor-checkbox-wrap.fixed-width{white-space:normal;width:187px}.tui-image-editor-container .tui-image-editor-checkbox{display:inline-block;margin:1px 0}.tui-image-editor-container .tui-image-editor-checkbox input{height:14px;opacity:0;width:14px}.tui-image-editor-container .tui-image-editor-checkbox>label>span{color:#fff;height:14px;position:relative}.tui-image-editor-container .tui-image-editor-checkbox>label>span:before,.tui-image-editor-container .tui-image-editor-checkbox input+label:before{background-color:#fff;border:0;border-radius:2px;box-sizing:border-box;content:"";display:inline-block;font-size:11px;height:14px;left:-19px;margin:0;padding-top:1px;position:absolute;text-align:center;top:6px;width:14px}.tui-image-editor-container .tui-image-editor-checkbox input[type=checkbox]:checked+span:before{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAMBJREFUKBWVkjEOwjAMRe2WgZW7IIHEDdhghhuwcQ42rlJugAQS54Cxa5cq1QM5TUpByZfS2j9+dlJVt/tX5ZxbS4ZU9VLkQvSHKTIGRaVJYFmKrBbTCJxE2UgCdDzMZDkHrOV6b95V0US6UmgKodujEZbJg0B0ZgEModO5lrY1TMQf1TpyJGBEjD+E2NPN7ukIUDiF/BfEXgRiGEw8NgkffYGYwCi808fpn/6OvfUfsDr/Vc1IfRf8sKnFVqeiVQfDu0tf/nWH9gAAAABJRU5ErkJggg==);background-size:cover}.tui-image-editor-container .tui-image-editor-selectlist-wrap{position:relative}.tui-image-editor-container .tui-image-editor-selectlist-wrap select{-webkit-appearance:none;appearance:none;background-color:#fff;border:1px solid #cbdbdb;border-radius:0;height:28px;margin-top:4px;outline:0;padding:0 7px 0 10px;width:100%}.tui-image-editor-container .tui-image-editor-selectlist-wrap .tui-image-editor-selectlist{background-color:#fff;border:1px solid #ccc;border-top:0;display:none;padding:4px 0;position:relative;top:-1px}.tui-image-editor-container .tui-image-editor-selectlist-wrap .tui-image-editor-selectlist li{display:block;font-family:Noto Sans,sans-serif;padding:7px 10px;text-align:left}.tui-image-editor-container .tui-image-editor-selectlist-wrap .tui-image-editor-selectlist li:hover{background-color:#515ce60d}.tui-image-editor-container .tui-image-editor-selectlist-wrap:before{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAHlJREFUKBVjYBgFOEOAEVkmPDxc89+/f6eAYjzI4kD2FyYmJrOVK1deh4kzwRggGiQBVJCELAZig8SQNYHEmEEEMrh69eo1HR0dfqCYJUickZGxf9WqVf3IakBsFBthklpaWmVA9mEQhrJhUoTp0NBQCRAmrHL4qgAAuu4cWZOZIGsAAAAASUVORK5CYII=);background-size:cover;content:"";display:inline-block;height:14px;position:absolute;right:5px;top:10px;width:14px}.tui-image-editor-container .tui-image-editor-selectlist-wrap select::-ms-expand{display:none}.tui-image-editor-container .tui-image-editor-virtual-range-bar .tui-image-editor-disabled,.tui-image-editor-container .tui-image-editor-virtual-range-pointer .tui-image-editor-disabled,.tui-image-editor-container .tui-image-editor-virtual-range-subbar .tui-image-editor-disabled{background-color:red}.tui-image-editor-container .tui-image-editor-range{display:inline-block;height:17px;position:relative;top:5px;width:166px}.tui-image-editor-container .tui-image-editor-virtual-range-bar{background-color:#666;height:2px;position:absolute;top:7px;width:100%}.tui-image-editor-container .tui-image-editor-virtual-range-subbar{background-color:#d1d1d1;height:100%;left:0;position:absolute;right:0}.tui-image-editor-container .tui-image-editor-virtual-range-pointer{background-color:#fff;border-radius:100%;cursor:pointer;height:12px;left:0;position:absolute;top:-5px;width:12px}.tui-image-editor-container .tui-image-editor-range-wrap{display:inline-block;margin-left:4px}.tui-image-editor-container .tui-image-editor-range-wrap.short .tui-image-editor-range{width:100px}.tui-image-editor-container .color-picker-control .tui-image-editor-range{margin-left:10px;width:108px}.tui-image-editor-container .color-picker-control .tui-image-editor-virtual-range-pointer{background-color:#333}.tui-image-editor-container .color-picker-control .tui-image-editor-virtual-range-bar{background-color:#ccc}.tui-image-editor-container .color-picker-control .tui-image-editor-virtual-range-subbar{background-color:#606060}.tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short{margin-left:19px;margin-top:-2px}.tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label{color:#8e8e8e;font-weight:400}.tui-image-editor-container .tui-image-editor-range-wrap label{color:#fff;font-size:11px;margin-right:7px;vertical-align:baseline}.tui-image-editor-container .tui-image-editor-range-value{background-color:#1c1c1c;border:1px solid #d5d5d5;border-radius:2px;box-shadow:none;color:#fff;cursor:default;font-family:Noto Sans,sans-serif;font-weight:lighter;height:24px;margin-left:4px;margin-top:15px;outline:none;text-align:center;vertical-align:baseline;width:40px}.tui-image-editor-container .tui-image-editor-controls{background-color:#151515;bottom:0;display:table;height:64px;position:absolute;width:100%;z-index:2}.tui-image-editor-container .tui-image-editor-icpartition{background-color:#444;display:inline-block;height:24px;width:1px}.tui-image-editor-container.left .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:before{border-bottom:7px solid transparent;border-right:7px solid #2f2f2f;border-top:7px solid transparent;left:28px;top:11px}.tui-image-editor-container.left .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:after{left:42px;top:7px;white-space:nowrap}.tui-image-editor-container.left .tui-image-editor-submenu{height:100%;left:0;width:248px}.tui-image-editor-container.left .tui-image-editor-main-container{height:100%;left:64px;width:calc(100% - 64px)}.tui-image-editor-container.left .tui-image-editor-controls{display:table;height:100%;width:64px}.tui-image-editor-container.left .tui-image-editor-menu,.tui-image-editor-container.right .tui-image-editor-menu{white-space:inherit}.tui-image-editor-container.left .tui-image-editor-submenu,.tui-image-editor-container.right .tui-image-editor-submenu{white-space:normal}.tui-image-editor-container.left .tui-image-editor-submenu>div,.tui-image-editor-container.right .tui-image-editor-submenu>div{vertical-align:middle}.tui-image-editor-container.left .tui-image-editor-controls li,.tui-image-editor-container.right .tui-image-editor-controls li{display:inline-block;margin:4px auto}.tui-image-editor-container.left .tui-image-editor-icpartition,.tui-image-editor-container.right .tui-image-editor-icpartition{height:1px;position:relative;top:-7px;width:24px}.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition,.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition{display:block;margin:auto;width:75%}.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition>div,.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition>div{border-bottom:1px solid #3c3c3c;border-left:0;height:10px;margin:0;width:100%}.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-submenu-align,.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-submenu-align{margin-right:0}.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-submenu-item li,.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-submenu-item li{margin-top:15px}.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-colorpicker-clearfix li,.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-colorpicker-clearfix li{margin-top:0}.tui-image-editor-container.left .tui-image-editor-checkbox-wrap.fixed-width,.tui-image-editor-container.right .tui-image-editor-checkbox-wrap.fixed-width{white-space:normal;width:182px}.tui-image-editor-container.left .tui-image-editor-range-wrap.tui-image-editor-newline label.range,.tui-image-editor-container.right .tui-image-editor-range-wrap.tui-image-editor-newline label.range{display:block;margin:auto;text-align:left;width:75%}.tui-image-editor-container.left .tui-image-editor-range,.tui-image-editor-container.right .tui-image-editor-range{width:136px}.tui-image-editor-container.right .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:before{border-bottom:7px solid transparent;border-left:7px solid #2f2f2f;border-top:7px solid transparent;left:-3px;top:11px}.tui-image-editor-container.right .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:after{left:unset;right:43px;top:7px;white-space:nowrap}.tui-image-editor-container.right .tui-image-editor-submenu{height:100%;right:0;width:248px}.tui-image-editor-container.right .tui-image-editor-main-container{height:100%;right:64px;width:calc(100% - 64px)}.tui-image-editor-container.right .tui-image-editor-controls{display:table;height:100%;right:0;width:64px}.tui-image-editor-container.bottom .tui-image-editor-submenu .tui-image-editor-partition.only-left-right,.tui-image-editor-container.top .tui-image-editor-submenu .tui-image-editor-partition.only-left-right{display:none}.tui-image-editor-container.bottom .tui-image-editor-submenu>div{padding-bottom:24px}.tui-image-editor-container.top .color-picker-control .triangle{border-bottom:8px solid #fff;border-left:7px solid transparent;border-right:7px solid transparent;border-top:0;top:-8px}.tui-image-editor-container.top .tui-image-editor-size-wrap{height:100%}.tui-image-editor-container.top .tui-image-editor-main-container{bottom:0}.tui-image-editor-container.top .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:before{border-bottom:7px solid #2f2f2f;border-top:0;left:13px;top:33px}.tui-image-editor-container.top .tui-image-editor-menu>.tui-image-editor-item[tooltip-content]:after{top:38px}.tui-image-editor-container.top .tui-image-editor-submenu{bottom:auto;top:0}.tui-image-editor-container.top .tui-image-editor-submenu>div{padding-top:24px;vertical-align:top}.tui-image-editor-container.top .tui-image-editor-controls-buttons,.tui-image-editor-container.top .tui-image-editor-controls-logo{display:table-cell}.tui-image-editor-container.top .tui-image-editor-main{height:calc(100% - 64px);top:64px}.tui-image-editor-container.top .tui-image-editor-controls{bottom:inherit;top:0}.tui-image-editor-container .tui-image-editor-help-menu.top{height:40px;left:50%;top:8px;transform:translate(-50%);white-space:nowrap;width:506px}.tui-image-editor-container .tui-image-editor-help-menu.top .tie-panel-history{top:45px}.tui-image-editor-container .tui-image-editor-help-menu.top .opened .tie-panel-history:before{border-bottom:8px solid #fff;border-left:8px solid transparent;border-right:8px solid transparent;left:90px;top:-8px}.tui-image-editor-container .tui-image-editor-help-menu.top>.tui-image-editor-item[tooltip-content]:before{border:7px solid transparent;border-bottom:7px solid #2f2f2f;border-top:none;left:13px;top:35px}.tui-image-editor-container .tui-image-editor-help-menu.top>.tui-image-editor-item[tooltip-content]:after{left:-4px;top:41px;white-space:nowrap}.tui-image-editor-container .tui-image-editor-help-menu.top>.tui-image-editor-item[tooltip-content].opened:after,.tui-image-editor-container .tui-image-editor-help-menu.top>.tui-image-editor-item[tooltip-content].opened:before{content:none}.tui-image-editor-container .tui-image-editor-help-menu.bottom{bottom:8px;height:40px;left:50%;transform:translate(-50%);white-space:nowrap;width:506px}.tui-image-editor-container .tui-image-editor-help-menu.bottom .tie-panel-history{bottom:45px}.tui-image-editor-container .tui-image-editor-help-menu.bottom .opened .tie-panel-history:before{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff;bottom:-8px;left:90px}.tui-image-editor-container .tui-image-editor-help-menu.bottom>.tui-image-editor-item[tooltip-content]:before{border:7px solid transparent;border-bottom:none;border-top-color:#2f2f2f;bottom:36px;left:13px;top:auto}.tui-image-editor-container .tui-image-editor-help-menu.bottom>.tui-image-editor-item[tooltip-content]:after{bottom:41px;left:-4px;top:auto;white-space:nowrap}.tui-image-editor-container .tui-image-editor-help-menu.bottom>.tui-image-editor-item[tooltip-content].opened:after,.tui-image-editor-container .tui-image-editor-help-menu.bottom>.tui-image-editor-item[tooltip-content].opened:before{content:none}.tui-image-editor-container .tui-image-editor-help-menu.left{height:506px;left:8px;top:50%;transform:translateY(-50%);white-space:inherit;width:40px}.tui-image-editor-container .tui-image-editor-help-menu.left .tie-panel-history{left:140px;top:-4px}.tui-image-editor-container .tui-image-editor-help-menu.left .opened .tie-panel-history:before{border-bottom:8px solid transparent;border-right:8px solid #fff;border-top:8px solid transparent;left:-8px;top:14px}.tui-image-editor-container .tui-image-editor-help-menu.left .tui-image-editor-item{margin:4px auto;padding:6px 8px}.tui-image-editor-container .tui-image-editor-help-menu.left>.tui-image-editor-item[tooltip-content]:before{border:7px solid transparent;border-left:none;border-right-color:#2f2f2f;left:27px;top:11px}.tui-image-editor-container .tui-image-editor-help-menu.left>.tui-image-editor-item[tooltip-content]:after{left:40px;top:7px;white-space:nowrap}.tui-image-editor-container .tui-image-editor-help-menu.left>.tui-image-editor-item[tooltip-content].opened:after,.tui-image-editor-container .tui-image-editor-help-menu.left>.tui-image-editor-item[tooltip-content].opened:before{content:none}.tui-image-editor-container .tui-image-editor-help-menu.right{height:506px;right:8px;top:50%;transform:translateY(-50%);white-space:inherit;width:40px}.tui-image-editor-container .tui-image-editor-help-menu.right .tie-panel-history{right:-30px;top:-4px}.tui-image-editor-container .tui-image-editor-help-menu.right .opened .tie-panel-history:before{border-bottom:8px solid transparent;border-left:8px solid #fff;border-top:8px solid transparent;right:-8px;top:14px}.tui-image-editor-container .tui-image-editor-help-menu.right .tui-image-editor-item{margin:4px auto;padding:6px 8px}.tui-image-editor-container .tui-image-editor-help-menu.right>.tui-image-editor-item[tooltip-content]:before{border:7px solid transparent;border-left:7px solid #2f2f2f;border-right:none;left:-6px;top:11px}.tui-image-editor-container .tui-image-editor-help-menu.right>.tui-image-editor-item[tooltip-content]:after{left:auto;right:39px;top:7px;white-space:nowrap}.tui-image-editor-container .tui-image-editor-help-menu.right>.tui-image-editor-item[tooltip-content].opened:after,.tui-image-editor-container .tui-image-editor-help-menu.right>.tui-image-editor-item[tooltip-content].opened:before{content:none}.tui-image-editor-container .tie-icon-add-button .tui-image-editor-button{min-width:42px}.tui-image-editor-container .svg_ic-helpmenu,.tui-image-editor-container .svg_ic-menu{height:24px;width:24px}.tui-image-editor-container .svg_ic-submenu{height:32px;width:32px}.tui-image-editor-container .svg_img-bi{height:26px;width:257px}.tui-image-editor-container .tui-image-editor-controls svg>use,.tui-image-editor-container .tui-image-editor-help-menu svg>use{display:none}.tui-image-editor-container .tui-image-editor-controls .enabled svg:hover>use.hover,.tui-image-editor-container .tui-image-editor-controls .normal svg:hover>use.hover,.tui-image-editor-container .tui-image-editor-help-menu .enabled svg:hover>use.hover,.tui-image-editor-container .tui-image-editor-help-menu .normal svg:hover>use.hover{display:block}.tui-image-editor-container .tui-image-editor-controls .active svg:hover>use.hover,.tui-image-editor-container .tui-image-editor-help-menu .active svg:hover>use.hover{display:none}.tui-image-editor-container .tui-image-editor-controls .active svg>use.active,.tui-image-editor-container .tui-image-editor-controls .enabled svg>use.enabled,.tui-image-editor-container .tui-image-editor-controls .on svg>use.hover,.tui-image-editor-container .tui-image-editor-controls .opened svg>use.hover,.tui-image-editor-container .tui-image-editor-controls svg>use.normal,.tui-image-editor-container .tui-image-editor-help-menu .active svg>use.active,.tui-image-editor-container .tui-image-editor-help-menu .enabled svg>use.enabled,.tui-image-editor-container .tui-image-editor-help-menu .on svg>use.hover,.tui-image-editor-container .tui-image-editor-help-menu .opened svg>use.hover,.tui-image-editor-container .tui-image-editor-help-menu svg>use.normal{display:block}.tui-image-editor-container .tui-image-editor-controls .active svg>use.normal,.tui-image-editor-container .tui-image-editor-controls .enabled svg>use.normal,.tui-image-editor-container .tui-image-editor-help-menu .active svg>use.normal,.tui-image-editor-container .tui-image-editor-help-menu .enabled svg>use.normal{display:none}.tui-image-editor-container .tui-image-editor-controls .help.enabled svg>use.normal,.tui-image-editor-container .tui-image-editor-controls .help svg>use.disabled,.tui-image-editor-container .tui-image-editor-help-menu .help.enabled svg>use.normal,.tui-image-editor-container .tui-image-editor-help-menu .help svg>use.disabled{display:block}.tui-image-editor-container .tui-image-editor-controls .help.enabled svg>use.disabled,.tui-image-editor-container .tui-image-editor-help-menu .help.enabled svg>use.disabled{display:none}.tui-image-editor-container .tui-image-editor-controls:hover{z-index:3}.tui-image-editor-container div.tui-colorpicker-clearfix{background-color:#f5f5f5;border:1px solid #d5d5d5;border-radius:2px;height:28px;margin-top:6px;padding:4px 7px;width:159px}.tui-image-editor-container .tui-colorpicker-palette-hex{background-color:#f5f5f5;border:0;font-family:Noto Sans,sans-serif;font-size:11px;margin-top:2px;width:114px}.tui-image-editor-container .tui-colorpicker-palette-hex[value=""]+.tui-colorpicker-palette-preview,.tui-image-editor-container .tui-colorpicker-palette-hex[value="#ffffff"]+.tui-colorpicker-palette-preview{border:1px solid #ccc}.tui-image-editor-container .tui-colorpicker-palette-hex[value=""]+.tui-colorpicker-palette-preview{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAdBJREFUWAnFl0FuwjAQRZ0ukiugHqFSOQNdseuKW3ALzkA4BateICvUGyCxrtRFd4WuunH/TzykaYJrnLEYaTJJsP2+x8GZZCbQrLU5mj7Bn+EP8HvnCObd+R7xBV5lWfaNON4AnsA38E94qLEt+0yiFaBzAV/Bv+Cxxr4co7hKCDpw1q9wLeNYYdlAwyn8TYt8Hme3+8D5ozcTaMCZ68PXa2tnM2sbEcOZAJhrrpl2DAcTOGNjZPSfCdzkw6JrfbiMv+osBe4y9WOedhm4jZfhbENWuxS44H9Wz/xw4WzqLOAqh1+zycgAwzEMzr5k5gaHOa9ULBwuuDkFlHI1Kl4PJ66kgIpnoywOTmRFAYcbwYk9UMApWkD8zAV5ihcwHk4Rx7gl0IFTQL0EFc+CTQ9OZHWH3YhlVJiVpTHbrTGLhTHLZVgff6s9lyBsI9KduSS83oj+34rTwJutmBmCnMsvozRwZqB5GTkBw6/jdPDu69iJ6BYk6eCcfbcgcQIK/MByaaiMqm8rHcjol2TnpWDhyAKSGdA3FrxtJUToX0ODqatetfGE+8tyEUOV8GY5dGRwLP/MBS4RHQr4bT7NRAQjlcOTfZxmv2G+c4hI8nn+Ax5PG/zhI393AAAAAElFTkSuQmCC);background-size:cover}.tui-image-editor-container .tui-colorpicker-palette-preview{border:0;border-radius:100%;float:left;height:17px;width:17px}.tui-image-editor-container .color-picker-control{background-color:#fff;border-radius:2px;box-shadow:0 3px 22px 6px #00000026;display:none;padding:16px;position:absolute;width:192px;z-index:99}.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-toggle-slider{display:none}.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-button{background-size:cover;border:0;border-radius:100%;font-size:1px;margin:2px}.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-button[title=""],.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-button[title="#ffffff"]{border:1px solid #ccc}.tui-image-editor-container .color-picker-control .triangle{border-left:7px solid transparent;border-right:7px solid transparent;border-top:8px solid #fff;bottom:-8px;height:0;left:84px;position:absolute;width:0}.tui-image-editor-container .color-picker-control .tui-colorpicker-container,.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-container,.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-container ul{height:auto;width:100%}.tui-image-editor-container .filter-color-item .color-picker-control label{font-color:#333;font-weight:400;margin-right:7pxleft}.tui-image-editor-container .filter-color-item .tui-image-editor-checkbox{margin-top:0}.tui-image-editor-container .filter-color-item .tui-image-editor-checkbox>label:before,.tui-image-editor-container .filter-color-item .tui-image-editor-checkbox input+label:before{left:-16px}.tui-image-editor-container .color-picker{height:auto;width:100%}.tui-image-editor-container .color-picker-value{border:0;border-radius:100%;height:32px;margin:auto auto 1px;width:32px}.tui-image-editor-container .color-picker-value.transparent{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAdBJREFUWAnFl0FuwjAQRZ0ukiugHqFSOQNdseuKW3ALzkA4BateICvUGyCxrtRFd4WuunH/TzykaYJrnLEYaTJJsP2+x8GZZCbQrLU5mj7Bn+EP8HvnCObd+R7xBV5lWfaNON4AnsA38E94qLEt+0yiFaBzAV/Bv+Cxxr4co7hKCDpw1q9wLeNYYdlAwyn8TYt8Hme3+8D5ozcTaMCZ68PXa2tnM2sbEcOZAJhrrpl2DAcTOGNjZPSfCdzkw6JrfbiMv+osBe4y9WOedhm4jZfhbENWuxS44H9Wz/xw4WzqLOAqh1+zycgAwzEMzr5k5gaHOa9ULBwuuDkFlHI1Kl4PJ66kgIpnoywOTmRFAYcbwYk9UMApWkD8zAV5ihcwHk4Rx7gl0IFTQL0EFc+CTQ9OZHWH3YhlVJiVpTHbrTGLhTHLZVgff6s9lyBsI9KduSS83oj+34rTwJutmBmCnMsvozRwZqB5GTkBw6/jdPDu69iJ6BYk6eCcfbcgcQIK/MByaaiMqm8rHcjol2TnpWDhyAKSGdA3FrxtJUToX0ODqatetfGE+8tyEUOV8GY5dGRwLP/MBS4RHQr4bT7NRAQjlcOTfZxmv2G+c4hI8nn+Ax5PG/zhI393AAAAAElFTkSuQmCC);background-size:cover;border:1px solid #cbcbcb}.tui-image-editor-container .color-picker-value+label{color:#fff}.tui-image-editor-container .tui-image-editor-submenu svg>use{display:none}.tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype=icon-arrow-2] svg>use.active,.tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype=icon-arrow-3] svg>use.active,.tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype=icon-arrow] svg>use.active,.tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype=icon-bubble] svg>use.active,.tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype=icon-heart] svg>use.active,.tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype=icon-location] svg>use.active,.tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype=icon-polygon] svg>use.active,.tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype=icon-star-2] svg>use.active,.tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype=icon-star] svg>use.active,.tui-image-editor-container .tui-image-editor-submenu svg>use.normal{display:block}.tie-draw-line-select-button.free .tui-image-editor-button.free svg>use.normal,.tie-draw-line-select-button.line .tui-image-editor-button.line svg>use.normal{display:none}.tie-draw-line-select-button.free .tui-image-editor-button.free svg>use.active,.tie-draw-line-select-button.line .tui-image-editor-button.line svg>use.active{display:block}.tie-flip-button.flipX .tui-image-editor-button.flipX svg>use.normal,.tie-flip-button.flipY .tui-image-editor-button.flipY svg>use.normal,.tie-flip-button.resetFlip .tui-image-editor-button.resetFlip svg>use.normal{display:none}.tie-flip-button.flipX .tui-image-editor-button.flipX svg>use.active,.tie-flip-button.flipY .tui-image-editor-button.flipY svg>use.active,.tie-flip-button.resetFlip .tui-image-editor-button.resetFlip svg>use.active{display:block}.tie-mask-apply.apply.active .tui-image-editor-button.apply label{color:#fff}.tie-mask-apply.apply.active .tui-image-editor-button.apply svg>use.active{display:block}.tie-crop-button .tui-image-editor-button.apply,.tie-crop-preset-button .tui-image-editor-button.apply{margin-right:24px}.tie-crop-button .tui-image-editor-button.apply.active svg>use.active,.tie-crop-button .tui-image-editor-button.preset.active svg>use.active,.tie-crop-preset-button .tui-image-editor-button.apply.active svg>use.active,.tie-crop-preset-button .tui-image-editor-button.preset.active svg>use.active{display:block}.tie-resize-button .tui-image-editor-button.apply,.tie-resize-preset-button .tui-image-editor-button.apply{margin-right:24px}.tie-resize-button .tui-image-editor-button.apply.active svg>use.active,.tie-resize-button .tui-image-editor-button.preset.active svg>use.active,.tie-resize-preset-button .tui-image-editor-button.apply.active svg>use.active,.tie-resize-preset-button .tui-image-editor-button.preset.active svg>use.active{display:block}.tie-shape-button.circle .tui-image-editor-button.circle svg>use.normal,.tie-shape-button.rect .tui-image-editor-button.rect svg>use.normal,.tie-shape-button.triangle .tui-image-editor-button.triangle svg>use.normal{display:none}.tie-shape-button.circle .tui-image-editor-button.circle svg>use.active,.tie-shape-button.rect .tui-image-editor-button.rect svg>use.active,.tie-shape-button.triangle .tui-image-editor-button.triangle svg>use.active,.tie-text-align-button.tie-text-align-center .tui-image-editor-button.center svg>use.active,.tie-text-align-button.tie-text-align-left .tui-image-editor-button.left svg>use.active,.tie-text-align-button.tie-text-align-right .tui-image-editor-button.right svg>use.active,.tie-text-effect-button .tui-image-editor-button.active svg>use.active{display:block}.tie-icon-image-file,.tie-mask-image-file{border:1px solid green;cursor:inherit;height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}.tie-zoom-button.flipX .tui-image-editor-button.flipX svg>use.normal,.tie-zoom-button.flipY .tui-image-editor-button.flipY svg>use.normal,.tie-zoom-button.resetFlip .tui-image-editor-button.resetFlip svg>use.normal{display:none}.tie-zoom-button.flipX .tui-image-editor-button.flipX svg>use.active,.tie-zoom-button.flipY .tui-image-editor-button.flipY svg>use.active,.tie-zoom-button.resetFlip .tui-image-editor-button.resetFlip svg>use.active{display:block}.tui-image-editor-container.top.tui-image-editor-top-optimization .tui-image-editor-controls ul{text-align:right}.tui-image-editor-container.top.tui-image-editor-top-optimization .tui-image-editor-controls-logo{display:none}\n',".tui-image-editor-container .tui-image-editor-header-logo,.tui-image-editor-container .tui-image-editor-header-buttons{display:none!important}\n"],encapsulation:2}),i})();const Kf=["textEl"];function qf(i,o){if(1&i&&t._UZ(0,"span",3),2&i){const e=t.oxw();t.Q6J("nzType",e.nzIcon)}}function e5(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"img",4),t.NdJ("error",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.imgError(v))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("src",e.nzSrc,t.LSH),t.uIk("srcset",e.nzSrcSet)("alt",e.nzAlt)}}function t5(i,o){if(1&i&&(t.TgZ(0,"span",5,6),t._uU(2),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.nzText)}}let o5=(()=>{class i{constructor(e,n,v,M,F){this.nzConfigService=e,this.elementRef=n,this.cdr=v,this.platform=M,this.ngZone=F,this._nzModuleName="avatar",this.nzShape="circle",this.nzSize="default",this.nzGap=4,this.nzError=new t.vpe,this.hasText=!1,this.hasSrc=!0,this.hasIcon=!1,this.classMap={},this.customSize=null,this.el=this.elementRef.nativeElement}imgError(e){this.nzError.emit(e),e.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.notifyCalc())}ngOnChanges(){this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setSizeStyle(),this.notifyCalc()}calcStringSize(){if(!this.hasText)return;const e=this.textEl.nativeElement,n=e.offsetWidth,v=this.el.getBoundingClientRect().width,M=2*this.nzGap<v?2*this.nzGap:8;e.style.transform=`scale(${v-M<n?(v-M)/n:1}) translateX(-50%)`,e.style.lineHeight=this.customSize||""}notifyCalc(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.calcStringSize()})})}setSizeStyle(){this.customSize="number"==typeof this.nzSize?`${this.nzSize}px`:null,this.cdr.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Ci),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(Kt),t.Y36(t.R0b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-avatar"]],viewQuery:function(e,n){if(1&e&&t.Gf(Kf,5),2&e){let v;t.iGM(v=t.CRH())&&(n.textEl=v.first)}},hostAttrs:[1,"ant-avatar"],hostVars:20,hostBindings:function(e,n){2&e&&(t.Udp("width",n.customSize)("height",n.customSize)("line-height",n.customSize)("font-size",n.hasIcon&&n.customSize?n.nzSize/2:null,"px"),t.ekj("ant-avatar-lg","large"===n.nzSize)("ant-avatar-sm","small"===n.nzSize)("ant-avatar-square","square"===n.nzShape)("ant-avatar-circle","circle"===n.nzShape)("ant-avatar-icon",n.nzIcon)("ant-avatar-image",n.hasSrc))},inputs:{nzShape:"nzShape",nzSize:"nzSize",nzGap:"nzGap",nzText:"nzText",nzSrc:"nzSrc",nzSrcSet:"nzSrcSet",nzAlt:"nzAlt",nzIcon:"nzIcon"},outputs:{nzError:"nzError"},exportAs:["nzAvatar"],features:[t.TTD],decls:3,vars:3,consts:[["nz-icon","",3,"nzType",4,"ngIf"],[3,"src","error",4,"ngIf"],["class","ant-avatar-string",4,"ngIf"],["nz-icon","",3,"nzType"],[3,"src","error"],[1,"ant-avatar-string"],["textEl",""]],template:function(e,n){1&e&&(t.YNc(0,qf,1,1,"span",0),t.YNc(1,e5,1,3,"img",1),t.YNc(2,t5,3,1,"span",2)),2&e&&(t.Q6J("ngIf",n.nzIcon&&n.hasIcon),t.xp6(1),t.Q6J("ngIf",n.nzSrc&&n.hasSrc),t.xp6(1),t.Q6J("ngIf",n.nzText&&n.hasText))},dependencies:[J.O5,ri],encapsulation:2,changeDetection:0}),(0,ue.gn)([jt()],i.prototype,"nzShape",void 0),(0,ue.gn)([jt()],i.prototype,"nzSize",void 0),(0,ue.gn)([jt(),yi()],i.prototype,"nzGap",void 0),i})(),r5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,Hi,zi]}),i})();function s5(i,o){1&i&&(t.TgZ(0,"span",3),t._UZ(1,"i",4)(2,"i",4)(3,"i",4)(4,"i",4),t.qZA())}function c5(i,o){}function l5(i,o){if(1&i&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.nzTip)}}function h5(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,c5,0,0,"ng-template",6),t.YNc(3,l5,2,1,"div",7),t.qZA()()),2&i){const e=t.oxw(),n=t.MAs(1);t.xp6(1),t.ekj("ant-spin-rtl","rtl"===e.dir)("ant-spin-spinning",e.isLoading)("ant-spin-lg","large"===e.nzSize)("ant-spin-sm","small"===e.nzSize)("ant-spin-show-text",e.nzTip),t.xp6(1),t.Q6J("ngTemplateOutlet",e.nzIndicator||n),t.xp6(1),t.Q6J("ngIf",e.nzTip)}}function u5(i,o){if(1&i&&(t.TgZ(0,"div",9),t.Hsn(1),t.qZA()),2&i){const e=t.oxw();t.ekj("ant-spin-blur",e.isLoading)}}const d5=["*"];let f5=(()=>{class i{constructor(e,n,v){this.nzConfigService=e,this.cdr=n,this.directionality=v,this._nzModuleName="spin",this.nzIndicator=null,this.nzSize="default",this.nzTip=null,this.nzDelay=0,this.nzSimple=!1,this.nzSpinning=!0,this.destroy$=new q.x,this.spinning$=new yn.X(this.nzSpinning),this.delay$=new mn(1),this.isLoading=!1,this.dir="ltr"}ngOnInit(){this.delay$.pipe((0,C.O)(this.nzDelay),Zi(),(0,vn.w)(n=>0===n?this.spinning$:this.spinning$.pipe(function a5(i){return(0,r.e)((o,e)=>{let n=!1,v=null,M=null;const F=()=>{if(M?.unsubscribe(),M=null,n){n=!1;const Q=v;v=null,e.next(Q)}};o.subscribe((0,a.x)(e,Q=>{M?.unsubscribe(),n=!0,v=Q,M=(0,a.x)(e,F,s.Z),(0,Ee.Xf)(i(Q)).subscribe(M)},()=>{F(),e.complete()},void 0,()=>{v=M=null}))})}(v=>Js(v?n:0)))),u(this.destroy$)).subscribe(n=>{this.isLoading=n,this.cdr.markForCheck()}),this.nzConfigService.getConfigChangeEventForComponent("spin").pipe(u(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.directionality.change?.pipe(u(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){const{nzSpinning:n,nzDelay:v}=e;n&&this.spinning$.next(this.nzSpinning),v&&this.delay$.next(this.nzDelay)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Ci),t.Y36(t.sBO),t.Y36(Jt,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("ant-spin-nested-loading",!n.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:"nzDelay",nzSimple:"nzSimple",nzSpinning:"nzSpinning"},exportAs:["nzSpin"],features:[t.TTD],ngContentSelectors:d5,decls:4,vars:2,consts:[["defaultTemplate",""],[4,"ngIf"],["class","ant-spin-container",3,"ant-spin-blur",4,"ngIf"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin"],[3,"ngTemplateOutlet"],["class","ant-spin-text",4,"ngIf"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(e,n){1&e&&(t.F$t(),t.YNc(0,s5,5,0,"ng-template",null,0,t.W1O),t.YNc(2,h5,4,12,"div",1),t.YNc(3,u5,2,2,"div",2)),2&e&&(t.xp6(2),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("ngIf",!n.nzSimple))},dependencies:[J.O5,J.tP],encapsulation:2}),(0,ue.gn)([jt()],i.prototype,"nzIndicator",void 0),(0,ue.gn)([yi()],i.prototype,"nzDelay",void 0),(0,ue.gn)([yt()],i.prototype,"nzSimple",void 0),(0,ue.gn)([yt()],i.prototype,"nzSpinning",void 0),i})(),p5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,Q2]}),i})();const on=["*"];function g5(i,o){if(1&i&&t._UZ(0,"nz-avatar",3),2&i){const e=t.oxw();t.Q6J("nzSrc",e.nzSrc)}}function v5(i,o){1&i&&t.Hsn(0,0,["*ngIf","!nzSrc"])}function m5(i,o){if(1&i&&t._UZ(0,"nz-list-item-meta-avatar",3),2&i){const e=t.oxw();t.Q6J("nzSrc",e.avatarStr)}}function y5(i,o){if(1&i&&(t.TgZ(0,"nz-list-item-meta-avatar"),t.GkF(1,4),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.avatarTpl)}}function _5(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.nzTitle)}}function C5(i,o){if(1&i&&(t.TgZ(0,"nz-list-item-meta-title"),t.YNc(1,_5,2,1,"ng-container",6),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzTitle)}}function z5(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.nzDescription)}}function b5(i,o){if(1&i&&(t.TgZ(0,"nz-list-item-meta-description"),t.YNc(1,z5,2,1,"ng-container",6),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzDescription)}}function x5(i,o){if(1&i&&(t.TgZ(0,"div",5),t.YNc(1,C5,2,1,"nz-list-item-meta-title",1),t.YNc(2,b5,2,1,"nz-list-item-meta-description",1),t.Hsn(3,1),t.Hsn(4,2),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.nzTitle&&!e.titleComponent),t.xp6(1),t.Q6J("ngIf",e.nzDescription&&!e.descriptionComponent)}}const M5=[[["nz-list-item-meta-avatar"]],[["nz-list-item-meta-title"]],[["nz-list-item-meta-description"]]],S5=["nz-list-item-meta-avatar","nz-list-item-meta-title","nz-list-item-meta-description"];function w5(i,o){1&i&&t.Hsn(0)}const T5=["nz-list-item-actions",""];function I5(i,o){}function E5(i,o){1&i&&t._UZ(0,"em",3)}function O5(i,o){if(1&i&&(t.TgZ(0,"li"),t.YNc(1,I5,0,0,"ng-template",1),t.YNc(2,E5,1,0,"em",2),t.qZA()),2&i){const e=o.$implicit,n=o.last;t.xp6(1),t.Q6J("ngTemplateOutlet",e),t.xp6(1),t.Q6J("ngIf",!n)}}function A5(i,o){}const f0=function(i,o){return{$implicit:i,index:o}};function D5(i,o){if(1&i&&(t.ynx(0),t.YNc(1,A5,0,0,"ng-template",9),t.BQk()),2&i){const e=o.$implicit,n=o.index,v=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",v.nzRenderItem)("ngTemplateOutletContext",t.WLB(2,f0,e,n))}}function k5(i,o){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,D5,2,5,"ng-container",8),t.Hsn(2,4),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.nzDataSource)}}function L5(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.nzHeader)}}function N5(i,o){if(1&i&&(t.TgZ(0,"nz-list-header"),t.YNc(1,L5,2,1,"ng-container",10),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzHeader)}}function H5(i,o){1&i&&t._UZ(0,"div"),2&i&&t.Udp("min-height",53,"px")}function P5(i,o){}function F5(i,o){if(1&i&&(t.TgZ(0,"div",13),t.YNc(1,P5,0,0,"ng-template",9),t.qZA()),2&i){const e=o.$implicit,n=o.index,v=t.oxw(2);t.Q6J("nzSpan",v.nzGrid.span||null)("nzXs",v.nzGrid.xs||null)("nzSm",v.nzGrid.sm||null)("nzMd",v.nzGrid.md||null)("nzLg",v.nzGrid.lg||null)("nzXl",v.nzGrid.xl||null)("nzXXl",v.nzGrid.xxl||null),t.xp6(1),t.Q6J("ngTemplateOutlet",v.nzRenderItem)("ngTemplateOutletContext",t.WLB(9,f0,e,n))}}function R5(i,o){if(1&i&&(t.TgZ(0,"div",11),t.YNc(1,F5,2,12,"div",12),t.qZA()),2&i){const e=t.oxw();t.Q6J("nzGutter",e.nzGrid.gutter||null),t.xp6(1),t.Q6J("ngForOf",e.nzDataSource)}}function B5(i,o){if(1&i&&t._UZ(0,"nz-list-empty",14),2&i){const e=t.oxw();t.Q6J("nzNoResult",e.nzNoResult)}}function V5(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.nzFooter)}}function j5(i,o){if(1&i&&(t.TgZ(0,"nz-list-footer"),t.YNc(1,V5,2,1,"ng-container",10),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzFooter)}}function Y5(i,o){}function U5(i,o){}function G5(i,o){if(1&i&&(t.TgZ(0,"nz-list-pagination"),t.YNc(1,U5,0,0,"ng-template",6),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.nzPagination)}}const W5=[[["nz-list-header"]],[["nz-list-footer"],["","nz-list-footer",""]],[["nz-list-load-more"],["","nz-list-load-more",""]],[["nz-list-pagination"],["","nz-list-pagination",""]],"*"],Z5=["nz-list-header","nz-list-footer, [nz-list-footer]","nz-list-load-more, [nz-list-load-more]","nz-list-pagination, [nz-list-pagination]","*"];function X5(i,o){if(1&i&&t._UZ(0,"ul",6),2&i){const e=t.oxw(2);t.Q6J("nzActions",e.nzActions)}}function Q5(i,o){if(1&i&&(t.YNc(0,X5,1,1,"ul",5),t.Hsn(1)),2&i){const e=t.oxw();t.Q6J("ngIf",e.nzActions&&e.nzActions.length>0)}}function J5(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.nzContent)}}function $5(i,o){if(1&i&&(t.ynx(0),t.YNc(1,J5,2,1,"ng-container",8),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzContent)}}function K5(i,o){if(1&i&&(t.Hsn(0,1),t.Hsn(1,2),t.YNc(2,$5,2,1,"ng-container",7)),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.nzContent)}}function q5(i,o){1&i&&t.Hsn(0,3)}function e7(i,o){}function t7(i,o){}function n7(i,o){}function o7(i,o){}function r7(i,o){if(1&i&&(t.YNc(0,e7,0,0,"ng-template",9),t.YNc(1,t7,0,0,"ng-template",9),t.YNc(2,n7,0,0,"ng-template",9),t.YNc(3,o7,0,0,"ng-template",9)),2&i){const e=t.oxw(),n=t.MAs(3),v=t.MAs(5),M=t.MAs(1);t.Q6J("ngTemplateOutlet",n),t.xp6(1),t.Q6J("ngTemplateOutlet",e.nzExtra),t.xp6(1),t.Q6J("ngTemplateOutlet",v),t.xp6(1),t.Q6J("ngTemplateOutlet",M)}}function a7(i,o){}function s7(i,o){}function c7(i,o){}function l7(i,o){if(1&i&&(t.TgZ(0,"nz-list-item-extra"),t.YNc(1,c7,0,0,"ng-template",9),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",e.nzExtra)}}function h7(i,o){}function u7(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"div",10),t.YNc(2,a7,0,0,"ng-template",9),t.YNc(3,s7,0,0,"ng-template",9),t.qZA(),t.YNc(4,l7,2,1,"nz-list-item-extra",7),t.YNc(5,h7,0,0,"ng-template",9),t.BQk()),2&i){const e=t.oxw(),n=t.MAs(3),v=t.MAs(1),M=t.MAs(5);t.xp6(2),t.Q6J("ngTemplateOutlet",n),t.xp6(1),t.Q6J("ngTemplateOutlet",v),t.xp6(1),t.Q6J("ngIf",e.nzExtra),t.xp6(1),t.Q6J("ngTemplateOutlet",M)}}const d7=[[["nz-list-item-actions"],["","nz-list-item-actions",""]],[["nz-list-item-meta"],["","nz-list-item-meta",""]],"*",[["nz-list-item-extra"],["","nz-list-item-extra",""]]],f7=["nz-list-item-actions, [nz-list-item-actions]","nz-list-item-meta, [nz-list-item-meta]","*","nz-list-item-extra, [nz-list-item-extra]"];let Gr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-list-item-meta-title"]],exportAs:["nzListItemMetaTitle"],ngContentSelectors:on,decls:2,vars:0,consts:[[1,"ant-list-item-meta-title"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"h4",0),t.Hsn(1),t.qZA())},encapsulation:2,changeDetection:0}),i})(),yc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-list-item-meta-description"]],exportAs:["nzListItemMetaDescription"],ngContentSelectors:on,decls:2,vars:0,consts:[[1,"ant-list-item-meta-description"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},encapsulation:2,changeDetection:0}),i})(),p0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-list-item-meta-avatar"]],inputs:{nzSrc:"nzSrc"},exportAs:["nzListItemMetaAvatar"],ngContentSelectors:on,decls:3,vars:2,consts:[[1,"ant-list-item-meta-avatar"],[3,"nzSrc",4,"ngIf"],[4,"ngIf"],[3,"nzSrc"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.YNc(1,g5,1,1,"nz-avatar",1),t.YNc(2,v5,1,0,"ng-content",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.nzSrc),t.xp6(1),t.Q6J("ngIf",!n.nzSrc))},dependencies:[J.O5,o5],encapsulation:2,changeDetection:0}),i})(),g0=(()=>{class i{constructor(e){this.elementRef=e,this.avatarStr=""}set nzAvatar(e){e instanceof t.Rgc?(this.avatarStr="",this.avatarTpl=e):this.avatarStr=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-list-item-meta"],["","nz-list-item-meta",""]],contentQueries:function(e,n,v){if(1&e&&(t.Suo(v,yc,5),t.Suo(v,Gr,5)),2&e){let M;t.iGM(M=t.CRH())&&(n.descriptionComponent=M.first),t.iGM(M=t.CRH())&&(n.titleComponent=M.first)}},hostAttrs:[1,"ant-list-item-meta"],inputs:{nzAvatar:"nzAvatar",nzTitle:"nzTitle",nzDescription:"nzDescription"},exportAs:["nzListItemMeta"],ngContentSelectors:S5,decls:4,vars:3,consts:[[3,"nzSrc",4,"ngIf"],[4,"ngIf"],["class","ant-list-item-meta-content",4,"ngIf"],[3,"nzSrc"],[3,"ngTemplateOutlet"],[1,"ant-list-item-meta-content"],[4,"nzStringTemplateOutlet"]],template:function(e,n){1&e&&(t.F$t(M5),t.YNc(0,m5,1,1,"nz-list-item-meta-avatar",0),t.YNc(1,y5,2,1,"nz-list-item-meta-avatar",1),t.Hsn(2),t.YNc(3,x5,5,2,"div",2)),2&e&&(t.Q6J("ngIf",n.avatarStr),t.xp6(1),t.Q6J("ngIf",n.avatarTpl),t.xp6(2),t.Q6J("ngIf",n.nzTitle||n.nzDescription||n.descriptionComponent||n.titleComponent))},dependencies:[J.O5,J.tP,ai,Gr,yc,p0],encapsulation:2,changeDetection:0}),i})(),Wr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-list-item-extra"],["","nz-list-item-extra",""]],hostAttrs:[1,"ant-list-item-extra"],exportAs:["nzListItemExtra"],ngContentSelectors:on,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),_c=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-list-item-action"]],viewQuery:function(e,n){if(1&e&&t.Gf(t.Rgc,5),2&e){let v;t.iGM(v=t.CRH())&&(n.templateRef=v.first)}},exportAs:["nzListItemAction"],ngContentSelectors:on,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.YNc(0,w5,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),i})(),Cc=(()=>{class i{constructor(e,n,v){this.ngZone=e,this.nzActions=[],this.actions=[],this.inputActionChanges$=new q.x,this.contentChildrenChanges$=(0,o0.P)(()=>this.nzListItemActions?(0,Li.of)(null):this.ngZone.onStable.pipe((0,xi.q)(1),this.enterZone(),(0,vn.w)(()=>this.contentChildrenChanges$))),(0,No.T)(this.contentChildrenChanges$,this.inputActionChanges$).pipe(u(v)).subscribe(()=>{this.actions=this.nzActions.length?this.nzActions:this.nzListItemActions.map(M=>M.templateRef),n.detectChanges()})}ngOnChanges(){this.inputActionChanges$.next(null)}enterZone(){return e=>new T.y(n=>e.subscribe({next:v=>this.ngZone.run(()=>n.next(v))}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(Ai))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ul","nz-list-item-actions",""]],contentQueries:function(e,n,v){if(1&e&&t.Suo(v,_c,4),2&e){let M;t.iGM(M=t.CRH())&&(n.nzListItemActions=M)}},hostAttrs:[1,"ant-list-item-action"],inputs:{nzActions:"nzActions"},exportAs:["nzListItemActions"],features:[t._Bn([Ai]),t.TTD],attrs:T5,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["class","ant-list-item-action-split",4,"ngIf"],[1,"ant-list-item-action-split"]],template:function(e,n){1&e&&t.YNc(0,O5,3,2,"li",0),2&e&&t.Q6J("ngForOf",n.actions)},dependencies:[J.sg,J.O5,J.tP],encapsulation:2,changeDetection:0}),i})(),v0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-list-empty"]],hostAttrs:[1,"ant-list-empty-text"],inputs:{nzNoResult:"nzNoResult"},exportAs:["nzListHeader"],decls:1,vars:2,consts:[[3,"nzComponentName","specificContent"]],template:function(e,n){1&e&&t._UZ(0,"nz-embed-empty",0),2&e&&t.Q6J("nzComponentName","list")("specificContent",n.nzNoResult)},dependencies:[Q3],encapsulation:2,changeDetection:0}),i})(),m0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-list-header"]],hostAttrs:[1,"ant-list-header"],exportAs:["nzListHeader"],ngContentSelectors:on,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),zc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-list-footer"]],hostAttrs:[1,"ant-list-footer"],exportAs:["nzListFooter"],ngContentSelectors:on,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),bc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-list-pagination"]],hostAttrs:[1,"ant-list-pagination"],exportAs:["nzListPagination"],ngContentSelectors:on,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),y0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["nz-list-load-more"]],exportAs:["nzListLoadMoreDirective"]}),i})(),xc=(()=>{class i{constructor(e){this.directionality=e,this.nzBordered=!1,this.nzGrid="",this.nzItemLayout="horizontal",this.nzRenderItem=null,this.nzLoading=!1,this.nzLoadMore=null,this.nzSize="default",this.nzSplit=!0,this.hasSomethingAfterLastItem=!1,this.dir="ltr",this.itemLayoutNotifySource=new yn.X(this.nzItemLayout),this.destroy$=new q.x}get itemLayoutNotify$(){return this.itemLayoutNotifySource.asObservable()}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(u(this.destroy$)).subscribe(e=>{this.dir=e})}getSomethingAfterLastItem(){return!!(this.nzLoadMore||this.nzPagination||this.nzFooter||this.nzListFooterComponent||this.nzListPaginationComponent||this.nzListLoadMoreDirective)}ngOnChanges(e){e.nzItemLayout&&this.itemLayoutNotifySource.next(this.nzItemLayout)}ngOnDestroy(){this.itemLayoutNotifySource.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}ngAfterContentInit(){this.hasSomethingAfterLastItem=this.getSomethingAfterLastItem()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Jt,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-list"],["","nz-list",""]],contentQueries:function(e,n,v){if(1&e&&(t.Suo(v,zc,5),t.Suo(v,bc,5),t.Suo(v,y0,5)),2&e){let M;t.iGM(M=t.CRH())&&(n.nzListFooterComponent=M.first),t.iGM(M=t.CRH())&&(n.nzListPaginationComponent=M.first),t.iGM(M=t.CRH())&&(n.nzListLoadMoreDirective=M.first)}},hostAttrs:[1,"ant-list"],hostVars:16,hostBindings:function(e,n){2&e&&t.ekj("ant-list-rtl","rtl"===n.dir)("ant-list-vertical","vertical"===n.nzItemLayout)("ant-list-lg","large"===n.nzSize)("ant-list-sm","small"===n.nzSize)("ant-list-split",n.nzSplit)("ant-list-bordered",n.nzBordered)("ant-list-loading",n.nzLoading)("ant-list-something-after-last-item",n.hasSomethingAfterLastItem)},inputs:{nzDataSource:"nzDataSource",nzBordered:"nzBordered",nzGrid:"nzGrid",nzHeader:"nzHeader",nzFooter:"nzFooter",nzItemLayout:"nzItemLayout",nzRenderItem:"nzRenderItem",nzLoading:"nzLoading",nzLoadMore:"nzLoadMore",nzPagination:"nzPagination",nzSize:"nzSize",nzSplit:"nzSplit",nzNoResult:"nzNoResult"},exportAs:["nzList"],features:[t.TTD],ngContentSelectors:Z5,decls:15,vars:9,consts:[["itemsTpl",""],[4,"ngIf"],[3,"nzSpinning"],[3,"min-height",4,"ngIf"],["nz-row","",3,"nzGutter",4,"ngIf","ngIfElse"],[3,"nzNoResult",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-list-items"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"nzStringTemplateOutlet"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl",4,"ngFor","ngForOf"],["nz-col","",3,"nzSpan","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"nzNoResult"]],template:function(e,n){if(1&e&&(t.F$t(W5),t.YNc(0,k5,3,1,"ng-template",null,0,t.W1O),t.YNc(2,N5,2,1,"nz-list-header",1),t.Hsn(3),t.TgZ(4,"nz-spin",2),t.ynx(5),t.YNc(6,H5,1,2,"div",3),t.YNc(7,R5,2,2,"div",4),t.YNc(8,B5,1,1,"nz-list-empty",5),t.BQk(),t.qZA(),t.YNc(9,j5,2,1,"nz-list-footer",1),t.Hsn(10,1),t.YNc(11,Y5,0,0,"ng-template",6),t.Hsn(12,2),t.YNc(13,G5,2,1,"nz-list-pagination",1),t.Hsn(14,3)),2&e){const v=t.MAs(1);t.xp6(2),t.Q6J("ngIf",n.nzHeader),t.xp6(2),t.Q6J("nzSpinning",n.nzLoading),t.xp6(2),t.Q6J("ngIf",n.nzLoading&&n.nzDataSource&&0===n.nzDataSource.length),t.xp6(1),t.Q6J("ngIf",n.nzGrid&&n.nzDataSource)("ngIfElse",v),t.xp6(1),t.Q6J("ngIf",!n.nzLoading&&n.nzDataSource&&0===n.nzDataSource.length),t.xp6(1),t.Q6J("ngIf",n.nzFooter),t.xp6(2),t.Q6J("ngTemplateOutlet",n.nzLoadMore),t.xp6(2),t.Q6J("ngIf",n.nzPagination)}},dependencies:[J.sg,J.O5,J.tP,f5,jr,Bn,ai,m0,zc,bc,v0],encapsulation:2,changeDetection:0}),(0,ue.gn)([yt()],i.prototype,"nzBordered",void 0),(0,ue.gn)([yt()],i.prototype,"nzLoading",void 0),(0,ue.gn)([yt()],i.prototype,"nzSplit",void 0),i})(),_0=(()=>{class i{constructor(e,n){this.parentComp=e,this.cdr=n,this.nzActions=[],this.nzExtra=null,this.nzNoFlex=!1}get isVerticalAndExtra(){return!("vertical"!==this.itemLayout||!this.listItemExtraDirective&&!this.nzExtra)}ngAfterViewInit(){this.itemLayout$=this.parentComp.itemLayoutNotify$.subscribe(e=>{this.itemLayout=e,this.cdr.detectChanges()})}ngOnDestroy(){this.itemLayout$&&this.itemLayout$.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(xc),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-list-item"],["","nz-list-item",""]],contentQueries:function(e,n,v){if(1&e&&t.Suo(v,Wr,5),2&e){let M;t.iGM(M=t.CRH())&&(n.listItemExtraDirective=M.first)}},hostAttrs:[1,"ant-list-item"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("ant-list-item-no-flex",n.nzNoFlex)},inputs:{nzActions:"nzActions",nzContent:"nzContent",nzExtra:"nzExtra",nzNoFlex:"nzNoFlex"},exportAs:["nzListItem"],ngContentSelectors:f7,decls:9,vars:2,consts:[["actionsTpl",""],["contentTpl",""],["extraTpl",""],["simpleTpl",""],[4,"ngIf","ngIfElse"],["nz-list-item-actions","",3,"nzActions",4,"ngIf"],["nz-list-item-actions","",3,"nzActions"],[4,"ngIf"],[4,"nzStringTemplateOutlet"],[3,"ngTemplateOutlet"],[1,"ant-list-item-main"]],template:function(e,n){if(1&e&&(t.F$t(d7),t.YNc(0,Q5,2,1,"ng-template",null,0,t.W1O),t.YNc(2,K5,3,1,"ng-template",null,1,t.W1O),t.YNc(4,q5,1,0,"ng-template",null,2,t.W1O),t.YNc(6,r7,4,4,"ng-template",null,3,t.W1O),t.YNc(8,u7,6,4,"ng-container",4)),2&e){const v=t.MAs(7);t.xp6(8),t.Q6J("ngIf",n.isVerticalAndExtra)("ngIfElse",v)}},dependencies:[J.O5,J.tP,ai,Cc,Wr],encapsulation:2,changeDetection:0}),(0,ue.gn)([yt()],i.prototype,"nzNoFlex",void 0),i})(),g7=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,p5,cc,r5,en,J3]}),i})();function v7(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nz-list-item")(1,"nz-list-item-meta")(2,"nz-list-item-meta-title"),t._uU(3),t.qZA()(),t.TgZ(4,"ul",6)(5,"nz-list-item-action")(6,"a",7),t.NdJ("click",function(){const M=t.CHM(e).index,F=t.oxw();return t.KtG(F.createModal(M))}),t._uU(7,"Edit"),t._UZ(8,"span",8),t.qZA()(),t.TgZ(9,"nz-list-item-action")(10,"a",7),t.NdJ("click",function(){const M=t.CHM(e).index,F=t.oxw();return t.KtG(F.removeFile(M))}),t._uU(11,"Delete"),t._UZ(12,"span",9),t.qZA()()(),t.TgZ(13,"nz-list-item-extra"),t._UZ(14,"img",10),t.qZA()()}if(2&i){const e=o.$implicit;t.xp6(3),t.hij(" ",e.imageFile.name,""),t.xp6(11),t.Q6J("src",e.imageDataURL,t.LSH)}}let m7=(()=>{class i{constructor(e){this.modalService=e,this.imageFiles=[]}ngOnInit(){}onFileSelected(e){const n=e.target.files[0];if(n){var v=new FileReader;v.readAsDataURL(n),v.onload=M=>{this.imageFiles.push({imageFile:n,imageDataURL:v.result})}}}createModal(e){this.modalService.create({nzContent:$f,nzClassName:"image-editor",nzWidth:"1050px",nzCentered:!0,nzClosable:!1,nzFooter:null,nzBodyStyle:{"background-color":"#1e1e1e"},nzComponentParams:{imageFile:this.imageFiles[e].imageFile},nzOkText:"Save Changes",nzCancelText:"Close without saving"}).afterClose.subscribe(M=>{null!=M&&(this.imageFiles[e].imageDataURL=M)})}removeFile(e){this.imageFiles.splice(e,1)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-select-image"]],decls:7,vars:1,consts:[["nzItemLayout","vertical"],[4,"ngFor","ngForOf"],["nz-row","","nzJustify","end",1,"mt-4"],["nz-button","","nzType","primary","type","button","nzGhost","",3,"click"],["type","file","accept","image/*",1,"hidden",3,"change"],["fileUpload",""],["nz-list-item-actions",""],[1,"flex","items-center","text-[#a9a9a9]",3,"click"],["nz-icon","","nzType","edit","nzTheme","twotone",1,"ml-0.5"],["nz-icon","","nzType","delete",1,"ml-0.5","text-[#ce0000]"],["width","100","alt","logo",3,"src"]],template:function(e,n){if(1&e){const v=t.EpF();t.TgZ(0,"nz-list",0),t.YNc(1,v7,15,2,"nz-list-item",1),t.qZA(),t.TgZ(2,"div",2)(3,"button",3),t.NdJ("click",function(){t.CHM(v);const F=t.MAs(6);return t.KtG(F.click())}),t._uU(4," Add Image "),t.qZA(),t.TgZ(5,"input",4,5),t.NdJ("change",function(F){return n.onFileSelected(F)}),t.qZA()()}2&e&&(t.xp6(1),t.Q6J("ngForOf",n.imageFiles))},dependencies:[J.sg,Lo,Mi,ko,Bn,ri,xc,_0,g0,Gr,Cc,_c,Wr],styles:[".image-editor .ant-modal-footer{background:#1e1e1e;border-top:none}"]}),i})();function y7(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",12)(1,"button",13),t.NdJ("click",function(){t.CHM(e);const v=t.oxw();return t.KtG(v.decrementcurrentStep())}),t._UZ(2,"span",14),t._uU(3," Previous "),t.qZA()()}}function _7(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"app-question",27),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(9);return t.KtG(M.getSelectedChoice(v))}),t.qZA()}2&i&&t.Q6J("question","Is Wall#4 a Loading Bearing Wall?")("questionType","polar")("hasTextField",!0)("questionLabel","load_bearing_4")}function C7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-question",26),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(8);return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(2,_7,1,4,"app-question",28),t.BQk()}if(2&i){const e=t.oxw(8);let n;t.xp6(1),t.Q6J("question","Is there a Fourth Wall to Remove?")("questionType","polar")("questionLabel","remove_fourth_wall"),t.xp6(1),t.Q6J("ngIf",null==(n=e.getControl("remove_fourth_wall"))?null:n.value)}}function z7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-question",27),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(7);return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(2,C7,3,4,"ng-container",9),t.BQk()}if(2&i){const e=t.oxw(7);let n;t.xp6(1),t.Q6J("question","Is Wall#3 a Loading Bearing Wall?")("questionType","polar")("hasTextField",!0)("questionLabel","load_bearing_3"),t.xp6(1),t.Q6J("ngIf",""!=(null==(n=e.getControl("load_bearing_3"))?null:n.value))}}function b7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-question",26),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(6);return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(2,z7,3,5,"ng-container",9),t.BQk()}if(2&i){const e=t.oxw(6);let n;t.xp6(1),t.Q6J("question","Is there a Third Wall to Remove?")("questionType","polar")("questionLabel","remove_third_wall"),t.xp6(1),t.Q6J("ngIf",null==(n=e.getControl("remove_third_wall"))?null:n.value)}}function x7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-question",27),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(5);return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(2,b7,3,4,"ng-container",9),t.BQk()}if(2&i){const e=t.oxw(5);let n;t.xp6(1),t.Q6J("question","Is Wall#2 a Loading Bearing Wall?")("questionType","polar")("hasTextField",!0)("questionLabel","load_bearing_2"),t.xp6(1),t.Q6J("ngIf",""!=(null==(n=e.getControl("load_bearing_2"))?null:n.value))}}function M7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-question",26),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(4);return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(2,x7,3,5,"ng-container",9),t.BQk()}if(2&i){const e=t.oxw(4);let n;t.xp6(1),t.Q6J("question","Is there a Second Wall to Remove?")("questionType","polar")("questionLabel","remove_second_wall"),t.xp6(1),t.Q6J("ngIf",null==(n=e.getControl("remove_second_wall"))?null:n.value)}}function S7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-question",27),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(3);return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(2,M7,3,4,"ng-container",9),t.BQk()}if(2&i){const e=t.oxw(3);let n;t.xp6(1),t.Q6J("question","Is Wall #1 a Loading Bearing Wall?")("questionType","polar")("hasTextField",!0)("questionLabel","load_bearing_1"),t.xp6(1),t.Q6J("ngIf",""!=(null==(n=e.getControl("load_bearing_1"))?null:n.value))}}function w7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-question",26),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(2);return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(2,S7,3,5,"ng-container",9),t.BQk()}if(2&i){const e=t.oxw(2);let n;t.xp6(1),t.Q6J("question","Do we need to Remove Walls?")("questionType","polar")("questionLabel","remove_walls"),t.xp6(1),t.Q6J("ngIf",null==(n=e.getControl("remove_walls"))?null:n.value)}}function T7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"nz-form-item")(2,"nz-form-label",15)(3,"span",16),t._uU(4," Sales Person"),t.TgZ(5,"span",17),t._uU(6,"*"),t.qZA()()(),t.TgZ(7,"nz-select",18),t._UZ(8,"nz-option",19)(9,"nz-option",20),t.qZA()(),t.TgZ(10,"nz-form-label")(11,"span",21),t._uU(12," Customer Information"),t.TgZ(13,"span",17),t._uU(14,"*"),t.qZA()()(),t.TgZ(15,"nz-form-item")(16,"nz-form-control")(17,"nz-input-group"),t._UZ(18,"input",22),t.qZA()()(),t.TgZ(19,"nz-form-item")(20,"nz-form-control")(21,"nz-input-group"),t._UZ(22,"input",23),t.qZA()()(),t.TgZ(23,"nz-form-item")(24,"nz-form-control")(25,"nz-input-group"),t._UZ(26,"input",24),t.qZA()()(),t.TgZ(27,"nz-form-item")(28,"nz-form-control")(29,"nz-input-group"),t._UZ(30,"input",25),t.qZA()()(),t.TgZ(31,"app-question",26),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(32,w7,3,4,"ng-container",9),t._UZ(33,"app-select-image"),t.BQk()}if(2&i){const e=t.oxw();let n;t.xp6(31),t.Q6J("question","Does the Customer want to change the Floorplan?")("questionType","polar")("questionLabel","change_floor_plan"),t.xp6(1),t.Q6J("ngIf",null==(n=e.getControl("change_floor_plan"))?null:n.value)}}const C0=function(){return["Gas","Electric"]};function I7(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(2);return t.KtG(M.getSelectedChoice(v))}),t.qZA()}2&i&&t.Q6J("question","Is it Gas or Electric?")("questionType","non-polar")("options",t.DdM(3,C0))}const E7=function(){return["Cooktop","Range"]},rn=function(){return["Remove & Replace","Relocate","Add a new one","Nothing"]},O7=function(){return["Single Oven","Double Oven","None"]};function A7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"h2",29),t._uU(2,"Appliances"),t.qZA(),t.TgZ(3,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.TgZ(4,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.TgZ(5,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.TgZ(6,"app-question",31),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(7,I7,1,4,"app-question",32),t.TgZ(8,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.TgZ(9,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.TgZ(10,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.TgZ(11,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();let n;t.xp6(3),t.Q6J("question","Does the customer has a cooktop or a range?")("questionType","non-polar")("options",t.DdM(26,E7)),t.xp6(1),t.Q6J("question","What do we need to do it?")("questionType","non-polar")("options",t.DdM(27,rn)),t.xp6(1),t.Q6J("question","Is it Gas or Electric?")("questionType","non-polar")("options",t.DdM(28,C0)),t.xp6(1),t.Q6J("question","What Type of Detached oven do they Have?")("questionType","non-polar")("options",t.DdM(29,O7))("questionLabel","oven_type"),t.xp6(1),t.Q6J("ngIf","None"!=(null==(n=e.getControl("oven_type"))?null:n.value)),t.xp6(1),t.Q6J("question","What do we need to do with the Oven(s)?")("questionType","non-polar")("options",t.DdM(30,rn)),t.xp6(1),t.Q6J("question","What do we need to do with the Microwave?")("questionType","non-polar")("options",t.DdM(31,rn)),t.xp6(1),t.Q6J("question","What do we need to do with the Dishwasher?")("questionType","non-polar")("options",t.DdM(32,rn)),t.xp6(1),t.Q6J("question","What do we need to do with the Garbage Disposal?")("questionType","non-polar")("options",t.DdM(33,rn))}}function D7(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"app-question",34),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(2);return t.KtG(M.getSelectedChoice(v))}),t.qZA()}2&i&&t.Q6J("question","How many plumbing Lines?")("questionType","text-only")}function k7(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"app-question",34),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(2);return t.KtG(M.getSelectedChoice(v))}),t.qZA()}2&i&&t.Q6J("question","How many Vents?")("questionType","text-only")}function L7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"h2",29),t._uU(2,"Plumbing"),t.qZA(),t.TgZ(3,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.TgZ(4,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.TgZ(5,"app-question",26),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(6,D7,1,2,"app-question",33),t.TgZ(7,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.TgZ(8,"app-question",26),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(9,k7,1,2,"app-question",33),t.BQk()}if(2&i){const e=t.oxw();let n,v;t.xp6(3),t.Q6J("question","What do we need to do with the Sink?")("questionType","non-polar")("options",t.DdM(17,rn)),t.xp6(1),t.Q6J("question","What do we need to do with the Potfiller?")("questionType","non-polar")("options",t.DdM(18,rn)),t.xp6(1),t.Q6J("question","Do we need to add any other plumbing Lines?")("questionType","polar")("questionLabel","need_plumbing_lines"),t.xp6(1),t.Q6J("ngIf",null==(n=e.getControl("need_plumbing_lines"))?null:n.value),t.xp6(1),t.Q6J("question","What do we need to do with the Hood?")("questionType","non-polar")("options",t.DdM(19,rn)),t.xp6(1),t.Q6J("question","Do we need to add any other Vents?")("questionType","polar")("questionLabel","need_other_vents"),t.xp6(1),t.Q6J("ngIf",null==(v=e.getControl("need_other_vents"))?null:v.value)}}const Mc=function(){return["New","Refacing"]},Sc=function(){return["1","2"]};function N7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-question",34),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(2);return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.TgZ(2,"nz-form-item",35)(3,"nz-form-label")(4,"span",36),t._uU(5," Island Cabinets (LnFt)"),t.TgZ(6,"span",17),t._uU(7,"*"),t.qZA()()(),t.TgZ(8,"nz-form-control"),t._UZ(9,"input",37),t.qZA()(),t.TgZ(10,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(2);return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.TgZ(11,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(2);return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.BQk()}2&i&&(t.xp6(1),t.Q6J("question","Does the Island have a sink?")("questionType","polar"),t.xp6(9),t.Q6J("question","Island Cabinets New or Refacing?")("questionType","non-polar")("options",t.DdM(8,Mc)),t.xp6(1),t.Q6J("question","How many sides for The Island Cabinets?")("questionType","non-polar")("options",t.DdM(9,Sc)))}function H7(i,o){1&i&&(t.TgZ(0,"nz-form-item",39)(1,"nz-form-label")(2,"span",36),t._uU(3," Material"),t.TgZ(4,"span",17),t._uU(5,"*"),t.qZA()()(),t.TgZ(6,"nz-form-control"),t._UZ(7,"input",40),t.qZA()())}function P7(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(2);return t.KtG(M.getSelectedChoice(v))}),t.qZA()}2&i&&t.Q6J("question","Does the Cabinets Waterfall will be in one or two sides?")("questionType","non-polar")("options",t.DdM(3,Sc))}function F7(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(3);return t.KtG(M.getSelectedChoice(v))}),t.qZA()}2&i&&t.Q6J("question","Does the Island Waterfall will be in one or two sides?")("questionType","non-polar")("options",t.DdM(3,Sc))}function R7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-question",26),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(2);return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(2,F7,1,4,"app-question",32),t.BQk()}if(2&i){const e=t.oxw(2);let n;t.xp6(1),t.Q6J("question","Does the Customer wants Waterfalls in the Kitchen Island?")("questionType","polar")("questionLabel","need_island_waterfalls"),t.xp6(1),t.Q6J("ngIf",null==(n=e.getControl("need_island_waterfalls"))?null:n.value)}}const B7=function(){return["Yes, he has one","Yes, We will create a new one","No"]},V7=function(){return["White Grannite","Various Grannite","Black Grannite","Exotic Grannite","Quartzite/Taj Mahal","Exotic Quartzite","Calacatta Quartz","Pure White Quartz","Premium Selection","Other"]};function j7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"h2",29),t._uU(2,"Cabinets"),t.qZA(),t.TgZ(3,"nz-form-item",35)(4,"nz-form-label")(5,"span",36),t._uU(6," Wall Cabinets (LnFt)"),t.TgZ(7,"span",17),t._uU(8,"*"),t.qZA()()(),t.TgZ(9,"nz-form-control"),t._UZ(10,"input",37),t.qZA()(),t.TgZ(11,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.TgZ(12,"nz-form-item",35)(13,"nz-form-label")(14,"span",36),t._uU(15," Base Cabinets (LnFt)"),t.TgZ(16,"span",17),t._uU(17,"*"),t.qZA()()(),t.TgZ(18,"nz-form-control"),t._UZ(19,"input",37),t.qZA()(),t.TgZ(20,"app-question",30),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.TgZ(21,"h2",29),t._uU(22,"Island Cabinets"),t.qZA(),t.TgZ(23,"app-question",31),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(24,N7,12,10,"ng-container",9),t.TgZ(25,"h2",29),t._uU(26,"Counter Tops"),t.qZA(),t.TgZ(27,"app-question",31),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(28,H7,8,0,"nz-form-item",38),t.TgZ(29,"app-question",26),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(30,P7,1,4,"app-question",32),t.YNc(31,R7,3,4,"ng-container",9),t.BQk()}if(2&i){const e=t.oxw();let n,v,M,F;t.xp6(11),t.Q6J("question","Wall Cabinets New or Refacing?")("questionType","non-polar")("options",t.DdM(21,Mc)),t.xp6(9),t.Q6J("question","Base Cabinets New or Refacing?")("questionType","non-polar")("options",t.DdM(22,Mc)),t.xp6(3),t.Q6J("question","Does the Customer has or want a kitchen Island?")("questionType","non-polar")("options",t.DdM(23,B7))("questionLabel","has_island_cabinet"),t.xp6(1),t.Q6J("ngIf","No"!=(null==(n=e.getControl("has_island_cabinet"))?null:n.value)),t.xp6(3),t.Q6J("question","What type of stone does the customer wants?")("questionType","non-polar")("options",t.DdM(24,V7))("questionLabel","material"),t.xp6(1),t.Q6J("ngIf","Other"==(null==(v=e.getControl("material"))?null:v.value)),t.xp6(1),t.Q6J("question","Does the Customer wants Waterfalls in the cabinets?")("questionType","polar")("questionLabel","need_cabinet_waterfalls"),t.xp6(1),t.Q6J("ngIf",null==(M=e.getControl("need_cabinet_waterfalls"))?null:M.value),t.xp6(1),t.Q6J("ngIf","No"!=(null==(F=e.getControl("has_island_cabinet"))?null:F.value))}}function Y7(i,o){1&i&&(t.TgZ(0,"nz-form-item",39)(1,"nz-form-label")(2,"span",36),t._uU(3," Type Of Floor"),t.TgZ(4,"span",17),t._uU(5,"*"),t.qZA()()(),t.TgZ(6,"nz-form-control"),t._UZ(7,"input",37),t.qZA()())}function U7(i,o){1&i&&(t.TgZ(0,"nz-form-item",39)(1,"nz-form-label")(2,"span",36),t._uU(3," Type Of Floor"),t.TgZ(4,"span",17),t._uU(5,"*"),t.qZA()()(),t.TgZ(6,"nz-form-control"),t._UZ(7,"input",37),t.qZA()())}const z0=function(){return["Vynil","Laminate","Engineering Hardwood","Solid Hardwood","Tile","Porcelain","Other"]};function G7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-question",34),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(2);return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.TgZ(2,"app-question",31),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(2);return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(3,Y7,8,0,"nz-form-item",38),t.TgZ(4,"app-question",31),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw(2);return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(5,U7,8,0,"nz-form-item",38),t.BQk()}if(2&i){const e=t.oxw(2);let n,v;t.xp6(1),t.Q6J("question","What is the area?")("questionType","text-only"),t.xp6(1),t.Q6J("question","What Type of Flooring will be removed?")("questionType","non-polar")("options",t.DdM(12,z0))("questionLabel","remove_flooring_type"),t.xp6(1),t.Q6J("ngIf","Other"==(null==(n=e.getControl("remove_flooring_type"))?null:n.value)),t.xp6(1),t.Q6J("question","What Type of Flooring will be installed?")("questionType","non-polar")("options",t.DdM(13,z0))("questionLabel","install_flooring_type"),t.xp6(1),t.Q6J("ngIf","Other"==(null==(v=e.getControl("install_flooring_type"))?null:v.value))}}function W7(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"h2",29),t._uU(2,"Flooring"),t.qZA(),t.TgZ(3,"p",41),t._uU(4," If the customer wants to change the floor plan Flooring is needed "),t.qZA(),t.TgZ(5,"app-question",26),t.NdJ("selectedChoice",function(v){t.CHM(e);const M=t.oxw();return t.KtG(M.getSelectedChoice(v))}),t.qZA(),t.YNc(6,G7,6,14,"ng-container",9),t.BQk()}if(2&i){const e=t.oxw();let n;t.xp6(5),t.Q6J("question","Does the Customer wants to change the floor?")("questionType","polar")("questionLabel","change_floor"),t.xp6(1),t.Q6J("ngIf",null==(n=e.getControl("change_floor"))?null:n.value)}}function Z7(i,o){1&i&&t._UZ(0,"span",42)}const X7=function(){return[8,0]},Q7=[{path:"",component:(()=>{class i{constructor(e){this.fb=e,this.prevButton=!0,this.nextButton=!0,this.questionDefaultValue="1",this.questions=[],this.isRenderNext=!1,this.currentStep=1,this.fileList=[],this.getSelectedChoice=n=>{console.log(typeof n),console.log(n),this.validateForm.get(n.label)?.setValue(n.value)},this.getControl=n=>this.validateForm.get(n),this.incrementcurrentStep=()=>{this.currentStep<5&&(this.currentStep+=1)},this.decrementcurrentStep=()=>{this.currentStep>1&&(this.currentStep-=1)}}ngOnInit(){this.validateForm=this.fb.group({fullName:[null,[gt.kI.required]],phoneNumber:[null,[gt.kI.required]],email:[null,[gt.kI.required]],address:[null,[gt.kI.required]],change_floor_plan:[!1,[gt.kI.required]],remove_walls:[!1,[gt.kI.required]],load_bearing_1:["",[gt.kI.required]],remove_second_wall:["",[gt.kI.required]],load_bearing_2:["",[gt.kI.required]],remove_third_wall:["",[gt.kI.required]],load_bearing_3:["",[gt.kI.required]],remove_fourth_wall:["",[gt.kI.required]],load_bearing_4:["",[gt.kI.required]],oven_type:["None",[gt.kI.required]],need_plumbing_lines:[!1,[gt.kI.required]],need_other_vents:[!1,[gt.kI.required]],material:["",[gt.kI.required]],need_cabinet_waterfalls:[!1,[gt.kI.required]],need_island_waterfalls:[!1,[gt.kI.required]],change_floor:[!1,[gt.kI.required]],remove_flooring_type:["",[gt.kI.required]],install_flooring_type:["",[gt.kI.required]],has_island_cabinet:["No",[gt.kI.required]]})}submitForm(){console.log("submit",this.validateForm.value)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(gt.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-quote-form"]],decls:18,vars:12,consts:[["src","assets/banner.jpg","alt","",1,"h-[20vh]","w-[100%]","object-cover","object-center"],["nz-row","","nzJustify","center"],["src","assets/logo.png","alt","",1,"w-[250px]"],["nz-typography","",1,"text-center","mb-4","mt-0"],["nz-row","","nzJustify","center",1,"pb-4"],["nz-col","","nzXs","22","nzSm","18","nzMd","10","nzXl","8","nzXXl","6"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],["nz-row","","nzJustify","start",1,"my-2",3,"nzGutter"],["nz-col","",4,"ngIf"],[4,"ngIf"],["nz-button","","nzType","primary","nzBlock","",1,"w-[120px]",3,"disabled","click"],["nz-icon","","nzType","right","class","align-baseline",4,"ngIf"],["nz-col",""],["nz-button","","nzType","primary","nzGhost","",1,"w-[120px]",3,"click"],["nz-icon","","nzType","left",1,"align-baseline"],["for",""],["nzTooltipTitle","Required","nzTooltipPlacement","right","nz-tooltip","",1,"text-lg","font-medium"],[1,"text-red-600"],["nzPlaceHolder","Select",1,"w-full"],["nzValue","jack","nzLabel","Jay"],["nzValue","lucy","nzLabel","Morgon"],["nzTooltipTitle","Required","nzTooltipPlacement","right","nz-tooltip","",1,"text-xl","font-medium"],["type","text","nz-input","","formControlName","fullName","placeholder","Full Name","nzSize","large"],["type","number","nz-input","","formControlName","phoneNumber","placeholder","Phone Number","nzSize","large"],["type","email","nz-input","","formControlName","email","placeholder","Email","nzSize","large"],["type","textarea","nz-input","","formControlName","address","placeholder","Address","nzSize","large"],[3,"question","questionType","questionLabel","selectedChoice"],[3,"question","questionType","hasTextField","questionLabel","selectedChoice"],[3,"question","questionType","hasTextField","questionLabel","selectedChoice",4,"ngIf"],["nz-typography",""],[3,"question","questionType","options","selectedChoice"],[3,"question","questionType","options","questionLabel","selectedChoice"],[3,"question","questionType","options","selectedChoice",4,"ngIf"],[3,"question","questionType","selectedChoice",4,"ngIf"],[3,"question","questionType","selectedChoice"],[1,"max-w-[154px]"],["nzTooltipTitle","Required","nzTooltipPlacement","right","nz-tooltip","",1,"font-bold"],["type","text","nz-input","","placeholder","Enter"],["class","max-w-[230px]",4,"ngIf"],[1,"max-w-[230px]"],["type","text","nz-input","","placeholder","Please write the specific material"],["nz-typography","",1,"text-base"],["nz-icon","","nzType","right",1,"align-baseline"]],template:function(e,n){1&e&&(t._UZ(0,"img",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"h1",3),t._uU(4,"Contempo Construction Quote"),t.qZA(),t.TgZ(5,"div",4)(6,"div",5)(7,"form",6),t.NdJ("ngSubmit",function(){return n.submitForm()}),t.TgZ(8,"div",7),t.YNc(9,y7,4,0,"div",8),t.qZA(),t.YNc(10,T7,34,4,"ng-container",9),t.YNc(11,A7,12,34,"ng-container",9),t.YNc(12,L7,10,20,"ng-container",9),t.YNc(13,j7,32,25,"ng-container",9),t.YNc(14,W7,7,4,"ng-container",9),t.TgZ(15,"button",10),t.NdJ("click",function(){return n.incrementcurrentStep()}),t._uU(16),t.YNc(17,Z7,1,0,"span",11),t.qZA()()()()),2&e&&(t.xp6(7),t.Q6J("formGroup",n.validateForm),t.xp6(1),t.Q6J("nzGutter",t.DdM(11,X7)),t.xp6(1),t.Q6J("ngIf",1!=n.currentStep),t.xp6(1),t.Q6J("ngIf",1==n.currentStep),t.xp6(1),t.Q6J("ngIf",2==n.currentStep),t.xp6(1),t.Q6J("ngIf",3==n.currentStep),t.xp6(1),t.Q6J("ngIf",4==n.currentStep),t.xp6(1),t.Q6J("ngIf",5==n.currentStep),t.xp6(1),t.Q6J("disabled",!n.nextButton),t.xp6(1),t.hij(" ",5==n.currentStep?"Submit":"Next"," "),t.xp6(1),t.Q6J("ngIf",5!=n.currentStep))},dependencies:[J.O5,gt._Y,gt.Fj,gt.wV,gt.JJ,gt.JL,gt.sg,gt.u,Lo,Mi,ko,fu,jr,Bn,dc,hc,X3,W3,Ir,u3,K3,Ud,Ro,ri,uf,m7]}),i})()}];let J7=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[j2.Bz.forChild(Q7),j2.Bz]}),i})();new t.OlP("nz-carousel-custom-strategies");let ep=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,zi]}),i})(),ip=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,zi]}),i})(),Cp=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,Hi,en]}),i})(),yg=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[qt,J.ez,gt.u5,zi,Br,Cp,Pi.YI,Hi,V2]}),i})(),_g=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[u0],imports:[J.ez,gt.u5,gt.UX,J7,V2,ep,pu,Mu,f3,Gd,Br,Jd,Hi,ip,ef,yg,g7]}),i})()},5094:Uo=>{window,Uo.exports=function(Ge){var Qe={};function J(ue){if(Qe[ue])return Qe[ue].exports;var t=Qe[ue]={i:ue,l:!1,exports:{}};return Ge[ue].call(t.exports,t,t.exports,J),t.l=!0,t.exports}return J.m=Ge,J.c=Qe,J.d=function(ue,t,q){J.o(ue,t)||Object.defineProperty(ue,t,{enumerable:!0,get:q})},J.r=function(ue){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ue,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ue,"__esModule",{value:!0})},J.t=function(ue,t){if(1&t&&(ue=J(ue)),8&t||4&t&&"object"==typeof ue&&ue&&ue.__esModule)return ue;var q=Object.create(null);if(J.r(q),Object.defineProperty(q,"default",{enumerable:!0,value:ue}),2&t&&"string"!=typeof ue)for(var Ee in ue)J.d(q,Ee,function(T){return ue[T]}.bind(null,Ee));return q},J.n=function(ue){var t=ue&&ue.__esModule?function(){return ue.default}:function(){return ue};return J.d(t,"a",t),t},J.o=function(ue,t){return Object.prototype.hasOwnProperty.call(ue,t)},J.p="dist",J(J.s=33)}([function(Ge,Qe,J){"use strict";Ge.exports=function ue(t,q){var T,R,z,y,Ee=Object.prototype.hasOwnProperty;for(z=1,y=arguments.length;z<y;z+=1)for(R in T=arguments[z])Ee.call(T,R)&&(t[R]=T[R]);return t}},function(Ge,Qe,J){"use strict";Ge.exports=function ue(t){return t instanceof Array}},function(Ge,Qe,J){"use strict";var ue=J(1),t=J(6),q=J(7);Ge.exports=function Ee(T,R,z){ue(T)?t(T,R,z):q(T,R,z)}},function(Ge,Qe,J){"use strict";Ge.exports=function ue(t){return void 0===t}},function(Ge,Qe,J){"use strict";var ue=J(22),t=J(2),q=J(6),Ee=J(7),T=J(37),R=0,z={getLength:function(y){var P=0;return Ee(y,function(){P+=1}),P},map:function(y,P,N){var B=[];return t(y,function(){B.push(P.apply(N||null,arguments))}),B},filter:function(y,P,N){var B=[];return q(y,function(j){P.apply(N||null,arguments)&&B.push(j)}),B},generateId:function(){return R+=1},isOldBrowser:ue.msie&&ue.version<9,sendHostName:function(){T("color-picker","UA-129987462-1")}};Ge.exports=z},function(Ge,Qe,J){"use strict";var ue=J(1);Ge.exports=function t(q,Ee,T){var R,z;if(T=T||0,!ue(Ee))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(Ee,q,T);for(z=Ee.length,R=T;T>=0&&R<z;R+=1)if(Ee[R]===q)return R;return-1}},function(Ge,Qe,J){"use strict";Ge.exports=function ue(t,q,Ee){var T=0,R=t.length;for(Ee=Ee||null;T<R&&!1!==q.call(Ee,t[T],T,t);T+=1);}},function(Ge,Qe,J){"use strict";Ge.exports=function ue(t,q,Ee){var T;for(T in Ee=Ee||null,t)if(t.hasOwnProperty(T)&&!1===q.call(Ee,t[T],T,t))break}},function(Ge,Qe,J){"use strict";var ue=J(39),t=J(13),q=J(41),Ee=J(3),T=J(9),R=J(19),z=J(4);function y(P,N){var B=z.generateId();P=P||{},Ee(N)&&(N=T.appendHTMLElement("div")),ue(N,"tui-view-"+B),this.id=B,this.container=N,this.childs=new R(function(j){return j.id}),this.parent=null}y.prototype.addChild=function(P,N){N&&N.call(P,this),P.parent=this,this.childs.add(P)},y.prototype.removeChild=function(P,N){var B=q(P)?this.childs.items[P]:P;N&&N.call(B,this),this.childs.remove(B.id)},y.prototype.render=function(){this.childs.each(function(P){P.render()})},y.prototype.recursive=function(P,N){t(P)&&(N||P(this),this.childs.each(function(B){B.recursive(P)}))},y.prototype.resize=function(){for(var P=Array.prototype.slice.call(arguments),N=this.parent;N;)t(N._onResize)&&N._onResize.apply(N,P),N=N.parent},y.prototype._beforeDestroy=function(){},y.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},y.prototype.destroy=function(P){this.childs&&(this.childs.each(function(N){N.destroy(!0),N._destroy()}),this.childs.clear()),!P&&this._destroy()},y.prototype.getViewBound=function(){var P=this.container.getBoundingClientRect();return{x:P.left,y:P.top,width:P.right-P.left,height:P.bottom-P.top}},Ge.exports=y},function(Ge,Qe,J){"use strict";Ge.exports={appendHTMLElement:function(t,q,Ee){var T=document.createElement(t);return T.className=Ee||"",q?q.appendChild(T):document.body.appendChild(T),T}}},function(Ge,Qe,J){"use strict";var ue=J(0),t=J(20),q=J(11),Ee=J(21),T=J(1),R=J(13),z=J(2),y=/\s+/g;function P(){this.events=null,this.contexts=null}P.mixin=function(N){ue(N.prototype,P.prototype)},P.prototype._getHandlerItem=function(N,B){var j={handler:N};return B&&(j.context=B),j},P.prototype._safeEvent=function(N){var j,B=this.events;return B||(B=this.events={}),N&&((j=B[N])||(B[N]=j=[]),B=j),B},P.prototype._safeContext=function(){var N=this.contexts;return N||(N=this.contexts=[]),N},P.prototype._indexOfContext=function(N){for(var B=this._safeContext(),j=0;B[j];){if(N===B[j][0])return j;j+=1}return-1},P.prototype._memorizeContext=function(N){var B,j;t(N)&&(B=this._safeContext(),(j=this._indexOfContext(N))>-1?B[j][1]+=1:B.push([N,1]))},P.prototype._forgetContext=function(N){var B,j;t(N)&&(B=this._safeContext(),(j=this._indexOfContext(N))>-1&&(B[j][1]-=1,B[j][1]<=0&&B.splice(j,1)))},P.prototype._bindEvent=function(N,B,j){var U=this._safeEvent(N);this._memorizeContext(j),U.push(this._getHandlerItem(B,j))},P.prototype.on=function(N,B,j){var U=this;q(N)?(N=N.split(y),z(N,function(b){U._bindEvent(b,B,j)})):Ee(N)&&(j=B,z(N,function(b,h){U.on(h,b,j)}))},P.prototype.once=function(N,B,j){var U=this;if(Ee(N))return j=B,void z(N,function(h,m){U.once(m,h,j)});this.on(N,function b(){B.apply(j,arguments),U.off(N,b,j)},j)},P.prototype._spliceMatches=function(N,B){var U,j=0;if(T(N))for(U=N.length;j<U;j+=1)!0===B(N[j])&&(N.splice(j,1),U-=1,j-=1)},P.prototype._matchHandler=function(N){var B=this;return function(j){var U=N===j.handler;return U&&B._forgetContext(j.context),U}},P.prototype._matchContext=function(N){var B=this;return function(j){var U=N===j.context;return U&&B._forgetContext(j.context),U}},P.prototype._matchHandlerAndContext=function(N,B){var j=this;return function(U){var m=N===U.handler&&B===U.context;return m&&j._forgetContext(U.context),m}},P.prototype._offByEventName=function(N,B){var j=this,U=R(B),b=j._matchHandler(B);N=N.split(y),z(N,function(h){var m=j._safeEvent(h);U?j._spliceMatches(m,b):(z(m,function(g){j._forgetContext(g.context)}),j.events[h]=[])})},P.prototype._offByHandler=function(N){var B=this,j=this._matchHandler(N);z(this._safeEvent(),function(U){B._spliceMatches(U,j)})},P.prototype._offByObject=function(N,B){var U,j=this;this._indexOfContext(N)<0?z(N,function(b,h){j.off(h,b)}):q(B)?(U=this._matchContext(N),j._spliceMatches(this._safeEvent(B),U)):R(B)?(U=this._matchHandlerAndContext(B,N),z(this._safeEvent(),function(b){j._spliceMatches(b,U)})):(U=this._matchContext(N),z(this._safeEvent(),function(b){j._spliceMatches(b,U)}))},P.prototype.off=function(N,B){q(N)?this._offByEventName(N,B):arguments.length?R(N)?this._offByHandler(N):Ee(N)&&this._offByObject(N,B):(this.events={},this.contexts=[])},P.prototype.fire=function(N){this.invoke.apply(this,arguments)},P.prototype.invoke=function(N){var B,j,U,b;if(!this.hasListener(N))return!0;for(B=this._safeEvent(N),j=Array.prototype.slice.call(arguments,1),U=0;B[U];){if(!1===(b=B[U]).handler.apply(b.context,j))return!1;U+=1}return!0},P.prototype.hasListener=function(N){return this.getListenerLength(N)>0},P.prototype.getListenerLength=function(N){return this._safeEvent(N).length},Ge.exports=P},function(Ge,Qe,J){"use strict";Ge.exports=function ue(t){return"string"==typeof t||t instanceof String}},function(Ge,Qe,J){"use strict";var ue=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,t={leadingZero:function(q,Ee){var T="",R=0;if((q+"").length>Ee)return q+"";for(;R<Ee-1;R+=1)T+="0";return(T+q).slice(-1*Ee)},isValidRGB:function(q){return ue.test(q)},
// @license RGB <-> HSV conversion utilities based off of http://www.cs.rit.edu/~ncs/color/t_convert.html
hexToRGB:function(q){return!!t.isValidRGB(q)&&(q=q.substring(1),[parseInt(q.substr(0,2),16),parseInt(q.substr(2,2),16),parseInt(q.substr(4,2),16)])},rgbToHEX:function(q,Ee,T){var R="#"+t.leadingZero(q.toString(16),2)+t.leadingZero(Ee.toString(16),2)+t.leadingZero(T.toString(16),2);return!!t.isValidRGB(R)&&R},rgbToHSV:function(q,Ee,T){var R,z,y,P,N,B;if(q/=255,Ee/=255,T/=255,N=R=Math.max(q,Ee,T),B=R-(z=Math.min(q,Ee,T)),P=0===R?0:B/R,R===z)y=0;else{switch(R){case q:y=(Ee-T)/B+(Ee<T?6:0);break;case Ee:y=(T-q)/B+2;break;case T:y=(q-Ee)/B+4}y/=6}return[Math.round(360*y),Math.round(100*P),Math.round(100*N)]},hsvToRGB:function(q,Ee,T){var R,z,y,P,N,B,j,U;if(q=Math.max(0,Math.min(360,q)),Ee=Math.max(0,Math.min(100,Ee)),T=Math.max(0,Math.min(100,T)),T/=100,0==(Ee/=100))return R=z=y=T,[Math.round(255*R),Math.round(255*z),Math.round(255*y)];switch(B=T*(1-Ee),j=T*(1-Ee*(N=(q/=60)-(P=Math.floor(q)))),U=T*(1-Ee*(1-N)),P){case 0:R=T,z=U,y=B;break;case 1:R=j,z=T,y=B;break;case 2:R=B,z=T,y=U;break;case 3:R=B,z=j,y=T;break;case 4:R=U,z=B,y=T;break;default:R=T,z=B,y=j}return[Math.round(255*R),Math.round(255*z),Math.round(255*y)]}};Ge.exports=t},function(Ge,Qe,J){"use strict";Ge.exports=function ue(t){return t instanceof Function}},function(Ge,Qe,J){"use strict";var ue=J(11),t=J(2),q=J(26);function T(z,y,P,N){function B(j){P.call(N||z,j||window.event)}"addEventListener"in z?z.addEventListener(y,B):"attachEvent"in z&&z.attachEvent("on"+y,B),function R(z,y,P,N){var B=q(z,y),j=!1;t(B,function(U){return U.handler!==P||(j=!0,!1)}),j||B.push({handler:P,wrappedHandler:N})}(z,y,P,B)}Ge.exports=function Ee(z,y,P,N){ue(y)?t(y.split(/\s+/g),function(B){T(z,B,P,N)}):t(y,function(B,j){T(z,j,B,P)})}},function(Ge,Qe,J){"use strict";Ge.exports=function ue(t){t.preventDefault?t.preventDefault():t.returnValue=!1}},function(Ge,Qe,J){"use strict";Ge.exports=function ue(t){return t.replace(/([A-Z])/g,function(q){return"-"+q.toLowerCase()})}},function(Ge,Qe,J){"use strict";var ue=J(11),t=J(2),q=J(26);function T(z,y,P){var B,N=q(z,y);P?(t(N,function(j,U){return P!==j.handler||(R(z,y,j.wrappedHandler),B=U,!1)}),N.splice(B,1)):(t(N,function(j){R(z,y,j.wrappedHandler)}),N.splice(0,N.length))}function R(z,y,P){"removeEventListener"in z?z.removeEventListener(y,P):"detachEvent"in z&&z.detachEvent("on"+y,P)}Ge.exports=function Ee(z,y,P){ue(y)?t(y.split(/\s+/g),function(N){T(z,N,P)}):t(y,function(N,B){T(z,B,N)})}},function(Ge,Qe,J){"use strict";var ue=J(50);Ge.exports=function t(q,Ee){var T=ue(Ee.prototype);T.constructor=q,q.prototype=T}},function(Ge,Qe,J){"use strict";var ue=J(6),t=J(7),q=J(0),Ee=J(1),T=J(20),R=J(13),z=J(21),y=J(4),P=Array.prototype.slice;function N(B){this.items={},this.length=0,R(B)&&(this.getItemID=B)}N.and=function(B){var j;return B=P.call(arguments),j=B.length,function(U){for(var b=0;b<j;b+=1)if(!B[b].call(null,U))return!1;return!0}},N.or=function(B){var j;return B=P.call(arguments),j=B.length,function(U){for(var b=1,h=B[0].call(null,U);b<j;b+=1)h=h||B[b].call(null,U);return h}},N.merge=function(B){var j={},U=new N(B.getItemID);return ue(arguments,function(b){q(j,b.items)}),U.items=j,U.length=y.getLength(U.items),U},N.prototype.getItemID=function(B){return B._id+""},N.prototype.add=function(B){var j,U;arguments.length>1?ue(P.call(arguments),function(b){this.add(b)},this):(j=this.getItemID(B),(U=this.items)[j]||(this.length+=1),U[j]=B)},N.prototype.remove=function(B){var U,b,j=[];return this.length?arguments.length>1?j=y.map(P.call(arguments),function(h){return this.remove(h)},this):(U=this.items,z(B)&&(B=this.getItemID(B)),U[B]?(this.length-=1,b=U[B],delete U[B],b):j):j},N.prototype.clear=function(){this.items={},this.length=0},N.prototype.has=function(B){var j,U;return!!this.length&&(j=R(B),U=!1,j?this.each(function(b){return!0!==B(b)||(U=!0,!1)}):(B=z(B)?this.getItemID(B):B,U=T(this.items[B])),U)},N.prototype.doWhenHas=function(B,j,U){var b=this.items[B];T(b)&&j.call(U||this,b)},N.prototype.find=function(B){var j=new N;return this.hasOwnProperty("getItemID")&&(j.getItemID=this.getItemID),this.each(function(U){!0===B(U)&&j.add(U)}),j},N.prototype.groupBy=function(B,j){var m,g,U={},b=R(B),h=this.getItemID;if(Ee(B)){if(ue(B,function(r){U[r+""]=new N(h)}),!j)return U;B=j,b=!0}return this.each(function(r){b?g=B(r):R(g=r[B])&&(g=g.apply(r)),(m=U[g])||(m=U[g]=new N(h)),m.add(r)}),U},N.prototype.single=function(){var B;return this.each(function(j){return B=j,!1},this),B},N.prototype.sort=function(B){var j=[];return this.each(function(U){j.push(U)}),R(B)&&(j=j.sort(B)),j},N.prototype.each=function(B,j){t(this.items,B,j||this)},N.prototype.toArray=function(){return this.length?y.map(this.items,function(B){return B}):[]},Ge.exports=N},function(Ge,Qe,J){"use strict";var ue=J(3),t=J(36);Ge.exports=function q(Ee){return!ue(Ee)&&!t(Ee)}},function(Ge,Qe,J){"use strict";Ge.exports=function ue(t){return t===Object(t)}},function(Ge,Qe,J){"use strict";var ue={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};typeof window<"u"&&window.navigator&&function t(){var N,B,q=window.navigator,Ee=q.appName.replace(/\s/g,"_"),T=q.userAgent,R=/MSIE\s([0-9]+[.0-9]*)/,z=/Trident.*rv:11\./,y=/Edge\/(\d+)\./,P={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},j={Microsoft_Internet_Explorer:function(){var b=T.match(R);b?(ue.msie=!0,ue.version=parseFloat(b[1])):ue.others=!0},Netscape:function(){var b=!1;if(z.exec(T))ue.msie=!0,ue.version=11,b=!0;else if(y.exec(T))ue.edge=!0,ue.version=T.match(y)[1],b=!0;else for(N in P)if(P.hasOwnProperty(N)&&(B=T.match(P[N]))&&B.length>1){ue[N]=b=!0,ue.version=parseFloat(B[1]||0);break}b||(ue.others=!0)}};j[Ee]&&j[Ee]()}(),Ge.exports=ue},function(Ge,Qe,J){"use strict";var ue=J(3);Ge.exports=function t(q){return q&&q.className?ue(q.className.baseVal)?q.className:q.className.baseVal:""}},function(Ge,Qe,J){"use strict";(function(ue){var t=J(10),q=J(42),Ee=J(44),T=J(47),R=J(28),z=J(17),y=J(14),P=J(15),N=J(0);function B(j,U){y(U,"mousedown",this._onMouseDown,this),this.options=N({distance:10},j),this.container=U,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}B.prototype.destroy=function(){z(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},B.prototype._toggleDragEvent=function(j){var U=this.container;j?(q(U),y(window,"dragstart",P),y(ue.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(Ee(U),z(window,"dragstart",P),z(ue.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},B.prototype._getEventData=function(j){return{target:R(j),originEvent:j}},B.prototype._onMouseDown=function(j){0===T(j)&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(j),this._toggleDragEvent(!0))},B.prototype._onMouseMove=function(j){var U=this.options.distance;P(j),this._isMoved=!0,this._distance<U?this._distance+=1:this._dragStartFired||(this._dragStartFired=!0,this.invoke("dragStart",this._dragStartEventData))?this.fire("drag",this._getEventData(j)):this._toggleDragEvent(!1)},B.prototype._onMouseUp=function(j){if(this._toggleDragEvent(!1),this._isMoved)return this._isMoved=!1,void this.fire("dragEnd",this._getEventData(j));this.fire("click",this._getEventData(j))},t.mixin(B),Ge.exports=B}).call(this,J(25))},function(Ge,Qe){var J;J=function(){return this}();try{J=J||new Function("return this")()}catch{"object"==typeof window&&(J=window)}Ge.exports=J},function(Ge,Qe,J){"use strict";var ue="_feEventKey";Ge.exports=function t(q,Ee){var R,T=q[ue];return T||(T=q[ue]={}),(R=T[Ee])||(R=T[Ee]=[]),R}},function(Ge,Qe,J){"use strict";Ge.exports=function ue(t){var Ee,T,q=document.documentElement.style;for(Ee=0,T=t.length;Ee<T;Ee+=1)if(t[Ee]in q)return t[Ee];return!1}},function(Ge,Qe,J){"use strict";Ge.exports=function ue(t){return t.target||t.srcElement}},function(Ge,Qe,J){"use strict";var ue=J(10),t=J(28),q=J(17),Ee=J(14),T=J(30),R=J(0),z=J(18),y=J(9),P=J(12),N=J(8),B=J(51);function j(U,b){this.options=R({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},U),b=y.appendHTMLElement("div",b,this.options.cssPrefix+"palette-container"),N.call(this,U,b)}z(j,N),j.prototype._onClick=function(U){var b=this.options,h=t(U),m={};if(T(h,b.cssPrefix+"palette-button"))return m.color=h.value,void this.fire("_selectColor",m);T(h,b.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},j.prototype._onChange=function(U){var b=this.options,h=t(U),m={};T(h,b.cssPrefix+"palette-hex")&&(m.color=h.value,this.fire("_selectColor",m))},j.prototype._beforeDestroy=function(){this._toggleEvent(!1)},j.prototype._toggleEvent=function(U){var g,b=this.options,h=this.container,m=U?Ee:q;m(h,"click",this._onClick,this),(g=h.querySelector("."+b.cssPrefix+"palette-hex",h))&&m(g,"change",this._onChange,this)},j.prototype.render=function(U){var h,b=this.options;this._toggleEvent(!1),h=B({cssPrefix:b.cssPrefix,preset:b.preset,detailTxt:b.detailTxt,color:U,isValidRGB:P.isValidRGB,getItemClass:function(m){return m?"":" "+b.cssPrefix+"color-transparent"},isSelected:function(m){return m===U?" "+b.cssPrefix+"selected":""}}),this.container.innerHTML=h,this._toggleEvent(!0)},ue.mixin(j),Ge.exports=j},function(Ge,Qe,J){"use strict";var ue=J(5),t=J(23);Ge.exports=function q(Ee,T){var R;return Ee.classList?Ee.classList.contains(T):(R=t(Ee).split(/\s+/),ue(T,R)>-1)}},function(Ge,Qe,J){"use strict";var ue=J(10),t=J(53),q=J(54),Ee=J(30),T=J(0),R=J(18),z=J(9),y=J(32),P=J(12),N=J(8),B=J(24),j=J(57),U=-7,b=112,h=-3,m=115,g=359.99;function r(a,s){(s=z.appendHTMLElement("div",s,a.cssPrefix+"slider-container")).style.display="none",N.call(this,a,s),this.options=T({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},a),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new B({distance:0},s),this.colorSliderPosLimitRange=[U,b],this.huebarPosLimitRange=[h,m],this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}R(r,N),r.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},r.prototype.toggle=function(a){this.container.style.display=a?"block":"none"},r.prototype.isVisible=function(){return"block"===this.container.style.display},r.prototype.render=function(a){var d,x,s=this.container,u=this.options,C=j.layout;P.isValidRGB(a)&&(C=(C=(C=(C=C.replace(/{{slider}}/,j.slider)).replace(/{{huebar}}/,j.huebar)).replace(/{{cssPrefix}}/g,u.cssPrefix)).replace(/{{id}}/g,u.id),this.container.innerHTML=C,this.sliderSvgElement=s.querySelector("."+u.cssPrefix+"svg-slider"),this.huebarSvgElement=s.querySelector("."+u.cssPrefix+"svg-huebar"),this.sliderHandleElement=s.querySelector("."+u.cssPrefix+"slider-handle"),this.huebarHandleElement=s.querySelector("."+u.cssPrefix+"huebar-handle"),this.baseColorElement=s.querySelector("."+u.cssPrefix+"slider-basecolor"),d=P.hexToRGB(a),x=P.rgbToHSV.apply(null,d),this.moveHue(x[0],!0),this.moveSaturationAndValue(x[1],x[2],!0))},r.prototype._setColorSliderPosMax=function(){var a=this.sliderSvgElement.getClientRects()[0];a&&(this.colorSliderPosLimitRange[1]=a.height-10)},r.prototype._moveColorSliderHandle=function(a,s,u){var C=this.sliderHandleElement;s=Math.max(this.colorSliderPosLimitRange[0],s),s=Math.min(this.colorSliderPosLimitRange[1],s),a=Math.max(this.colorSliderPosLimitRange[0],a),a=Math.min(this.colorSliderPosLimitRange[1],a),y.setTranslateXY(C,a,s),y.setStrokeColor(C,s>50?"white":"black"),u||this.fire("_selectColor",{color:P.rgbToHEX.apply(null,this.getRGB())})},r.prototype.moveSaturationAndValue=function(a,s,u){var C,d;a=a||0,s=s||0,C=Math.abs(this.colorSliderPosLimitRange[0]),this._moveColorSliderHandle(a*(d=this.colorSliderPosLimitRange[1])/100-C,d-s*d/100-C,u)},r.prototype._moveColorSliderByPosition=function(a,s){var u=this.colorSliderPosLimitRange[0];this._moveColorSliderHandle(a+u,s+u)},r.prototype.getSaturationAndValue=function(){var a=Math.abs(this.colorSliderPosLimitRange[0]),s=a+this.colorSliderPosLimitRange[1],u=y.getTranslateXY(this.sliderHandleElement);return[(u[1]+a)/s*100,100-(u[0]+a)/s*100]},r.prototype._setHueBarPosMax=function(){var a=this.huebarSvgElement.getClientRects()[0];a&&(this.huebarPosLimitRange[1]=a.height-7)},r.prototype._moveHueHandle=function(a,s){var d,x,u=this.huebarHandleElement,C=this.baseColorElement;a=Math.max(this.huebarPosLimitRange[0],a),a=Math.min(this.huebarPosLimitRange[1],a),y.setTranslateY(u,a),d=P.hsvToRGB(this.getHue(),100,100),x=P.rgbToHEX.apply(null,d),y.setGradientColorStop(C,x),s||this.fire("_selectColor",{color:P.rgbToHEX.apply(null,this.getRGB())})},r.prototype.moveHue=function(a,s){var C;C=Math.abs(this.huebarPosLimitRange[0]),this._moveHueHandle((C+this.huebarPosLimitRange[1])*(a=a||0)/g-C,s)},r.prototype._moveHueByPosition=function(a){this._moveHueHandle(a+this.huebarPosLimitRange[0])},r.prototype.getHue=function(){var u,s=y.getTranslateXY(this.huebarHandleElement);return u=Math.abs(this.huebarPosLimitRange[0]),(s[0]+u)*g/(u+this.huebarPosLimitRange[1])},r.prototype.getHSV=function(){var a=this.getSaturationAndValue();return[this.getHue()].concat(a)},r.prototype.getRGB=function(){return P.hsvToRGB.apply(null,this.getHSV())},r.prototype._prepareColorSliderForMouseEvent=function(a){var s=this.options,u=q(a.target,"."+s.cssPrefix+"slider-part");return this._dragDataCache={isColorSlider:Ee(u,s.cssPrefix+"slider-left"),parentElement:u}},r.prototype._onClick=function(a){var s=this._prepareColorSliderForMouseEvent(a),u=t(a.originEvent,s.parentElement);s.isColorSlider?this._moveColorSliderByPosition(u[0],u[1]):this._moveHueByPosition(u[1]),this._dragDataCache=null},r.prototype._onDragStart=function(a){this._setColorSliderPosMax(),this._setHueBarPosMax(),this._prepareColorSliderForMouseEvent(a)},r.prototype._onDrag=function(a){var s=this._dragDataCache,u=t(a.originEvent,s.parentElement);s.isColorSlider?this._moveColorSliderByPosition(u[0],u[1]):this._moveHueByPosition(u[1])},r.prototype._onDragEnd=function(){this._dragDataCache=null},ue.mixin(r),Ge.exports=r},function(Ge,Qe,J){"use strict";var ue=J(4).isOldBrowser,t=/[\.\-0-9]+/g;Ge.exports={getTranslateXY:function(T){var R;return ue?(R=T.style,[parseFloat(R.top),parseFloat(R.left)]):(R=T.getAttribute("transform"))?(R=R.match(t),[parseFloat(R[1]),parseFloat(R[0])]):[0,0]},setTranslateXY:function(T,R,z){ue?(T.style.left=R+"px",T.style.top=z+"px"):T.setAttribute("transform","translate("+R+","+z+")")},setTranslateY:function(T,R){ue?T.style.top=R+"px":T.setAttribute("transform","translate(-6,"+R+")")},setStrokeColor:function(T,R){ue?T.strokecolor=R:T.setAttribute("stroke",R)},setGradientColorStop:function(T,R){ue?T.color=R:T.setAttribute("stop-color",R)}}},function(Ge,Qe,J){J(34),Ge.exports=J(35)},function(Ge,Qe,J){},function(Ge,Qe,J){"use strict";var ue=J(19),t=J(8),q=J(24),Ee=J(48),T=J(29),R=J(31),z=J(12),y=J(32);Ge.exports={Collection:ue,View:t,Drag:q,create:Ee,Palette:T,Slider:R,colorutil:z,svgvml:y}},function(Ge,Qe,J){"use strict";Ge.exports=function ue(t){return null===t}},function(Ge,Qe,J){"use strict";var ue=J(3),t=J(38),q=6048e5;Ge.exports=function T(R,z){var P=location.hostname,j="TOAST UI "+R+" for "+P+": Statistics",U=window.localStorage.getItem(j);!ue(window.tui)&&!1===window.tui.usageStatistics||U&&!function Ee(R){return(new Date).getTime()-R>q}(U)||(window.localStorage.setItem(j,(new Date).getTime()),setTimeout(function(){("interactive"===document.readyState||"complete"===document.readyState)&&t("https://www.google-analytics.com/collect",{v:1,t:"event",tid:z,cid:P,dp:P,dh:R,el:R,ec:"use"})},1e3))}},function(Ge,Qe,J){"use strict";var ue=J(7);Ge.exports=function t(q,Ee){var T=document.createElement("img"),R="";return ue(Ee,function(z,y){R+="&"+y+"="+z}),R=R.substring(1),T.src=q+"?"+R,T.style.display="none",document.body.appendChild(T),document.body.removeChild(T),T}},function(Ge,Qe,J){"use strict";var ue=J(2),t=J(5),q=J(23),Ee=J(40);Ge.exports=function T(R){var N,z=Array.prototype.slice.call(arguments,1),P=[];R.classList?ue(z,function(B){R.classList.add(B)}):((N=q(R))&&(z=[].concat(N.split(/\s+/),z)),ue(z,function(B){t(B,P)<0&&P.push(B)}),Ee(R,P))}},function(Ge,Qe,J){"use strict";var ue=J(1),t=J(3);Ge.exports=function q(Ee,T){T=(T=ue(T)?T.join(" "):T).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),t(Ee.className.baseVal)?Ee.className=T:Ee.className.baseVal=T}},function(Ge,Qe,J){"use strict";Ge.exports=function ue(t){return"number"==typeof t||t instanceof Number}},function(Ge,Qe,J){"use strict";var ue=J(14),t=J(15),q=J(43),Ee=J(27),T="onselectstart"in document,R="prevUserSelect",z=Ee(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ge.exports=function y(P){P||(P=document),T?ue(P,"selectstart",t):(P=P===document?document.documentElement:P,q(P,R,P.style[z]),P.style[z]="none")}},function(Ge,Qe,J){"use strict";var ue=J(16);Ge.exports=function t(q,Ee,T){q.dataset?q.dataset[Ee]=T:q.setAttribute("data-"+ue(Ee),T)}},function(Ge,Qe,J){"use strict";var ue=J(17),t=J(15),q=J(45),Ee=J(46),T=J(27),R="onselectstart"in document,z="prevUserSelect",y=T(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ge.exports=function P(N){N||(N=document),R?ue(N,"selectstart",t):((N=N===document?document.documentElement:N).style[y]=q(N,z)||"auto",Ee(N,z))}},function(Ge,Qe,J){"use strict";var ue=J(16);Ge.exports=function t(q,Ee){return q.dataset?q.dataset[Ee]:q.getAttribute("data-"+ue(Ee))}},function(Ge,Qe,J){"use strict";var ue=J(16);Ge.exports=function t(q,Ee){q.dataset?delete q.dataset[Ee]:q.removeAttribute("data-"+ue(Ee))}},function(Ge,Qe,J){"use strict";var ue=J(22),t=J(5),q=["0","1","3","5","7"],Ee=["2","6"],T=["4"];Ge.exports=function R(y){return ue.msie&&ue.version<=8?function z(y){var P=String(y.button);return t(P,q)>-1?0:t(P,Ee)>-1?2:t(P,T)>-1?1:null}(y):y.button}},function(Ge,Qe,J){"use strict";var ue=J(10),t=J(0),q=J(4),Ee=J(12),T=J(49),R=J(29),z=J(31),y=0;function N(B){var j;if(!(this instanceof N))return new N(B);if(!(B=this.options=t({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:y+=1,usageStatistics:!0},B)).container)throw new Error("ColorPicker(): need container option.");j=this.layout=new T(B,B.container),this.palette=new R(B,j.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new z(B,j.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),j.addChild(this.palette),j.addChild(this.slider),this.render(B.color),B.usageStatistics&&q.sendHostName()}N.prototype._onSelectColorInPalette=function(B){var j=B.color,U=this.options;Ee.isValidRGB(j)||""===j?(this.fire("selectColor",{color:j,origin:"palette"}),U.color!==j&&(U.color=j,this.render(j))):this.render()},N.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},N.prototype._onSelectColorInSlider=function(B){var j=B.color,U=this.options;this.fire("selectColor",{color:j,origin:"slider"}),U.color!==j&&(U.color=j,this.palette.render(j))},N.prototype.setColor=function(B){if(!Ee.isValidRGB(B))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=B,this.render(B)},N.prototype.getColor=function(){return this.options.color},N.prototype.toggle=function(B){this.layout.container.style.display=B?"block":"none"},N.prototype.render=function(B){this.layout.render(B||this.options.color)},N.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},ue.mixin(N),Ge.exports=N},function(Ge,Qe,J){"use strict";var ue=J(0),t=J(18),q=J(9),Ee=J(8);function T(R,z){this.options=ue({cssPrefix:"tui-colorpicker-"},R),z=q.appendHTMLElement("div",z,this.options.cssPrefix+"container"),Ee.call(this,R,z),this.render()}t(T,Ee),T.prototype.render=function(R){this.recursive(function(z){z.render(R)},!0)},Ge.exports=T},function(Ge,Qe,J){"use strict";Ge.exports=function ue(t){function q(){}return q.prototype=t,new q}},function(Ge,Qe,J){"use strict";var ue=J(52);Ge.exports=function(t){var Ee=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join("\n");return ue(Ee,t)}},function(Ge,Qe,J){"use strict";var ue=J(5),t=J(2),q=J(1),Ee=J(11),T=J(0),R=/{{\s?|\s?}}/g,z=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,y=/\[\s?|\s?\]/,P=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,N=/\./,B=/^["']\w+["']$/,j=/"|'/g,U=/^-?\d+\.?\d*$/,b=2,h={if:function s(V,G,W){var ee=function a(V,G){var W=[V],ee=[],_e=0,ge=0;return t(G,function(Re,le){0===Re.indexOf("if")?_e+=1:"/if"===Re?_e-=1:!_e&&(0===Re.indexOf("elseif")||"else"===Re)&&(W.push("else"===Re?["true"]:Re.split(" ").slice(1)),ee.push(G.slice(ge,le)),ge=le+1)}),ee.push(G.slice(ge)),{exps:W,sourcesInsideIf:ee}}(V,G),_e=!1,ge="";return t(ee.exps,function(Re,le){return(_e=S(Re,W))&&(ge=D(ee.sourcesInsideIf[le],W)),!_e}),ge},each:function u(V,G,W){var ee=S(V,W),_e=q(ee)?"@index":"@key",ge={},Re="";return t(ee,function(le,Pe){ge[_e]=Pe,ge["@this"]=le,T(W,ge),Re+=D(G.slice(),W)}),Re},with:function C(V,G,W){var ee=ue("as",V),_e=V[ee+1],ge=S(V.slice(0,ee),W),Re={};return Re[_e]=ge,D(G,T(W,Re))||""}},g=3==="a".split(/a/).length?function(V,G){return V.split(G)}:function(V,G){var _e,ge,W=[],ee=0;for(G.global||(G=new RegExp(G,"g")),_e=G.exec(V);null!==_e;)W.push(V.slice(ee,ge=_e.index)),ee=ge+_e[0].length,_e=G.exec(V);return W.push(V.slice(ee)),W};function r(V,G){var W,ee=G[V];return"true"===V?ee=!0:"false"===V?ee=!1:B.test(V)?ee=V.replace(j,""):z.test(V)?ee=r((W=V.split(y))[0],G)[r(W[1],G)]:P.test(V)?ee=r((W=V.split(N))[0],G)[W[1]]:U.test(V)&&(ee=parseFloat(V)),ee}function x(V,G,W){for(var Re,ee=h[V],_e=1,le=0+b,Pe=G[le];_e&&Ee(Pe);)0===Pe.indexOf(V)?_e+=1:0===Pe.indexOf("/"+V)&&(_e-=1,Re=le),Pe=G[le+=b];if(_e)throw Error(V+" needs {{/"+V+"}} expression.");return G[0]=ee(G[0].split(" ").slice(1),function d(V,G,W){var ee=V.splice(G+1,W-G);return ee.pop(),ee}(G,0,Re),W),G}function S(V,G){var W=r(V[0],G);return W instanceof Function?function I(V,G,W){var ee=[];return t(G,function(_e){ee.push(r(_e,W))}),V.apply(null,ee)}(W,V.slice(1),G):W}function D(V,G){for(var _e,ge,Re,W=1,ee=V[W];Ee(ee);)_e=ee.split(" "),h[ge=_e[0]]?(Re=x(ge,V.splice(W,V.length-W),G),V=V.concat(Re)):V[W]=S(_e,G),ee=V[W+=b];return V.join("")}Ge.exports=function H(V,G){return D(g(V,R),G)}},function(Ge,Qe,J){"use strict";var ue=J(1);Ge.exports=function t(q,Ee){var y,T=ue(q),R=T?q[0]:q.clientX,z=T?q[1]:q.clientY;return Ee?[R-(y=Ee.getBoundingClientRect()).left-Ee.clientLeft,z-y.top-Ee.clientTop]:[R,z]}},function(Ge,Qe,J){"use strict";var ue=J(55);Ge.exports=function t(q,Ee){var T=q.parentNode;if(ue(q,Ee))return q;for(;T&&T!==document;){if(ue(T,Ee))return T;T=T.parentNode}return null}},function(Ge,Qe,J){"use strict";var ue=J(5),t=J(56),q=Element.prototype,Ee=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.msMatchesSelector||function(R){return ue(this,t((this.document||this.ownerDocument).querySelectorAll(R)))>-1};Ge.exports=function T(R,z){return Ee.call(R,z)}},function(Ge,Qe,J){"use strict";var ue=J(6);Ge.exports=function t(q){var Ee;try{Ee=Array.prototype.slice.call(q)}catch{Ee=[],ue(q,function(R){Ee.push(R)})}return Ee}},function(Ge,Qe,J){"use strict";(function(ue){var t=J(4).isOldBrowser,q=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join("\n"),Ee=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join("\n"),T=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join("\n"),R=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join("\n"),z=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join("\n");t&&ue.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),Ge.exports={layout:q,slider:t?T:Ee,huebar:t?z:R}}).call(this,J(25))}])},5728:(Uo,Ge,Qe)=>{var J;self,Uo.exports=(J=Qe(5094),function(){var ue={2777:function(T,R,z){var b,h,m,g,r,a,y=y||{version:"4.6.0"};if(R.fabric=y,typeof document<"u"&&typeof window<"u")y.document=document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?document:document.implementation.createHTMLDocument(""),y.window=window;else{var N=new(z(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;y.document=N.document,y.jsdomImplForWrapper=z(6759).implForWrapper,y.nodeCanvas=z(6272).Canvas,y.window=N,DOMParser=y.window.DOMParser}function j(b,h){var m=b.canvas,g=h.targetCanvas,r=g.getContext("2d");r.translate(0,g.height),r.scale(1,-1),r.drawImage(m,0,m.height-g.height,g.width,g.height,0,0,g.width,g.height)}function U(b,h){var g=h.targetCanvas.getContext("2d"),r=h.destinationWidth,a=h.destinationHeight,s=r*a*4,u=new Uint8Array(this.imageBuffer,0,s),C=new Uint8ClampedArray(this.imageBuffer,0,s);b.readPixels(0,0,r,a,b.RGBA,b.UNSIGNED_BYTE,u);var d=new ImageData(C,r,a);g.putImageData(d,0,0)}y.isTouchSupported="ontouchstart"in y.window||"ontouchstart"in y.document||y.window&&y.window.navigator&&y.window.navigator.maxTouchPoints>0,y.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",y.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],y.DPI=96,y.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",y.commaWsp="(?:\\s+,?\\s*|,\\s*)",y.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,y.reNonWord=/[ \n\.,;!\?\-]/,y.fontPaths={},y.iMatrix=[1,0,0,1,0,0],y.svgNS="http://www.w3.org/2000/svg",y.perfLimitSizeTotal=2097152,y.maxCacheSideLimit=4096,y.minCacheSideLimit=256,y.charWidthsCache={},y.textureSize=2048,y.disableStyleCopyPaste=!1,y.enableGLFiltering=!0,y.devicePixelRatio=y.window.devicePixelRatio||y.window.webkitDevicePixelRatio||y.window.mozDevicePixelRatio||1,y.browserShadowBlurConstant=1,y.arcToSegmentsCache={},y.boundsOfCurveCache={},y.cachesBoundsOfCurve=!0,y.forceGLPutImageData=!1,y.initFilterBackend=function(){return y.enableGLFiltering&&y.isWebglSupported&&y.isWebglSupported(y.textureSize)?(console.log("max texture size: "+y.maxTextureSize),new y.WebglFilterBackend({tileSize:y.textureSize})):y.Canvas2dFilterBackend?new y.Canvas2dFilterBackend:void 0},typeof document<"u"&&typeof window<"u"&&(window.fabric=y),function(){function b(s,u){if(this.__eventListeners[s]){var C=this.__eventListeners[s];u?C[C.indexOf(u)]=!1:y.util.array.fill(C,!1)}}function m(s,u){var C=function(){u.apply(this,arguments),this.off(s,C)}.bind(this);this.on(s,C)}y.Observable={fire:function a(s,u){if(!this.__eventListeners)return this;var C=this.__eventListeners[s];if(!C)return this;for(var d=0,x=C.length;d<x;d++)C[d]&&C[d].call(this,u||{});return this.__eventListeners[s]=C.filter(function(S){return!1!==S}),this},on:function h(s,u){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var C in s)this.on(C,s[C]);else this.__eventListeners[s]||(this.__eventListeners[s]=[]),this.__eventListeners[s].push(u);return this},once:function g(s,u){if(1===arguments.length)for(var C in s)m.call(this,C,s[C]);else m.call(this,s,u);return this},off:function r(s,u){if(!this.__eventListeners)return this;if(0===arguments.length)for(s in this.__eventListeners)b.call(this,s);else if(1===arguments.length&&"object"==typeof arguments[0])for(var C in s)b.call(this,C,s[C]);else b.call(this,s,u);return this}}}(),y.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var b=0,h=arguments.length;b<h;b++)this._onObjectAdded(arguments[b]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(b,h,m){var g=this._objects;return m?g[h]=b:g.splice(h,0,b),this._onObjectAdded&&this._onObjectAdded(b),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var h,b=this._objects,m=!1,g=0,r=arguments.length;g<r;g++)-1!==(h=b.indexOf(arguments[g]))&&(m=!0,b.splice(h,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[g]));return this.renderOnAddRemove&&m&&this.requestRenderAll(),this},forEachObject:function(b,h){for(var m=this.getObjects(),g=0,r=m.length;g<r;g++)b.call(h,m[g],g,m);return this},getObjects:function(b){return typeof b>"u"?this._objects.concat():this._objects.filter(function(h){return h.type===b})},item:function(b){return this._objects[b]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(b,h){return this._objects.indexOf(b)>-1||!!h&&this._objects.some(function(m){return"function"==typeof m.contains&&m.contains(b,!0)})},complexity:function(){return this._objects.reduce(function(b,h){return b+(h.complexity?h.complexity():0)},0)}},y.CommonMethods={_setOptions:function(b){for(var h in b)this.set(h,b[h])},_initGradient:function(b,h){b&&b.colorStops&&!(b instanceof y.Gradient)&&this.set(h,new y.Gradient(b))},_initPattern:function(b,h,m){!b||!b.source||b instanceof y.Pattern?m&&m():this.set(h,new y.Pattern(b,m))},_setObject:function(b){for(var h in b)this._set(h,b[h])},set:function(b,h){return"object"==typeof b?this._setObject(b):this._set(b,h),this},_set:function(b,h){this[b]=h},toggle:function(b){var h=this.get(b);return"boolean"==typeof h&&this.set(b,!h),this},get:function(b){return this[b]}},b=R,h=Math.sqrt,m=Math.atan2,g=Math.pow,r=Math.PI/180,a=Math.PI/2,y.util={cos:function(s){if(0===s)return 1;switch(s<0&&(s=-s),s/a){case 1:case 3:return 0;case 2:return-1}return Math.cos(s)},sin:function(s){if(0===s)return 0;var C=1;switch(s<0&&(C=-1),s/a){case 1:return C;case 2:return 0;case 3:return-C}return Math.sin(s)},removeFromArray:function(s,u){var C=s.indexOf(u);return-1!==C&&s.splice(C,1),s},getRandomInt:function(s,u){return Math.floor(Math.random()*(u-s+1))+s},degreesToRadians:function(s){return s*r},radiansToDegrees:function(s){return s/r},rotatePoint:function(s,u,C){var d=new y.Point(s.x-u.x,s.y-u.y),x=y.util.rotateVector(d,C);return new y.Point(x.x,x.y).addEquals(u)},rotateVector:function(s,u){var C=y.util.sin(u),d=y.util.cos(u);return{x:s.x*d-s.y*C,y:s.x*C+s.y*d}},transformPoint:function(s,u,C){return C?new y.Point(u[0]*s.x+u[2]*s.y,u[1]*s.x+u[3]*s.y):new y.Point(u[0]*s.x+u[2]*s.y+u[4],u[1]*s.x+u[3]*s.y+u[5])},makeBoundingBoxFromPoints:function(s,u){if(u)for(var C=0;C<s.length;C++)s[C]=y.util.transformPoint(s[C],u);var d=[s[0].x,s[1].x,s[2].x,s[3].x],x=y.util.array.min(d),I=y.util.array.max(d)-x,D=[s[0].y,s[1].y,s[2].y,s[3].y],H=y.util.array.min(D);return{left:x,top:H,width:I,height:y.util.array.max(D)-H}},invertTransform:function(s){var u=1/(s[0]*s[3]-s[1]*s[2]),C=[u*s[3],-u*s[1],-u*s[2],u*s[0]],d=y.util.transformPoint({x:s[4],y:s[5]},C,!0);return C[4]=-d.x,C[5]=-d.y,C},toFixed:function(s,u){return parseFloat(Number(s).toFixed(u))},parseUnit:function(s,u){var C=/\D{0,2}$/.exec(s),d=parseFloat(s);switch(u||(u=y.Text.DEFAULT_SVG_FONT_SIZE),C[0]){case"mm":return d*y.DPI/25.4;case"cm":return d*y.DPI/2.54;case"in":return d*y.DPI;case"pt":return d*y.DPI/72;case"pc":return d*y.DPI/72*12;case"em":return d*u;default:return d}},falseFunction:function(){return!1},getKlass:function(s,u){return s=y.util.string.camelize(s.charAt(0).toUpperCase()+s.slice(1)),y.util.resolveNamespace(u)[s]},getSvgAttributes:function(s){var u=["instantiated_by_use","style","id","class"];switch(s){case"linearGradient":u=u.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":u=u.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":u=u.concat(["offset","stop-color","stop-opacity"])}return u},resolveNamespace:function(s){if(!s)return y;var d,u=s.split("."),C=u.length,x=b||y.window;for(d=0;d<C;++d)x=x[u[d]];return x},loadImage:function(s,u,C,d){if(s){var x=y.util.createImage(),S=function(){u&&u.call(C,x,!1),x=x.onload=x.onerror=null};x.onload=S,x.onerror=function(){y.log("Error loading "+x.src),u&&u.call(C,null,!0),x=x.onload=x.onerror=null},0!==s.indexOf("data")&&null!=d&&(x.crossOrigin=d),"data:image/svg"===s.substring(0,14)&&(x.onload=null,y.util.loadImageInDom(x,S)),x.src=s}else u&&u.call(C,s)},loadImageInDom:function(s,u){var C=y.document.createElement("div");C.style.width=C.style.height="1px",C.style.left=C.style.top="-100%",C.style.position="absolute",C.appendChild(s),y.document.querySelector("body").appendChild(C),s.onload=function(){u(),C.parentNode.removeChild(C),C=null}},enlivenObjects:function(s,u,C,d){var x=[],S=0,I=(s=s||[]).length;function D(){++S===I&&u&&u(x.filter(function(H){return H}))}I?s.forEach(function(H,V){H&&H.type?y.util.getKlass(H.type,C).fromObject(H,function(W,ee){ee||(x[V]=W),d&&d(H,W,ee),D()}):D()}):u&&u(x)},enlivenPatterns:function(s,u){function C(){++x===S&&u&&u(d)}var d=[],x=0,S=(s=s||[]).length;S?s.forEach(function(I,D){I&&I.source?new y.Pattern(I,function(H){d[D]=H,C()}):(d[D]=I,C())}):u&&u(d)},groupSVGElements:function(s,u,C){var d;return s&&1===s.length?s[0]:(u&&(u.width&&u.height?u.centerPoint={x:u.width/2,y:u.height/2}:(delete u.width,delete u.height)),d=new y.Group(s,u),typeof C<"u"&&(d.sourcePath=C),d)},populateWithProperties:function(s,u,C){if(C&&"[object Array]"===Object.prototype.toString.call(C))for(var d=0,x=C.length;d<x;d++)C[d]in s&&(u[C[d]]=s[C[d]])},drawDashedLine:function(s,u,C,d,x,S){var I=d-u,D=x-C,H=h(I*I+D*D),V=m(D,I),G=S.length,W=0,ee=!0;for(s.save(),s.translate(u,C),s.moveTo(0,0),s.rotate(V),u=0;H>u;)(u+=S[W++%G])>H&&(u=H),s[ee?"lineTo":"moveTo"](u,0),ee=!ee;s.restore()},createCanvasElement:function(){return y.document.createElement("canvas")},copyCanvasElement:function(s){var u=y.util.createCanvasElement();return u.width=s.width,u.height=s.height,u.getContext("2d").drawImage(s,0,0),u},toDataURL:function(s,u,C){return s.toDataURL("image/"+u,C)},createImage:function(){return y.document.createElement("img")},multiplyTransformMatrices:function(s,u,C){return[s[0]*u[0]+s[2]*u[1],s[1]*u[0]+s[3]*u[1],s[0]*u[2]+s[2]*u[3],s[1]*u[2]+s[3]*u[3],C?0:s[0]*u[4]+s[2]*u[5]+s[4],C?0:s[1]*u[4]+s[3]*u[5]+s[5]]},qrDecompose:function(s){var u=m(s[1],s[0]),C=g(s[0],2)+g(s[1],2),d=h(C),x=(s[0]*s[3]-s[2]*s[1])/d,S=m(s[0]*s[2]+s[1]*s[3],C);return{angle:u/r,scaleX:d,scaleY:x,skewX:S/r,skewY:0,translateX:s[4],translateY:s[5]}},calcRotateMatrix:function(s){if(!s.angle)return y.iMatrix.concat();var u=y.util.degreesToRadians(s.angle),C=y.util.cos(u),d=y.util.sin(u);return[C,d,-d,C,0,0]},calcDimensionsMatrix:function(s){var u=typeof s.scaleX>"u"?1:s.scaleX,C=typeof s.scaleY>"u"?1:s.scaleY,d=[s.flipX?-u:u,0,0,s.flipY?-C:C,0,0],x=y.util.multiplyTransformMatrices,S=y.util.degreesToRadians;return s.skewX&&(d=x(d,[1,0,Math.tan(S(s.skewX)),1],!0)),s.skewY&&(d=x(d,[1,Math.tan(S(s.skewY)),0,1],!0)),d},composeMatrix:function(s){var u=[1,0,0,1,s.translateX||0,s.translateY||0],C=y.util.multiplyTransformMatrices;return s.angle&&(u=C(u,y.util.calcRotateMatrix(s))),(1!==s.scaleX||1!==s.scaleY||s.skewX||s.skewY||s.flipX||s.flipY)&&(u=C(u,y.util.calcDimensionsMatrix(s))),u},resetObjectTransform:function(s){s.scaleX=1,s.scaleY=1,s.skewX=0,s.skewY=0,s.flipX=!1,s.flipY=!1,s.rotate(0)},saveObjectTransform:function(s){return{scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,angle:s.angle,left:s.left,flipX:s.flipX,flipY:s.flipY,top:s.top}},isTransparent:function(s,u,C,d){d>0&&(u>d?u-=d:u=0,C>d?C-=d:C=0);var S,x=!0,D=s.getImageData(u,C,2*d||1,2*d||1),H=D.data.length;for(S=3;S<H&&0!=(x=D.data[S]<=0);S+=4);return D=null,x},parsePreserveAspectRatioAttribute:function(s){var S,u="meet",x=s.split(" ");return x&&x.length&&("meet"!==(u=x.pop())&&"slice"!==u?(S=u,u="meet"):x.length&&(S=x.pop())),{meetOrSlice:u,alignX:"none"!==S?S.slice(1,4):"none",alignY:"none"!==S?S.slice(5,8):"none"}},clearFabricFontCache:function(s){(s=(s||"").toLowerCase())?y.charWidthsCache[s]&&delete y.charWidthsCache[s]:y.charWidthsCache={}},limitDimsByArea:function(s,u){var C=Math.sqrt(u*s),d=Math.floor(u/C);return{x:Math.floor(C),y:d}},capValue:function(s,u,C){return Math.max(s,Math.min(u,C))},findScaleToFit:function(s,u){return Math.min(u.width/s.width,u.height/s.height)},findScaleToCover:function(s,u){return Math.max(u.width/s.width,u.height/s.height)},matrixToSVG:function(s){return"matrix("+s.map(function(u){return y.util.toFixed(u,y.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(s,u){var C=y.util.invertTransform(u),d=y.util.multiplyTransformMatrices(C,s.calcOwnMatrix());y.util.applyTransformToObject(s,d)},addTransformToObject:function(s,u){y.util.applyTransformToObject(s,y.util.multiplyTransformMatrices(u,s.calcOwnMatrix()))},applyTransformToObject:function(s,u){var C=y.util.qrDecompose(u),d=new y.Point(C.translateX,C.translateY);s.flipX=!1,s.flipY=!1,s.set("scaleX",C.scaleX),s.set("scaleY",C.scaleY),s.skewX=C.skewX,s.skewY=C.skewY,s.angle=C.angle,s.setPositionByOrigin(d,"center","center")},sizeAfterTransform:function(s,u,C){var d=s/2,x=u/2,S=[{x:-d,y:-x},{x:d,y:-x},{x:-d,y:x},{x:d,y:x}],I=y.util.calcDimensionsMatrix(C),D=y.util.makeBoundingBoxFromPoints(S,I);return{x:D.width,y:D.height}}},function(){var b=Array.prototype.join,h={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},m={m:"l",M:"L"};function g(se,ie,xe,K,te,ne,ae,Te,be,Ne,De){var ke=y.util.cos(se),me=y.util.sin(se),ce=y.util.cos(ie),de=y.util.sin(ie),ye=xe*te*ce-K*ne*de+ae,Me=K*te*ce+xe*ne*de+Te;return["C",Ne+be*(-xe*te*me-K*ne*ke),De+be*(-K*te*me+xe*ne*ke),ye+be*(xe*te*de+K*ne*ce),Me+be*(K*te*de-xe*ne*ce),ye,Me]}function r(se,ie,xe,K,te,ne,ae){var Te=Math.PI,be=ae*Te/180,Ne=y.util.sin(be),De=y.util.cos(be),ke=0,me=0,ce=-De*se*.5-Ne*ie*.5,de=-De*ie*.5+Ne*se*.5,ye=(xe=Math.abs(xe))*xe,Me=(K=Math.abs(K))*K,Ie=de*de,Xe=ce*ce,at=ye*Me-ye*Ie-Me*Xe,rt=0;if(at<0){var Oe=Math.sqrt(1-at/(ye*Me));xe*=Oe,K*=Oe}else rt=(te===ne?-1:1)*Math.sqrt(at/(ye*Ie+Me*Xe));var st=rt*xe*de/K,ht=-rt*K*ce/xe,mt=De*st-Ne*ht+.5*se,Nt=Ne*st+De*ht+.5*ie,St=a(1,0,(ce-st)/xe,(de-ht)/K),At=a((ce-st)/xe,(de-ht)/K,(-ce-st)/xe,(-de-ht)/K);0===ne&&At>0?At-=2*Te:1===ne&&At<0&&(At+=2*Te);for(var zt=Math.ceil(Math.abs(At/Te*2)),It=[],Bt=At/zt,Gt=8/3*Math.sin(Bt/4)*Math.sin(Bt/4)/Math.sin(Bt/2),Ve=St+Bt,je=0;je<zt;je++)It[je]=g(St,Ve,De,Ne,xe,K,mt,Nt,Gt,ke,me),ke=It[je][5],me=It[je][6],St=Ve,Ve+=Bt;return It}function a(se,ie,xe,K){var te=Math.atan2(ie,se),ne=Math.atan2(K,xe);return ne>=te?ne-te:2*Math.PI-(te-ne)}function s(se,ie,xe,K,te,ne,ae,Te){var be;if(y.cachesBoundsOfCurve&&(be=b.call(arguments),y.boundsOfCurveCache[be]))return y.boundsOfCurveCache[be];var ye,Me,Ie,Xe,at,rt,Oe,st,Ne=Math.sqrt,De=Math.min,ke=Math.max,me=Math.abs,ce=[],de=[[],[]];Me=6*se-12*xe+6*te,ye=-3*se+9*xe-9*te+3*ae,Ie=3*xe-3*se;for(var ht=0;ht<2;++ht)if(ht>0&&(Me=6*ie-12*K+6*ne,ye=-3*ie+9*K-9*ne+3*Te,Ie=3*K-3*ie),me(ye)<1e-12){if(me(Me)<1e-12)continue;0<(Xe=-Ie/Me)&&Xe<1&&ce.push(Xe)}else!((Oe=Me*Me-4*Ie*ye)<0)&&(0<(at=(-Me+(st=Ne(Oe)))/(2*ye))&&at<1&&ce.push(at),0<(rt=(-Me-st)/(2*ye))&&rt<1&&ce.push(rt));for(var zt,St=ce.length,At=St;St--;)de[0][St]=(zt=1-(Xe=ce[St]))*zt*zt*se+3*zt*zt*Xe*xe+3*zt*Xe*Xe*te+Xe*Xe*Xe*ae,de[1][St]=zt*zt*zt*ie+3*zt*zt*Xe*K+3*zt*Xe*Xe*ne+Xe*Xe*Xe*Te;de[0][At]=se,de[1][At]=ie,de[0][At+1]=ae,de[1][At+1]=Te;var It=[{x:De.apply(null,de[0]),y:De.apply(null,de[1])},{x:ke.apply(null,de[0]),y:ke.apply(null,de[1])}];return y.cachesBoundsOfCurve&&(y.boundsOfCurveCache[be]=It),It}function u(se,ie,xe){for(var De=r(xe[6]-se,xe[7]-ie,xe[1],xe[2],xe[4],xe[5],xe[3]),ke=0,me=De.length;ke<me;ke++)De[ke][1]+=se,De[ke][2]+=ie,De[ke][3]+=se,De[ke][4]+=ie,De[ke][5]+=se,De[ke][6]+=ie;return De}function d(se,ie,xe,K){return Math.sqrt((xe-se)*(xe-se)+(K-ie)*(K-ie))}function H(se,ie,xe,K,te,ne,ae,Te){return function(be){var Ne=function x(se){return se*se*se}(be),De=function S(se){return 3*se*se*(1-se)}(be),ke=function I(se){return 3*se*(1-se)*(1-se)}(be),me=function D(se){return(1-se)*(1-se)*(1-se)}(be);return{x:ae*Ne+te*De+xe*ke+se*me,y:Te*Ne+ne*De+K*ke+ie*me}}}function V(se,ie,xe,K,te,ne,ae,Te){return function(be){var Ne=1-be;return Math.atan2(3*Ne*Ne*(K-ie)+6*Ne*be*(ne-K)+3*be*be*(Te-ne),3*Ne*Ne*(xe-se)+6*Ne*be*(te-xe)+3*be*be*(ae-te))}}function _e(se,ie,xe,K,te,ne){return function(ae){var Te=function G(se){return se*se}(ae),be=function W(se){return 2*se*(1-se)}(ae),Ne=function ee(se){return(1-se)*(1-se)}(ae);return{x:te*Te+xe*be+se*Ne,y:ne*Te+K*be+ie*Ne}}}function ge(se,ie,xe,K,te,ne){return function(ae){var Te=1-ae;return Math.atan2(2*Te*(K-ie)+2*ae*(ne-K),2*Te*(xe-se)+2*ae*(te-xe))}}function Re(se,ie,xe){var te,ae,K={x:ie,y:xe},ne=0;for(ae=1;ae<=100;ae+=1)te=se(ae/100),ne+=d(K.x,K.y,te.x,te.y),K=te;return ne}function Pe(se){for(var K,Ne,De,ke,ie=0,xe=se.length,te=0,ne=0,ae=0,Te=0,be=[],me=0;me<xe;me++){switch(De={x:te,y:ne,command:(K=se[me])[0]},K[0]){case"M":De.length=0,ae=te=K[1],Te=ne=K[2];break;case"L":De.length=d(te,ne,K[1],K[2]),te=K[1],ne=K[2];break;case"C":Ne=H(te,ne,K[1],K[2],K[3],K[4],K[5],K[6]),ke=V(te,ne,K[1],K[2],K[3],K[4],K[5],K[6]),De.iterator=Ne,De.angleFinder=ke,De.length=Re(Ne,te,ne),te=K[5],ne=K[6];break;case"Q":Ne=_e(te,ne,K[1],K[2],K[3],K[4]),ke=ge(te,ne,K[1],K[2],K[3],K[4]),De.iterator=Ne,De.angleFinder=ke,De.length=Re(Ne,te,ne),te=K[3],ne=K[4];break;case"Z":case"z":De.destX=ae,De.destY=Te,De.length=d(te,ne,ae,Te),te=ae,ne=Te}ie+=De.length,be.push(De)}return be.push({length:ie,x:te,y:ne}),be}y.util.joinPath=function(se){return se.map(function(ie){return ie.join(" ")}).join(" ")},y.util.parsePath=function tt(se){var K,te,ke,me,ce,ie=[],xe=[],ne=y.rePathCommand,ae="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Te="("+ae+")"+y.commaWsp,be="([01])"+y.commaWsp+"?",De=new RegExp(Te+"?"+Te+"?"+Te+be+be+Te+"?("+ae+")","g");if(!se||!se.match)return ie;for(var ye,de=0,Me=(ce=se.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;de<Me;de++){me=(K=ce[de]).slice(1).trim(),xe.length=0;var Ie=K.charAt(0);if(ye=[Ie],"a"===Ie.toLowerCase())for(var Xe;Xe=De.exec(me);)for(var at=1;at<Xe.length;at++)xe.push(Xe[at]);else for(;ke=ne.exec(me);)xe.push(ke[0]);at=0;for(var rt=xe.length;at<rt;at++)te=parseFloat(xe[at]),isNaN(te)||ye.push(te);var Oe=h[Ie.toLowerCase()],st=m[Ie]||Ie;if(ye.length-1>Oe)for(var ht=1,mt=ye.length;ht<mt;ht+=Oe)ie.push([Ie].concat(ye.slice(ht,ht+Oe))),Ie=st;else ie.push(ye)}return ie},y.util.makePathSimpler=function C(se){var ae,Te,be,De,ke,me,ie=0,xe=0,K=se.length,te=0,ne=0,Ne=[];for(Te=0;Te<K;++Te){switch(be=!1,(ae=se[Te].slice(0))[0]){case"l":ae[0]="L",ae[1]+=ie,ae[2]+=xe;case"L":ie=ae[1],xe=ae[2];break;case"h":ae[1]+=ie;case"H":ae[0]="L",ae[2]=xe,ie=ae[1];break;case"v":ae[1]+=xe;case"V":ae[0]="L",xe=ae[1],ae[1]=ie,ae[2]=xe;break;case"m":ae[0]="M",ae[1]+=ie,ae[2]+=xe;case"M":ie=ae[1],xe=ae[2],te=ae[1],ne=ae[2];break;case"c":ae[0]="C",ae[1]+=ie,ae[2]+=xe,ae[3]+=ie,ae[4]+=xe,ae[5]+=ie,ae[6]+=xe;case"C":ke=ae[3],me=ae[4],ie=ae[5],xe=ae[6];break;case"s":ae[0]="S",ae[1]+=ie,ae[2]+=xe,ae[3]+=ie,ae[4]+=xe;case"S":"C"===De?(ke=2*ie-ke,me=2*xe-me):(ke=ie,me=xe),ie=ae[3],xe=ae[4],ae[0]="C",ae[5]=ae[3],ae[6]=ae[4],ae[3]=ae[1],ae[4]=ae[2],ae[1]=ke,ae[2]=me,ke=ae[3],me=ae[4];break;case"q":ae[0]="Q",ae[1]+=ie,ae[2]+=xe,ae[3]+=ie,ae[4]+=xe;case"Q":ke=ae[1],me=ae[2],ie=ae[3],xe=ae[4];break;case"t":ae[0]="T",ae[1]+=ie,ae[2]+=xe;case"T":"Q"===De?(ke=2*ie-ke,me=2*xe-me):(ke=ie,me=xe),ae[0]="Q",ie=ae[1],xe=ae[2],ae[1]=ke,ae[2]=me,ae[3]=ie,ae[4]=xe;break;case"a":ae[0]="A",ae[6]+=ie,ae[7]+=xe;case"A":be=!0,Ne=Ne.concat(u(ie,xe,ae)),ie=ae[6],xe=ae[7];break;case"z":case"Z":ie=te,xe=ne}be||Ne.push(ae),De=ae[0]}return Ne},y.util.getSmoothPathFromPoints=function Ae(se,ie){var K,xe=[],te=new y.Point(se[0].x,se[0].y),ne=new y.Point(se[1].x,se[1].y),ae=se.length,Te=1,be=0,Ne=ae>2;for(Ne&&(Te=se[2].x<ne.x?-1:se[2].x===ne.x?0:1,be=se[2].y<ne.y?-1:se[2].y===ne.y?0:1),xe.push(["M",te.x-Te*(ie=ie||0),te.y-be*ie]),K=1;K<ae;K++){if(!te.eq(ne)){var De=te.midPointFrom(ne);xe.push(["Q",te.x,te.y,De.x,De.y])}te=se[K],K+1<se.length&&(ne=se[K+1])}return Ne&&(Te=te.x>se[K-2].x?1:te.x===se[K-2].x?0:-1,be=te.y>se[K-2].y?1:te.y===se[K-2].y?0:-1),xe.push(["L",te.x+Te*ie,te.y+be*ie]),xe},y.util.getPathSegmentsInfo=Pe,y.util.getBoundsOfCurve=s,y.util.getPointOnPath=function $(se,ie,xe){xe||(xe=Pe(se));for(var K=0;ie-xe[K].length>0&&K<xe.length-2;)ie-=xe[K].length,K++;var be,te=xe[K],ne=ie/te.length,Te=se[K];switch(te.command){case"M":return{x:te.x,y:te.y,angle:0};case"Z":case"z":return(be=new y.Point(te.x,te.y).lerp(new y.Point(te.destX,te.destY),ne)).angle=Math.atan2(te.destY-te.y,te.destX-te.x),be;case"L":return(be=new y.Point(te.x,te.y).lerp(new y.Point(Te[1],Te[2]),ne)).angle=Math.atan2(Te[2]-te.y,Te[1]-te.x),be;case"C":case"Q":return function le(se,ie){for(var ae,Te,De,xe=0,K=0,te=se.iterator,ne={x:se.x,y:se.y},be=.01,Ne=se.angleFinder;K<ie&&xe<=1&&be>1e-4;)ae=te(xe),De=xe,(Te=d(ne.x,ne.y,ae.x,ae.y))+K>ie?xe-=be/=2:(ne=ae,xe+=be,K+=Te);return ae.angle=Ne(De),ae}(te,ie)}},y.util.transformPath=function it(se,ie,xe){return xe&&(ie=y.util.multiplyTransformMatrices(ie,[1,0,0,1,-xe.x,-xe.y])),se.map(function(K){for(var te=K.slice(0),ne={},ae=1;ae<K.length-1;ae+=2)ne.x=K[ae],ne.y=K[ae+1],ne=y.util.transformPoint(ne,ie),te[ae]=ne.x,te[ae+1]=ne.y;return te})},y.util.fromArcToBeizers=u,y.util.getBoundsOfArc=function he(se,ie,xe,K,te,ne,ae,Te,be){for(var ke,Ne=0,De=0,me=[],ce=r(Te-se,be-ie,xe,K,ne,ae,te),de=0,ye=ce.length;de<ye;de++)ke=s(Ne,De,ce[de][1],ce[de][2],ce[de][3],ce[de][4],ce[de][5],ce[de][6]),me.push({x:ke[0].x+se,y:ke[0].y+ie}),me.push({x:ke[1].x+se,y:ke[1].y+ie}),Ne=ce[de][5],De=ce[de][6];return me},y.util.drawArc=function fe(se,ie,xe,K){u(ie,xe,K=K.slice(0).unshift("X")).forEach(function(ne){se.bezierCurveTo.apply(se,ne.slice(1))})}}(),function(){var b=Array.prototype.slice;function a(s,u,C){if(s&&0!==s.length){var d=s.length-1,x=u?s[d][u]:s[d];if(u)for(;d--;)C(s[d][u],x)&&(x=s[d][u]);else for(;d--;)C(s[d],x)&&(x=s[d]);return x}}y.util.array={fill:function r(s,u){for(var C=s.length;C--;)s[C]=u;return s},invoke:function h(s,u){for(var C=b.call(arguments,2),d=[],x=0,S=s.length;x<S;x++)d[x]=C.length?s[x][u].apply(s[x],C):s[x][u].call(s[x]);return d},min:function g(s,u){return a(s,u,function(C,d){return C<d})},max:function m(s,u){return a(s,u,function(C,d){return C>=d})}}}(),function(){function b(m,g,r){if(r)if(!y.isLikelyNode&&g instanceof Element)m=g;else if(g instanceof Array){m=[];for(var a=0,s=g.length;a<s;a++)m[a]=b({},g[a],r)}else if(g&&"object"==typeof g)for(var u in g)"canvas"===u||"group"===u?m[u]=null:g.hasOwnProperty(u)&&(m[u]=b({},g[u],r));else m=g;else for(var u in g)m[u]=g[u];return m}y.util.object={extend:b,clone:function h(m,g){return b({},m,g)}},y.util.object.extend(y.util,y.Observable)}(),function(){function r(a,s){var u=a.charCodeAt(s);if(isNaN(u))return"";if(u<55296||u>57343)return a.charAt(s);if(55296<=u&&u<=56319){if(a.length<=s+1)throw"High surrogate without following low surrogate";var C=a.charCodeAt(s+1);if(56320>C||C>57343)throw"High surrogate without following low surrogate";return a.charAt(s)+a.charAt(s+1)}if(0===s)throw"Low surrogate without preceding high surrogate";var d=a.charCodeAt(s-1);if(55296>d||d>56319)throw"Low surrogate without preceding high surrogate";return!1}y.util.string={camelize:function b(a){return a.replace(/-+(.)?/g,function(s,u){return u?u.toUpperCase():""})},capitalize:function h(a,s){return a.charAt(0).toUpperCase()+(s?a.slice(1):a.slice(1).toLowerCase())},escapeXml:function m(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function g(a){var u,s=0,C=[];for(s=0;s<a.length;s++)!1!==(u=r(a,s))&&C.push(u);return C}}}(),function(){var b=Array.prototype.slice,h=function(){},m=function(){for(var u in{toString:1})if("toString"===u)return!1;return!0}(),g=function(u,C,d){for(var x in C)u.prototype[x]=x in u.prototype&&"function"==typeof u.prototype[x]&&(C[x]+"").indexOf("callSuper")>-1?function(S){return function(){var I=this.constructor.superclass;this.constructor.superclass=d;var D=C[S].apply(this,arguments);if(this.constructor.superclass=I,"initialize"!==S)return D}}(x):C[x],m&&(C.toString!==Object.prototype.toString&&(u.prototype.toString=C.toString),C.valueOf!==Object.prototype.valueOf&&(u.prototype.valueOf=C.valueOf))};function r(){}function a(u){for(var C=null,d=this;d.constructor.superclass;){var x=d.constructor.superclass.prototype[u];if(d[u]!==x){C=x;break}d=d.constructor.superclass.prototype}return C?arguments.length>1?C.apply(this,b.call(arguments,1)):C.call(this):console.log("tried to callSuper "+u+", method not found in prototype chain",this)}y.util.createClass=function s(){var u=null,C=b.call(arguments,0);function d(){this.initialize.apply(this,arguments)}"function"==typeof C[0]&&(u=C.shift()),d.superclass=u,d.subclasses=[],u&&(r.prototype=u.prototype,d.prototype=new r,u.subclasses.push(d));for(var x=0,S=C.length;x<S;x++)g(d,C[x],u);return d.prototype.initialize||(d.prototype.initialize=h),d.prototype.constructor=d,d.prototype.callSuper=a,d}}(),function(){var b=!!y.document.createElement("div").attachEvent,h=["touchstart","touchmove","touchend"];y.util.addListener=function(g,r,a,s){g&&g.addEventListener(r,a,!b&&s)},y.util.removeListener=function(g,r,a,s){g&&g.removeEventListener(r,a,!b&&s)},y.util.getPointer=function(g){var a=y.util.getScrollLeftTop(g.target),s=function m(g){var r=g.changedTouches;return r&&r[0]?r[0]:g}(g);return{x:s.clientX+a.left,y:s.clientY+a.top}},y.util.isTouchEvent=function(g){return h.indexOf(g.type)>-1||"touch"===g.pointerType}}(),function(){var h=y.document.createElement("div"),r=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,a=function(s){return s};"string"==typeof h.style.opacity?a=function(s,u){return s.style.opacity=u,s}:"string"==typeof h.style.filter&&(a=function(s,u){var C=s.style;return s.currentStyle&&!s.currentStyle.hasLayout&&(C.zoom=1),r.test(C.filter)?C.filter=C.filter.replace(r,u=u>=.9999?"":"alpha(opacity="+100*u+")"):C.filter+=" alpha(opacity="+100*u+")",s}),y.util.setStyle=function b(s,u){var C=s.style;if(!C)return s;if("string"==typeof u)return s.style.cssText+=";"+u,u.indexOf("opacity")>-1?a(s,u.match(/opacity:\s*(\d?\.?\d*)/)[1]):s;for(var d in u)"opacity"===d?a(s,u[d]):C["float"===d||"cssFloat"===d?typeof C.styleFloat>"u"?"cssFloat":"styleFloat":d]=u[d];return s}}(),function(){var b=Array.prototype.slice;var m,d,D,H,g=function(D){return b.call(D,0)};try{m=g(y.document.childNodes)instanceof Array}catch{}function r(D,H){var V=y.document.createElement(D);for(var G in H)"class"===G?V.className=H[G]:"for"===G?V.htmlFor=H[G]:V.setAttribute(G,H[G]);return V}function u(D){for(var H=0,V=0,G=y.document.documentElement,W=y.document.body||{scrollLeft:0,scrollTop:0};D&&(D.parentNode||D.host)&&((D=D.parentNode||D.host)===y.document?(H=W.scrollLeft||G.scrollLeft||0,V=W.scrollTop||G.scrollTop||0):(H+=D.scrollLeft||0,V+=D.scrollTop||0),1!==D.nodeType||"fixed"!==D.style.position););return{left:H,top:V}}m||(g=function(D){for(var H=new Array(D.length),V=D.length;V--;)H[V]=D[V];return H}),d=y.document.defaultView&&y.document.defaultView.getComputedStyle?function(D,H){var V=y.document.defaultView.getComputedStyle(D,null);return V?V[H]:void 0}:function(D,H){var V=D.style[H];return!V&&D.currentStyle&&(V=D.currentStyle[H]),V},H="userSelect"in(D=y.document.documentElement.style)?"userSelect":"MozUserSelect"in D?"MozUserSelect":"WebkitUserSelect"in D?"WebkitUserSelect":"KhtmlUserSelect"in D?"KhtmlUserSelect":"",y.util.makeElementUnselectable=function V(W){return typeof W.onselectstart<"u"&&(W.onselectstart=y.util.falseFunction),H?W.style[H]="none":"string"==typeof W.unselectable&&(W.unselectable="on"),W},y.util.makeElementSelectable=function G(W){return typeof W.onselectstart<"u"&&(W.onselectstart=null),H?W.style[H]="":"string"==typeof W.unselectable&&(W.unselectable=""),W},y.util.setImageSmoothing=function I(D,H){D.imageSmoothingEnabled=D.imageSmoothingEnabled||D.webkitImageSmoothingEnabled||D.mozImageSmoothingEnabled||D.msImageSmoothingEnabled||D.oImageSmoothingEnabled,D.imageSmoothingEnabled=H},y.util.getById=function h(D){return"string"==typeof D?y.document.getElementById(D):D},y.util.toArray=g,y.util.addClass=function a(D,H){D&&-1===(" "+D.className+" ").indexOf(" "+H+" ")&&(D.className+=(D.className?" ":"")+H)},y.util.makeElement=r,y.util.wrapElement=function s(D,H,V){return"string"==typeof H&&(H=r(H,V)),D.parentNode&&D.parentNode.replaceChild(H,D),H.appendChild(D),H},y.util.getScrollLeftTop=u,y.util.getElementOffset=function C(D){var H,ee,V=D&&D.ownerDocument,G={left:0,top:0},W={left:0,top:0},_e={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!V)return W;for(var ge in _e)W[_e[ge]]+=parseInt(d(D,ge),10)||0;return H=V.documentElement,typeof D.getBoundingClientRect<"u"&&(G=D.getBoundingClientRect()),ee=u(D),{left:G.left+ee.left-(H.clientLeft||0)+W.left,top:G.top+ee.top-(H.clientTop||0)+W.top}},y.util.getNodeCanvas=function x(D){var H=y.jsdomImplForWrapper(D);return H._canvas||H._image},y.util.cleanUpJsdomNode=function S(D){if(y.isLikelyNode){var H=y.jsdomImplForWrapper(D);H&&(H._image=null,H._canvas=null,H._currentSrc=null,H._attributes=null,H._classList=null)}}}(),function(){function h(){}y.util.request=function m(g,r){r||(r={});var a=r.method?r.method.toUpperCase():"GET",s=r.onComplete||function(){},u=new y.window.XMLHttpRequest,C=r.body||r.parameters;return u.onreadystatechange=function(){4===u.readyState&&(s(u),u.onreadystatechange=h)},"GET"===a&&(C=null,"string"==typeof r.parameters&&(g=function b(g,r){return g+(/\?/.test(g)?"&":"?")+r}(g,r.parameters))),u.open(a,g,!0),("POST"===a||"PUT"===a)&&u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(C),u}}(),y.log=console.log,y.warn=console.warn,function(){function b(){return!1}function h(u,C,d,x){return-d*Math.cos(u/x*(Math.PI/2))+d+C}var g=y.window.requestAnimationFrame||y.window.webkitRequestAnimationFrame||y.window.mozRequestAnimationFrame||y.window.oRequestAnimationFrame||y.window.msRequestAnimationFrame||function(u){return y.window.setTimeout(u,1e3/60)},r=y.window.cancelAnimationFrame||y.window.clearTimeout;function a(){return g.apply(y.window,arguments)}y.util.animate=function m(u){var C=!1;return a(function(d){u||(u={});var D,x=d||+new Date,S=u.duration||500,I=x+S,H=u.onChange||b,V=u.abort||b,G=u.onComplete||b,W=u.easing||h,ee="startValue"in u?u.startValue:0,_e="endValue"in u?u.endValue:100,ge=u.byValue||_e-ee;u.onStart&&u.onStart(),function Re(le){var Pe=(D=le||+new Date)>I?S:D-x,$=Pe/S,tt=W(Pe,ee,ge,S),Ae=Math.abs((tt-ee)/ge);if(!C){if(V(tt,Ae,$))return void G(_e,1,1);if(D>I)return H(_e,1,1),void G(_e,1,1);H(tt,Ae,$),a(Re)}}(x)}),function(){C=!0}},y.util.requestAnimFrame=a,y.util.cancelAnimFrame=function s(){return r.apply(y.window,arguments)}}(),function(){function b(m,g,r){var a="rgba("+parseInt(m[0]+r*(g[0]-m[0]),10)+","+parseInt(m[1]+r*(g[1]-m[1]),10)+","+parseInt(m[2]+r*(g[2]-m[2]),10);return(a+=","+(m&&g?parseFloat(m[3]+r*(g[3]-m[3])):1))+")"}y.util.animateColor=function h(m,g,r,a){var s=new y.Color(m).getSource(),u=new y.Color(g).getSource(),C=a.onComplete,d=a.onChange;return y.util.animate(y.util.object.extend(a=a||{},{duration:r||500,startValue:s,endValue:u,byValue:u,easing:function(x,S,I,D){return b(S,I,a.colorEasing?a.colorEasing(x,D):1-Math.cos(x/D*(Math.PI/2)))},onComplete:function(x,S,I){if(C)return C(b(u,u,0),S,I)},onChange:function(x,S,I){if(d){if(Array.isArray(x))return d(b(x,x,0),S,I);d(x,S,I)}}}))}}(),function(){function b(he,fe,se,ie){return he<Math.abs(fe)?(he=fe,ie=se/4):ie=0===fe&&0===he?se/(2*Math.PI)*Math.asin(1):se/(2*Math.PI)*Math.asin(fe/he),{a:he,c:fe,p:se,s:ie}}function h(he,fe,se){return he.a*Math.pow(2,10*(fe-=1))*Math.sin((fe*se-he.s)*(2*Math.PI)/he.p)}function tt(he,fe,se,ie){return se-Ae(ie-he,0,se,ie)+fe}function Ae(he,fe,se,ie){return(he/=ie)<.36363636363636365?se*(7.5625*he*he)+fe:he<.7272727272727273?se*(7.5625*(he-=.5454545454545454)*he+.75)+fe:he<.9090909090909091?se*(7.5625*(he-=.8181818181818182)*he+.9375)+fe:se*(7.5625*(he-=.9545454545454546)*he+.984375)+fe}y.util.ease={easeInQuad:function(he,fe,se,ie){return se*(he/=ie)*he+fe},easeOutQuad:function(he,fe,se,ie){return-se*(he/=ie)*(he-2)+fe},easeInOutQuad:function(he,fe,se,ie){return(he/=ie/2)<1?se/2*he*he+fe:-se/2*(--he*(he-2)-1)+fe},easeInCubic:function(he,fe,se,ie){return se*(he/=ie)*he*he+fe},easeOutCubic:function m(he,fe,se,ie){return se*((he=he/ie-1)*he*he+1)+fe},easeInOutCubic:function g(he,fe,se,ie){return(he/=ie/2)<1?se/2*he*he*he+fe:se/2*((he-=2)*he*he+2)+fe},easeInQuart:function r(he,fe,se,ie){return se*(he/=ie)*he*he*he+fe},easeOutQuart:function a(he,fe,se,ie){return-se*((he=he/ie-1)*he*he*he-1)+fe},easeInOutQuart:function s(he,fe,se,ie){return(he/=ie/2)<1?se/2*he*he*he*he+fe:-se/2*((he-=2)*he*he*he-2)+fe},easeInQuint:function u(he,fe,se,ie){return se*(he/=ie)*he*he*he*he+fe},easeOutQuint:function C(he,fe,se,ie){return se*((he=he/ie-1)*he*he*he*he+1)+fe},easeInOutQuint:function d(he,fe,se,ie){return(he/=ie/2)<1?se/2*he*he*he*he*he+fe:se/2*((he-=2)*he*he*he*he+2)+fe},easeInSine:function x(he,fe,se,ie){return-se*Math.cos(he/ie*(Math.PI/2))+se+fe},easeOutSine:function S(he,fe,se,ie){return se*Math.sin(he/ie*(Math.PI/2))+fe},easeInOutSine:function I(he,fe,se,ie){return-se/2*(Math.cos(Math.PI*he/ie)-1)+fe},easeInExpo:function D(he,fe,se,ie){return 0===he?fe:se*Math.pow(2,10*(he/ie-1))+fe},easeOutExpo:function H(he,fe,se,ie){return he===ie?fe+se:se*(1-Math.pow(2,-10*he/ie))+fe},easeInOutExpo:function V(he,fe,se,ie){return 0===he?fe:he===ie?fe+se:(he/=ie/2)<1?se/2*Math.pow(2,10*(he-1))+fe:se/2*(2-Math.pow(2,-10*--he))+fe},easeInCirc:function G(he,fe,se,ie){return-se*(Math.sqrt(1-(he/=ie)*he)-1)+fe},easeOutCirc:function W(he,fe,se,ie){return se*Math.sqrt(1-(he=he/ie-1)*he)+fe},easeInOutCirc:function ee(he,fe,se,ie){return(he/=ie/2)<1?-se/2*(Math.sqrt(1-he*he)-1)+fe:se/2*(Math.sqrt(1-(he-=2)*he)+1)+fe},easeInElastic:function _e(he,fe,se,ie){var K=0;return 0===he?fe:1==(he/=ie)?fe+se:(K||(K=.3*ie),-h(b(se,se,K,1.70158),he,ie)+fe)},easeOutElastic:function ge(he,fe,se,ie){var K=0;if(0===he)return fe;if(1==(he/=ie))return fe+se;K||(K=.3*ie);var ne=b(se,se,K,1.70158);return ne.a*Math.pow(2,-10*he)*Math.sin((he*ie-ne.s)*(2*Math.PI)/ne.p)+ne.c+fe},easeInOutElastic:function Re(he,fe,se,ie){var K=0;if(0===he)return fe;if(2==(he/=ie/2))return fe+se;K||(K=.44999999999999996*ie);var ne=b(se,se,K,1.70158);return he<1?-.5*h(ne,he,ie)+fe:ne.a*Math.pow(2,-10*(he-=1))*Math.sin((he*ie-ne.s)*(2*Math.PI)/ne.p)*.5+ne.c+fe},easeInBack:function le(he,fe,se,ie,xe){return void 0===xe&&(xe=1.70158),se*(he/=ie)*he*((xe+1)*he-xe)+fe},easeOutBack:function Pe(he,fe,se,ie,xe){return void 0===xe&&(xe=1.70158),se*((he=he/ie-1)*he*((xe+1)*he+xe)+1)+fe},easeInOutBack:function $(he,fe,se,ie,xe){return void 0===xe&&(xe=1.70158),(he/=ie/2)<1?se/2*(he*he*((1+(xe*=1.525))*he-xe))+fe:se/2*((he-=2)*he*((1+(xe*=1.525))*he+xe)+2)+fe},easeInBounce:tt,easeOutBounce:Ae,easeInOutBounce:function it(he,fe,se,ie){return he<ie/2?.5*tt(2*he,0,se,ie)+fe:.5*Ae(2*he-ie,0,se,ie)+.5*se+fe}}}(),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.util.object.extend,g=h.util.object.clone,r=h.util.toFixed,a=h.util.parseUnit,s=h.util.multiplyTransformMatrices,S={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},I={stroke:"strokeOpacity",fill:"fillOpacity"},D="font-size",H="clip-path";function V(K){return K in S?S[K]:K}function G(K,te,ne,ae){var be,Te="[object Array]"===Object.prototype.toString.call(te);if("fill"!==K&&"stroke"!==K||"none"!==te){if("strokeUniform"===K)return"non-scaling-stroke"===te;if("strokeDashArray"===K)te="none"===te?null:te.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===K)te=ne&&ne.transformMatrix?s(ne.transformMatrix,h.parseTransformAttribute(te)):h.parseTransformAttribute(te);else if("visible"===K)te="none"!==te&&"hidden"!==te,ne&&!1===ne.visible&&(te=!1);else if("opacity"===K)te=parseFloat(te),ne&&typeof ne.opacity<"u"&&(te*=ne.opacity);else if("textAnchor"===K)te="start"===te?"left":"end"===te?"right":"center";else if("charSpacing"===K)be=a(te,ae)/ae*1e3;else if("paintFirst"===K){var Ne=te.indexOf("fill"),De=te.indexOf("stroke");te="fill",(Ne>-1&&De>-1&&De<Ne||-1===Ne&&De>-1)&&(te="stroke")}else{if("href"===K||"xlink:href"===K||"font"===K)return te;if("imageSmoothing"===K)return"optimizeQuality"===te;be=Te?te.map(a):a(te,ae)}}else te="";return!Te&&isNaN(be)?te:be}function W(K){return new RegExp("^("+K.join("|")+")\\b","i")}function _e(K,te){var Te,be,Ne,ae=[];for(be=0,Ne=te.length;be<Ne;be++)Te=K.getElementsByTagName(te[be]),ae=ae.concat(Array.prototype.slice.call(Te));return ae}function Pe(K,te){var ne,ae=!0;return(ne=tt(K,te.pop()))&&te.length&&(ae=function $(K,te){for(var ne,ae=!0;K.parentNode&&1===K.parentNode.nodeType&&te.length;)ae&&(ne=te.pop()),ae=tt(K=K.parentNode,ne);return 0===te.length}(K,te)),ne&&ae&&0===te.length}function tt(K,te){var be,Ne,ne=K.nodeName,ae=K.getAttribute("class"),Te=K.getAttribute("id");if(be=new RegExp("^"+ne,"i"),te=te.replace(be,""),Te&&te.length&&(be=new RegExp("#"+Te+"(?![a-zA-Z\\-]+)","i"),te=te.replace(be,"")),ae&&te.length)for(Ne=(ae=ae.split(" ")).length;Ne--;)be=new RegExp("\\."+ae[Ne]+"(?![a-zA-Z\\-]+)","i"),te=te.replace(be,"");return 0===te.length}function Ae(K,te){var ne;if(K.getElementById&&(ne=K.getElementById(te)),ne)return ne;var ae,Te,be,Ne=K.getElementsByTagName("*");for(Te=0,be=Ne.length;Te<be;Te++)if(te===(ae=Ne[Te]).getAttribute("id"))return ae}h.svgValidTagNamesRegEx=W(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),h.svgViewBoxElementsRegEx=W(["symbol","image","marker","pattern","view","svg"]),h.svgInvalidAncestorsRegEx=W(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),h.svgValidParentsRegEx=W(["symbol","g","a","svg","clipPath","defs"]),h.cssRules={},h.gradientDefs={},h.clipPaths={},h.parseTransformAttribute=function(){function ne(Oe,st,ht){Oe[ht]=Math.tan(h.util.degreesToRadians(st[0]))}var Te=h.iMatrix,be=h.reNum,Ne=h.commaWsp,Me="(?:(?:(matrix)\\s*\\(\\s*("+be+")"+Ne+"("+be+")"+Ne+"("+be+")"+Ne+"("+be+")"+Ne+"("+be+")"+Ne+"("+be+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+be+")(?:"+Ne+"("+be+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+be+")(?:"+Ne+"("+be+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+be+")(?:"+Ne+"("+be+")"+Ne+"("+be+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+be+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+be+")\\s*\\)))",at=new RegExp("^\\s*(?:(?:"+Me+"(?:"+Ne+"*"+Me+")*)?)\\s*$"),rt=new RegExp(Me,"g");return function(Oe){var st=Te.concat(),ht=[];if(!Oe||Oe&&!at.test(Oe))return st;Oe.replace(rt,function(Nt){var St=new RegExp(Me).exec(Nt).filter(function(It){return!!It}),At=St[1],zt=St.slice(2).map(parseFloat);switch(At){case"translate":!function ae(Oe,st){Oe[4]=st[0],2===st.length&&(Oe[5]=st[1])}(st,zt);break;case"rotate":zt[0]=h.util.degreesToRadians(zt[0]),function K(Oe,st){var ht=h.util.cos(st[0]),mt=h.util.sin(st[0]),Nt=0,St=0;3===st.length&&(Nt=st[1],St=st[2]),Oe[0]=ht,Oe[1]=mt,Oe[2]=-mt,Oe[3]=ht,Oe[4]=Nt-(ht*Nt-mt*St),Oe[5]=St-(mt*Nt+ht*St)}(st,zt);break;case"scale":!function te(Oe,st){var mt=2===st.length?st[1]:st[0];Oe[0]=st[0],Oe[3]=mt}(st,zt);break;case"skewX":ne(st,zt,2);break;case"skewY":ne(st,zt,1);break;case"matrix":st=zt}ht.push(st.concat()),st=Te.concat()});for(var mt=ht[0];ht.length>1;)ht.shift(),mt=h.util.multiplyTransformMatrices(mt,ht[0]);return mt}}();var he=new RegExp("^\\s*("+h.reNum+"+)\\s*,?\\s*("+h.reNum+"+)\\s*,?\\s*("+h.reNum+"+)\\s*,?\\s*("+h.reNum+"+)\\s*$");function fe(K){if(!h.svgViewBoxElementsRegEx.test(K.nodeName))return{};var Ne,De,ke,me,Te,be,te=K.getAttribute("viewBox"),ne=1,ae=1,ce=K.getAttribute("width"),de=K.getAttribute("height"),ye=K.getAttribute("x")||0,Me=K.getAttribute("y")||0,Ie=K.getAttribute("preserveAspectRatio")||"",Xe=!te||!(te=te.match(he)),at=!ce||!de||"100%"===ce||"100%"===de,rt=Xe&&at,Oe={},st="",ht=0,mt=0;if(Oe.width=0,Oe.height=0,Oe.toBeParsed=rt,Xe&&(ye||Me)&&K.parentNode&&"#document"!==K.parentNode.nodeName&&(st=" translate("+a(ye)+" "+a(Me)+") ",ke=(K.getAttribute("transform")||"")+st,K.setAttribute("transform",ke),K.removeAttribute("x"),K.removeAttribute("y")),rt)return Oe;if(Xe)return Oe.width=a(ce),Oe.height=a(de),Oe;if(Te=-parseFloat(te[1]),be=-parseFloat(te[2]),Ne=parseFloat(te[3]),De=parseFloat(te[4]),Oe.minX=Te,Oe.minY=be,Oe.viewBoxWidth=Ne,Oe.viewBoxHeight=De,at?(Oe.width=Ne,Oe.height=De):(Oe.width=a(ce),Oe.height=a(de),ne=Oe.width/Ne,ae=Oe.height/De),"none"!==(Ie=h.util.parsePreserveAspectRatioAttribute(Ie)).alignX&&("meet"===Ie.meetOrSlice&&(ae=ne=ne>ae?ae:ne),"slice"===Ie.meetOrSlice&&(ae=ne=ne>ae?ne:ae),ht=Oe.width-Ne*ne,mt=Oe.height-De*ne,"Mid"===Ie.alignX&&(ht/=2),"Mid"===Ie.alignY&&(mt/=2),"Min"===Ie.alignX&&(ht=0),"Min"===Ie.alignY&&(mt=0)),1===ne&&1===ae&&0===Te&&0===be&&0===ye&&0===Me)return Oe;if((ye||Me)&&"#document"!==K.parentNode.nodeName&&(st=" translate("+a(ye)+" "+a(Me)+") "),ke=st+" matrix("+ne+" 0 0 "+ae+" "+(Te*ne+ht)+" "+(be*ae+mt)+") ","svg"===K.nodeName){for(me=K.ownerDocument.createElementNS(h.svgNS,"g");K.firstChild;)me.appendChild(K.firstChild);K.appendChild(me)}else(me=K).removeAttribute("x"),me.removeAttribute("y"),ke=me.getAttribute("transform")+ke;return me.setAttribute("transform",ke),Oe}function ie(K,te){var ae="xlink:href",be=Ae(K,te.getAttribute(ae).substr(1));if(be&&be.getAttribute(ae)&&ie(K,be),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach(function(De){be&&!te.hasAttribute(De)&&be.hasAttribute(De)&&te.setAttribute(De,be.getAttribute(De))}),!te.children.length)for(var Ne=be.cloneNode(!0);Ne.firstChild;)te.appendChild(Ne.firstChild);te.removeAttribute(ae)}h.parseSVGDocument=function(K,te,ne,ae){if(K){!function it(K){for(var te=_e(K,["use","svg:use"]),ne=0;te.length&&ne<te.length;){var ae=te[ne],Te=ae.getAttribute("xlink:href")||ae.getAttribute("href");if(null===Te)return;var ye,Me,Ie,Xe,be=Te.substr(1),Ne=ae.getAttribute("x")||0,De=ae.getAttribute("y")||0,ke=Ae(K,be).cloneNode(!0),me=(ke.getAttribute("transform")||"")+" translate("+Ne+", "+De+")",de=te.length,at=h.svgNS;if(fe(ke),/^svg$/i.test(ke.nodeName)){var rt=ke.ownerDocument.createElementNS(at,"g");for(Me=0,Xe=(Ie=ke.attributes).length;Me<Xe;Me++)ye=Ie.item(Me),rt.setAttributeNS(at,ye.nodeName,ye.nodeValue);for(;ke.firstChild;)rt.appendChild(ke.firstChild);ke=rt}for(Me=0,Xe=(Ie=ae.attributes).length;Me<Xe;Me++)"x"!==(ye=Ie.item(Me)).nodeName&&"y"!==ye.nodeName&&"xlink:href"!==ye.nodeName&&"href"!==ye.nodeName&&("transform"===ye.nodeName?me=ye.nodeValue+" "+me:ke.setAttribute(ye.nodeName,ye.nodeValue));ke.setAttribute("transform",me),ke.setAttribute("instantiated_by_use","1"),ke.removeAttribute("id"),ae.parentNode.replaceChild(ke,ae),te.length===de&&ne++}}(K);var be,Ne,Te=h.Object.__uid++,De=fe(K),ke=h.util.toArray(K.getElementsByTagName("*"));if(De.crossOrigin=ae&&ae.crossOrigin,De.svgUid=Te,0===ke.length&&h.isLikelyNode){var me=[];for(be=0,Ne=(ke=K.selectNodes('//*[name(.)!="svg"]')).length;be<Ne;be++)me[be]=ke[be];ke=me}var ce=ke.filter(function(ye){return fe(ye),h.svgValidTagNamesRegEx.test(ye.nodeName.replace("svg:",""))&&!function se(K,te){for(;K&&(K=K.parentNode);)if(K.nodeName&&te.test(K.nodeName.replace("svg:",""))&&!K.getAttribute("instantiated_by_use"))return!0;return!1}(ye,h.svgInvalidAncestorsRegEx)});if(!ce||ce&&!ce.length)return void(te&&te([],{}));var de={};ke.filter(function(ye){return"clipPath"===ye.nodeName.replace("svg:","")}).forEach(function(ye){var Me=ye.getAttribute("id");de[Me]=h.util.toArray(ye.getElementsByTagName("*")).filter(function(Ie){return h.svgValidTagNamesRegEx.test(Ie.nodeName.replace("svg:",""))})}),h.gradientDefs[Te]=h.getGradientDefs(K),h.cssRules[Te]=h.getCSSRules(K),h.clipPaths[Te]=de,h.parseElements(ce,function(ye,Me){te&&(te(ye,De,Me,ke),delete h.gradientDefs[Te],delete h.cssRules[Te],delete h.clipPaths[Te])},g(De),ne,ae)}};var xe=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+h.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+h.reNum+"))?\\s+(.*)");m(h,{parseFontDeclaration:function(K,te){var ne=K.match(xe);if(ne){var ae=ne[1],Te=ne[3],be=ne[4],Ne=ne[5],De=ne[6];ae&&(te.fontStyle=ae),Te&&(te.fontWeight=isNaN(parseFloat(Te))?Te:parseFloat(Te)),be&&(te.fontSize=a(be)),De&&(te.fontFamily=De),Ne&&(te.lineHeight="normal"===Ne?1:Ne)}},getGradientDefs:function(K){var ae,ne=_e(K,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),Te=0,be={};for(Te=ne.length;Te--;)(ae=ne[Te]).getAttribute("xlink:href")&&ie(K,ae),be[ae.getAttribute("id")]=ae;return be},parseAttributes:function(K,te,ne){if(K){var ae,be,Ne,Te={};typeof ne>"u"&&(ne=K.getAttribute("svgUid")),K.parentNode&&h.svgValidParentsRegEx.test(K.parentNode.nodeName)&&(Te=h.parseAttributes(K.parentNode,te,ne));var De=te.reduce(function(Ie,Xe){return(ae=K.getAttribute(Xe))&&(Ie[Xe]=ae),Ie},{}),ke=m(function le(K,te){var ne={};for(var ae in h.cssRules[te])if(Pe(K,ae.split(" ")))for(var Te in h.cssRules[te][ae])ne[Te]=h.cssRules[te][ae][Te];return ne}(K,ne),h.parseStyleAttribute(K));De=m(De,ke),ke[H]&&K.setAttribute(H,ke[H]),be=Ne=Te.fontSize||h.Text.DEFAULT_SVG_FONT_SIZE,De[D]&&(De[D]=be=a(De[D],Ne));var me,ce,de={};for(var ye in De)ce=G(me=V(ye),De[ye],Te,be),de[me]=ce;de&&de.font&&h.parseFontDeclaration(de.font,de);var Me=m(Te,de);return h.svgValidParentsRegEx.test(K.nodeName)?Me:function ee(K){for(var te in I)if(!(typeof K[I[te]]>"u"||""===K[te])){if(typeof K[te]>"u"){if(!h.Object.prototype[te])continue;K[te]=h.Object.prototype[te]}if(0!==K[te].indexOf("url(")){var ne=new h.Color(K[te]);K[te]=ne.setAlpha(r(ne.getAlpha()*K[I[te]],2)).toRgba()}}return K}(Me)}},parseElements:function(K,te,ne,ae,Te){new h.ElementsParser(K,te,ne,ae,Te).parse()},parseStyleAttribute:function(K){var te={},ne=K.getAttribute("style");return ne&&("string"==typeof ne?function ge(K,te){var ne,ae;K.replace(/;\s*$/,"").split(";").forEach(function(Te){var be=Te.split(":");ne=be[0].trim().toLowerCase(),ae=be[1].trim(),te[ne]=ae})}(ne,te):function Re(K,te){for(var Te in K)typeof K[Te]>"u"||(te[Te.toLowerCase()]=K[Te])}(ne,te)),te},parsePointsAttribute:function(K){if(!K)return null;var ne,ae,te=[];for(ne=0,ae=(K=(K=K.replace(/,/g," ").trim()).split(/\s+/)).length;ne<ae;ne+=2)te.push({x:parseFloat(K[ne]),y:parseFloat(K[ne+1])});return te},getCSSRules:function(K){var ne,ae,te=K.getElementsByTagName("style"),Te={};for(ne=0,ae=te.length;ne<ae;ne++){var Ne=te[ne].textContent;""!==(Ne=Ne.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&Ne.match(/[^{]*\{[\s\S]*?\}/g).map(function(De){return De.trim()}).forEach(function(De){var ke=De.match(/([\s\S]*?)\s*\{([^}]*)\}/),me={},de=ke[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(ne=0,ae=de.length;ne<ae;ne++){var ye=de[ne].split(/\s*:\s*/);me[ye[0]]=ye[1]}(De=ke[1]).split(",").forEach(function(Xe){""!==(Xe=Xe.replace(/^svg/i,"").trim())&&(Te[Xe]?h.util.object.extend(Te[Xe],me):Te[Xe]=h.util.object.clone(me))})})}return Te},loadSVGFromURL:function(K,te,ne,ae){K=K.replace(/^\n\s*/,"").trim(),new h.util.request(K,{method:"get",onComplete:function Te(be){var Ne=be.responseXML;if(!Ne||!Ne.documentElement)return te&&te(null),!1;h.parseSVGDocument(Ne.documentElement,function(De,ke,me,ce){te&&te(De,ke,me,ce)},ne,ae)}})},loadSVGFromString:function(K,te,ne,ae){var be=(new h.window.DOMParser).parseFromString(K.trim(),"text/xml");h.parseSVGDocument(be.documentElement,function(Ne,De,ke,me){te(Ne,De,ke,me)},ne,ae)}})}(R),y.ElementsParser=function(b,h,m,g,r,a){this.elements=b,this.callback=h,this.options=m,this.reviver=g,this.svgUid=m&&m.svgUid||0,this.parsingOptions=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=a},function(b){b.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},b.createObjects=function(){var h=this;this.elements.forEach(function(m,g){m.setAttribute("svgUid",h.svgUid),h.createObject(m,g)})},b.findTag=function(h){return y[y.util.string.capitalize(h.tagName.replace("svg:",""))]},b.createObject=function(h,m){var g=this.findTag(h);if(g&&g.fromElement)try{g.fromElement(h,this.createCallback(m,h),this.options)}catch(r){y.log(r)}else this.checkIfDone()},b.createCallback=function(h,m){var g=this;return function(r){var a;g.resolveGradient(r,m,"fill"),g.resolveGradient(r,m,"stroke"),r instanceof y.Image&&r._originalElement&&(a=r.parsePreserveAspectRatioAttribute(m)),r._removeTransformMatrix(a),g.resolveClipPath(r,m),g.reviver&&g.reviver(m,r),g.instances[h]=r,g.checkIfDone()}},b.extractPropertyDefinition=function(h,m,g){var r=h[m],a=this.regexUrl;if(a.test(r)){a.lastIndex=0;var s=a.exec(r)[1];return a.lastIndex=0,y[g][this.svgUid][s]}},b.resolveGradient=function(h,m,g){var r=this.extractPropertyDefinition(h,g,"gradientDefs");if(r){var a=m.getAttribute(g+"-opacity"),s=y.Gradient.fromElement(r,h,a,this.options);h.set(g,s)}},b.createClipPathCallback=function(h,m){return function(g){g._removeTransformMatrix(),g.fillRule=g.clipRule,m.push(g)}},b.resolveClipPath=function(h,m){var r,s,u,C,g=this.extractPropertyDefinition(h,"clipPath","clipPaths");if(g){u=[],s=y.util.invertTransform(h.calcTransformMatrix());for(var x=g[0].parentNode,S=m;S.parentNode&&S.getAttribute("clip-path")!==h.clipPath;)S=S.parentNode;S.parentNode.appendChild(x);for(var I=0;I<g.length;I++)this.findTag(r=g[I]).fromElement(r,this.createClipPathCallback(h,u),this.options);g=1===u.length?u[0]:new y.Group(u),C=y.util.multiplyTransformMatrices(s,g.calcTransformMatrix()),g.clipPath&&this.resolveClipPath(g,S);var d=y.util.qrDecompose(C);g.flipX=!1,g.flipY=!1,g.set("scaleX",d.scaleX),g.set("scaleY",d.scaleY),g.angle=d.angle,g.skewX=d.skewX,g.skewY=0,g.setPositionByOrigin({x:d.translateX,y:d.translateY},"center","center"),h.clipPath=g}else delete h.clipPath},b.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter(function(h){return null!=h}),this.callback(this.instances,this.elements))}}(y.ElementsParser.prototype),function(b){"use strict";var h=b.fabric||(b.fabric={});function m(g,r){this.x=g,this.y=r}h.Point?h.warn("fabric.Point is already defined"):(h.Point=m,m.prototype={type:"point",constructor:m,add:function(g){return new m(this.x+g.x,this.y+g.y)},addEquals:function(g){return this.x+=g.x,this.y+=g.y,this},scalarAdd:function(g){return new m(this.x+g,this.y+g)},scalarAddEquals:function(g){return this.x+=g,this.y+=g,this},subtract:function(g){return new m(this.x-g.x,this.y-g.y)},subtractEquals:function(g){return this.x-=g.x,this.y-=g.y,this},scalarSubtract:function(g){return new m(this.x-g,this.y-g)},scalarSubtractEquals:function(g){return this.x-=g,this.y-=g,this},multiply:function(g){return new m(this.x*g,this.y*g)},multiplyEquals:function(g){return this.x*=g,this.y*=g,this},divide:function(g){return new m(this.x/g,this.y/g)},divideEquals:function(g){return this.x/=g,this.y/=g,this},eq:function(g){return this.x===g.x&&this.y===g.y},lt:function(g){return this.x<g.x&&this.y<g.y},lte:function(g){return this.x<=g.x&&this.y<=g.y},gt:function(g){return this.x>g.x&&this.y>g.y},gte:function(g){return this.x>=g.x&&this.y>=g.y},lerp:function(g,r){return typeof r>"u"&&(r=.5),r=Math.max(Math.min(1,r),0),new m(this.x+(g.x-this.x)*r,this.y+(g.y-this.y)*r)},distanceFrom:function(g){var r=this.x-g.x,a=this.y-g.y;return Math.sqrt(r*r+a*a)},midPointFrom:function(g){return this.lerp(g)},min:function(g){return new m(Math.min(this.x,g.x),Math.min(this.y,g.y))},max:function(g){return new m(Math.max(this.x,g.x),Math.max(this.y,g.y))},toString:function(){return this.x+","+this.y},setXY:function(g,r){return this.x=g,this.y=r,this},setX:function(g){return this.x=g,this},setY:function(g){return this.y=g,this},setFromPoint:function(g){return this.x=g.x,this.y=g.y,this},swap:function(g){var r=this.x,a=this.y;this.x=g.x,this.y=g.y,g.x=r,g.y=a},clone:function(){return new m(this.x,this.y)}})}(R),function(b){"use strict";var h=b.fabric||(b.fabric={});function m(g){this.status=g,this.points=[]}h.Intersection?h.warn("fabric.Intersection is already defined"):(h.Intersection=m,h.Intersection.prototype={constructor:m,appendPoint:function(g){return this.points.push(g),this},appendPoints:function(g){return this.points=this.points.concat(g),this}},h.Intersection.intersectLineLine=function(g,r,a,s){var u,C=(s.x-a.x)*(g.y-a.y)-(s.y-a.y)*(g.x-a.x),d=(r.x-g.x)*(g.y-a.y)-(r.y-g.y)*(g.x-a.x),x=(s.y-a.y)*(r.x-g.x)-(s.x-a.x)*(r.y-g.y);if(0!==x){var S=C/x,I=d/x;0<=S&&S<=1&&0<=I&&I<=1?(u=new m("Intersection")).appendPoint(new h.Point(g.x+S*(r.x-g.x),g.y+S*(r.y-g.y))):u=new m}else u=new m(0===C||0===d?"Coincident":"Parallel");return u},h.Intersection.intersectLinePolygon=function(g,r,a){var x,S,s=new m,u=a.length;for(S=0;S<u;S++)x=m.intersectLineLine(g,r,a[S],a[(S+1)%u]),s.appendPoints(x.points);return s.points.length>0&&(s.status="Intersection"),s},h.Intersection.intersectPolygonPolygon=function(g,r){var u,a=new m,s=g.length;for(u=0;u<s;u++){var x=m.intersectLinePolygon(g[u],g[(u+1)%s],r);a.appendPoints(x.points)}return a.points.length>0&&(a.status="Intersection"),a},h.Intersection.intersectPolygonRectangle=function(g,r,a){var s=r.min(a),u=r.max(a),C=new h.Point(u.x,s.y),d=new h.Point(s.x,u.y),x=m.intersectLinePolygon(s,C,g),S=m.intersectLinePolygon(C,u,g),I=m.intersectLinePolygon(u,d,g),D=m.intersectLinePolygon(d,s,g),H=new m;return H.appendPoints(x.points),H.appendPoints(S.points),H.appendPoints(I.points),H.appendPoints(D.points),H.points.length>0&&(H.status="Intersection"),H})}(R),function(b){"use strict";var h=b.fabric||(b.fabric={});function m(r){r?this._tryParsingColor(r):this.setSource([0,0,0,1])}function g(r,a,s){return s<0&&(s+=1),s>1&&(s-=1),s<.16666666666666666?r+6*(a-r)*s:s<.5?a:s<.6666666666666666?r+(a-r)*(.6666666666666666-s)*6:r}h.Color?h.warn("fabric.Color is already defined."):(h.Color=m,h.Color.prototype={_tryParsingColor:function(r){var a;r in m.colorNameMap&&(r=m.colorNameMap[r]),"transparent"===r&&(a=[255,255,255,0]),a||(a=m.sourceFromHex(r)),a||(a=m.sourceFromRgb(r)),a||(a=m.sourceFromHsl(r)),a||(a=[0,0,0,1]),a&&this.setSource(a)},_rgbToHsl:function(r,a,s){var u,C,d,x=h.util.array.max([r/=255,a/=255,s/=255]),S=h.util.array.min([r,a,s]);if(d=(x+S)/2,x===S)u=C=0;else{var I=x-S;switch(C=d>.5?I/(2-x-S):I/(x+S),x){case r:u=(a-s)/I+(a<s?6:0);break;case a:u=(s-r)/I+2;break;case s:u=(r-a)/I+4}u/=6}return[Math.round(360*u),Math.round(100*C),Math.round(100*d)]},getSource:function(){return this._source},setSource:function(r){this._source=r},toRgb:function(){var r=this.getSource();return"rgb("+r[0]+","+r[1]+","+r[2]+")"},toRgba:function(){var r=this.getSource();return"rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+")"},toHsl:function(){var r=this.getSource(),a=this._rgbToHsl(r[0],r[1],r[2]);return"hsl("+a[0]+","+a[1]+"%,"+a[2]+"%)"},toHsla:function(){var r=this.getSource(),a=this._rgbToHsl(r[0],r[1],r[2]);return"hsla("+a[0]+","+a[1]+"%,"+a[2]+"%,"+r[3]+")"},toHex:function(){var a,s,u,r=this.getSource();return a=1===(a=r[0].toString(16)).length?"0"+a:a,s=1===(s=r[1].toString(16)).length?"0"+s:s,u=1===(u=r[2].toString(16)).length?"0"+u:u,a.toUpperCase()+s.toUpperCase()+u.toUpperCase()},toHexa:function(){var a,r=this.getSource();return a=1===(a=(a=Math.round(255*r[3])).toString(16)).length?"0"+a:a,this.toHex()+a.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(r){var a=this.getSource();return a[3]=r,this.setSource(a),this},toGrayscale:function(){var r=this.getSource(),a=parseInt((.3*r[0]+.59*r[1]+.11*r[2]).toFixed(0),10);return this.setSource([a,a,a,r[3]]),this},toBlackWhite:function(r){var a=this.getSource(),s=(.3*a[0]+.59*a[1]+.11*a[2]).toFixed(0),u=a[3];return r=r||127,s=Number(s)<Number(r)?0:255,this.setSource([s,s,s,u]),this},overlayWith:function(r){r instanceof m||(r=new m(r));var x,a=[],s=this.getAlpha(),C=this.getSource(),d=r.getSource();for(x=0;x<3;x++)a.push(Math.round(.5*C[x]+.5*d[x]));return a[3]=s,this.setSource(a),this}},h.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,h.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,h.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,h.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},h.Color.fromRgb=function(r){return m.fromSource(m.sourceFromRgb(r))},h.Color.sourceFromRgb=function(r){var a=r.match(m.reRGBa);if(a){var s=parseInt(a[1],10)/(/%$/.test(a[1])?100:1)*(/%$/.test(a[1])?255:1),u=parseInt(a[2],10)/(/%$/.test(a[2])?100:1)*(/%$/.test(a[2])?255:1),C=parseInt(a[3],10)/(/%$/.test(a[3])?100:1)*(/%$/.test(a[3])?255:1);return[parseInt(s,10),parseInt(u,10),parseInt(C,10),a[4]?parseFloat(a[4]):1]}},h.Color.fromRgba=m.fromRgb,h.Color.fromHsl=function(r){return m.fromSource(m.sourceFromHsl(r))},h.Color.sourceFromHsl=function(r){var a=r.match(m.reHSLa);if(a){var d,x,S,s=(parseFloat(a[1])%360+360)%360/360,u=parseFloat(a[2])/(/%$/.test(a[2])?100:1),C=parseFloat(a[3])/(/%$/.test(a[3])?100:1);if(0===u)d=x=S=C;else{var I=C<=.5?C*(u+1):C+u-C*u,D=2*C-I;d=g(D,I,s+.3333333333333333),x=g(D,I,s),S=g(D,I,s-.3333333333333333)}return[Math.round(255*d),Math.round(255*x),Math.round(255*S),a[4]?parseFloat(a[4]):1]}},h.Color.fromHsla=m.fromHsl,h.Color.fromHex=function(r){return m.fromSource(m.sourceFromHex(r))},h.Color.sourceFromHex=function(r){if(r.match(m.reHex)){var a=r.slice(r.indexOf("#")+1),s=3===a.length||4===a.length,u=8===a.length||4===a.length,C=s?a.charAt(0)+a.charAt(0):a.substring(0,2),d=s?a.charAt(1)+a.charAt(1):a.substring(2,4),x=s?a.charAt(2)+a.charAt(2):a.substring(4,6),S=u?s?a.charAt(3)+a.charAt(3):a.substring(6,8):"FF";return[parseInt(C,16),parseInt(d,16),parseInt(x,16),parseFloat((parseInt(S,16)/255).toFixed(2))]}},h.Color.fromSource=function(r){var a=new m;return a.setSource(r),a})}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=["e","se","s","sw","w","nw","n","ne","e"],g=["ns","nesw","ew","nwse"],r={},a="left",s="top",u="right",C="bottom",d="center",x={top:C,bottom:s,left:u,right:a,center:d},S=h.util.radiansToDegrees,I=Math.sign||function(me){return(me>0)-(me<0)||+me};function D(me,ce){var de=me.angle+S(Math.atan2(ce.y,ce.x))+360;return Math.round(de%360/45)}function H(me,ce){var de=ce.transform.target,ye=de.canvas,Me=h.util.object.clone(ce);Me.target=de,ye&&ye.fire("object:"+me,Me),de.fire(me,ce)}function V(me,ce){var de=ce.canvas,Me=me[de.uniScaleKey];return de.uniformScaling&&!Me||!de.uniformScaling&&Me}function G(me){return me.originX===d&&me.originY===d}function W(me,ce,de){var ye=me.lockScalingX,Me=me.lockScalingY;return!!(ye&&Me||!ce&&(ye||Me)&&de||ye&&"x"===ce||Me&&"y"===ce)}function Pe(me,ce,de,ye){return{e:me,transform:ce,pointer:{x:de,y:ye}}}function $(me){return function(ce,de,ye,Me){var Ie=de.target,Xe=Ie.getCenterPoint(),at=Ie.translateToOriginPoint(Xe,de.originX,de.originY),rt=me(ce,de,ye,Me);return Ie.setPositionByOrigin(at,de.originX,de.originY),rt}}function tt(me,ce){return function(de,ye,Me,Ie){var Xe=ce(de,ye,Me,Ie);return Xe&&H(me,Pe(de,ye,Me,Ie)),Xe}}function Ae(me,ce,de,ye,Me){var Ie=me.target,Xe=Ie.controls[me.corner],at=Ie.canvas.getZoom(),rt=Ie.padding/at,Oe=Ie.toLocalPoint(new h.Point(ye,Me),ce,de);return Oe.x>=rt&&(Oe.x-=rt),Oe.x<=-rt&&(Oe.x+=rt),Oe.y>=rt&&(Oe.y-=rt),Oe.y<=rt&&(Oe.y+=rt),Oe.x-=Xe.offsetX,Oe.y-=Xe.offsetY,Oe}function it(me){return me.flipX!==me.flipY}function he(me,ce,de,ye,Me){if(0!==me[ce]){var Ie=me._getTransformedDimensions()[ye];me.set(de,Me/Ie*me[de])}}function fe(me,ce,de,ye){var Oe,Me=ce.target,Ie=Me._getTransformedDimensions(0,Me.skewY),Xe=Ae(ce,ce.originX,ce.originY,de,ye),at=Math.abs(2*Xe.x)-Ie.x,rt=Me.skewX;at<2?Oe=0:(Oe=S(Math.atan2(at/Me.scaleX,Ie.y/Me.scaleY)),ce.originX===a&&ce.originY===C&&(Oe=-Oe),ce.originX===u&&ce.originY===s&&(Oe=-Oe),it(Me)&&(Oe=-Oe));var st=rt!==Oe;if(st){var ht=Me._getTransformedDimensions().y;Me.set("skewX",Oe),he(Me,"skewY","scaleY","y",ht)}return st}function se(me,ce,de,ye){var Oe,Me=ce.target,Ie=Me._getTransformedDimensions(Me.skewX,0),Xe=Ae(ce,ce.originX,ce.originY,de,ye),at=Math.abs(2*Xe.y)-Ie.y,rt=Me.skewY;at<2?Oe=0:(Oe=S(Math.atan2(at/Me.scaleY,Ie.x/Me.scaleX)),ce.originX===a&&ce.originY===C&&(Oe=-Oe),ce.originX===u&&ce.originY===s&&(Oe=-Oe),it(Me)&&(Oe=-Oe));var st=rt!==Oe;if(st){var ht=Me._getTransformedDimensions().x;Me.set("skewY",Oe),he(Me,"skewX","scaleX","x",ht)}return st}function te(me,ce,de,ye,Me){var Oe,st,ht,mt,At,zt,Ie=ce.target,Xe=Ie.lockScalingX,at=Ie.lockScalingY,rt=(Me=Me||{}).by,Nt=V(me,Ie),St=W(Ie,rt,Nt),It=ce.gestureScale;if(St)return!1;if(It)st=ce.scaleX*It,ht=ce.scaleY*It;else{if(Oe=Ae(ce,ce.originX,ce.originY,de,ye),At="y"!==rt?I(Oe.x):1,zt="x"!==rt?I(Oe.y):1,ce.signX||(ce.signX=At),ce.signY||(ce.signY=zt),Ie.lockScalingFlip&&(ce.signX!==At||ce.signY!==zt))return!1;if(mt=Ie._getTransformedDimensions(),Nt&&!rt){var Bt=Math.abs(Oe.x)+Math.abs(Oe.y),Gt=ce.original,je=Bt/(Math.abs(mt.x*Gt.scaleX/Ie.scaleX)+Math.abs(mt.y*Gt.scaleY/Ie.scaleY));st=Gt.scaleX*je,ht=Gt.scaleY*je}else st=Math.abs(Oe.x*Ie.scaleX/mt.x),ht=Math.abs(Oe.y*Ie.scaleY/mt.y);G(ce)&&(st*=2,ht*=2),ce.signX!==At&&"y"!==rt&&(ce.originX=x[ce.originX],st*=-1,ce.signX=At),ce.signY!==zt&&"x"!==rt&&(ce.originY=x[ce.originY],ht*=-1,ce.signY=zt)}var et=Ie.scaleX,nt=Ie.scaleY;return rt?("x"===rt&&Ie.set("scaleX",st),"y"===rt&&Ie.set("scaleY",ht)):(!Xe&&Ie.set("scaleX",st),!at&&Ie.set("scaleY",ht)),et!==Ie.scaleX||nt!==Ie.scaleY}r.scaleCursorStyleHandler=function ee(me,ce,de){var Me=V(me,de),Ie="";if(0!==ce.x&&0===ce.y?Ie="x":0===ce.x&&0!==ce.y&&(Ie="y"),W(de,Ie,Me))return"not-allowed";var Xe=D(de,ce);return m[Xe]+"-resize"},r.skewCursorStyleHandler=function _e(me,ce,de){if(0!==ce.x&&de.lockSkewingY||0!==ce.y&&de.lockSkewingX)return"not-allowed";var Me=D(de,ce)%4;return g[Me]+"-resize"},r.scaleSkewCursorStyleHandler=function ge(me,ce,de){return me[de.canvas.altActionKey]?r.skewCursorStyleHandler(me,ce,de):r.scaleCursorStyleHandler(me,ce,de)},r.rotationWithSnapping=tt("rotating",$(function K(me,ce,de,ye){var Me=ce,Ie=Me.target,Xe=Ie.translateToOriginPoint(Ie.getCenterPoint(),Me.originX,Me.originY);if(Ie.lockRotation)return!1;var st,at=Math.atan2(Me.ey-Xe.y,Me.ex-Xe.x),rt=Math.atan2(ye-Xe.y,de-Xe.x),Oe=S(rt-at+Me.theta);if(Ie.snapAngle>0){var ht=Ie.snapAngle,mt=Ie.snapThreshold||ht,Nt=Math.ceil(Oe/ht)*ht,St=Math.floor(Oe/ht)*ht;Math.abs(Oe-St)<mt?Oe=St:Math.abs(Oe-Nt)<mt&&(Oe=Nt)}return Oe<0&&(Oe=360+Oe),st=Ie.angle!==(Oe%=360),Ie.angle=Oe,st})),r.scalingEqually=tt("scaling",$(function ne(me,ce,de,ye){return te(me,ce,de,ye)})),r.scalingX=tt("scaling",$(function ae(me,ce,de,ye){return te(me,ce,de,ye,{by:"x"})})),r.scalingY=tt("scaling",$(function Te(me,ce,de,ye){return te(me,ce,de,ye,{by:"y"})})),r.scalingYOrSkewingX=function be(me,ce,de,ye){return me[ce.target.canvas.altActionKey]?r.skewHandlerX(me,ce,de,ye):r.scalingY(me,ce,de,ye)},r.scalingXOrSkewingY=function Ne(me,ce,de,ye){return me[ce.target.canvas.altActionKey]?r.skewHandlerY(me,ce,de,ye):r.scalingX(me,ce,de,ye)},r.changeWidth=tt("resizing",$(function De(me,ce,de,ye){var Me=ce.target,Ie=Ae(ce,ce.originX,ce.originY,de,ye),Xe=Me.strokeWidth/(Me.strokeUniform?Me.scaleX:1),at=G(ce)?2:1,rt=Me.width,Oe=Math.abs(Ie.x*at/Me.scaleX)-Xe;return Me.set("width",Math.max(Oe,0)),rt!==Oe})),r.skewHandlerX=function ie(me,ce,de,ye){var Xe,Me=ce.target,Ie=Me.skewX,at=ce.originY;return!Me.lockSkewingX&&(0===Ie?Xe=Ae(ce,d,d,de,ye).x>0?a:u:(Ie>0&&(Xe=at===s?a:u),Ie<0&&(Xe=at===s?u:a),it(Me)&&(Xe=Xe===a?u:a)),ce.originX=Xe,tt("skewing",$(fe))(me,ce,de,ye))},r.skewHandlerY=function xe(me,ce,de,ye){var Xe,Me=ce.target,Ie=Me.skewY,at=ce.originX;return!Me.lockSkewingY&&(0===Ie?Xe=Ae(ce,d,d,de,ye).y>0?s:C:(Ie>0&&(Xe=at===a?s:C),Ie<0&&(Xe=at===a?C:s),it(Me)&&(Xe=Xe===s?C:s)),ce.originY=Xe,tt("skewing",$(se))(me,ce,de,ye))},r.dragHandler=function ke(me,ce,de,ye){var Me=ce.target,Ie=de-ce.offsetX,Xe=ye-ce.offsetY,at=!Me.get("lockMovementX")&&Me.left!==Ie,rt=!Me.get("lockMovementY")&&Me.top!==Xe;return at&&Me.set("left",Ie),rt&&Me.set("top",Xe),(at||rt)&&H("moving",Pe(me,ce,de,ye)),at||rt},r.scaleOrSkewActionName=function Re(me,ce,de){var ye=me[de.canvas.altActionKey];return 0===ce.x?ye?"skewX":"scaleY":0===ce.y?ye?"skewY":"scaleX":void 0},r.rotationStyleHandler=function le(me,ce,de){return de.lockRotation?"not-allowed":ce.cursorStyle},r.fireEvent=H,r.wrapWithFixedAnchor=$,r.wrapWithFireEvent=tt,r.getLocalPoint=Ae,h.controlsUtils=r}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.util.degreesToRadians,g=h.controlsUtils;g.renderCircleControl=function r(s,u,C,d,x){d=d||{};var ee,S=this.sizeX||d.cornerSize||x.cornerSize,I=this.sizeY||d.cornerSize||x.cornerSize,D=typeof d.transparentCorners<"u"?d.transparentCorners:x.transparentCorners,H=D?"stroke":"fill",V=!D&&(d.cornerStrokeColor||x.cornerStrokeColor),G=u,W=C;s.save(),s.fillStyle=d.cornerColor||x.cornerColor,s.strokeStyle=d.cornerStrokeColor||x.cornerStrokeColor,S>I?(ee=S,s.scale(1,I/S),W=C*S/I):I>S?(ee=I,s.scale(S/I,1),G=u*I/S):ee=S,s.lineWidth=1,s.beginPath(),s.arc(G,W,ee/2,0,2*Math.PI,!1),s[H](),V&&s.stroke(),s.restore()},g.renderSquareControl=function a(s,u,C,d,x){d=d||{};var S=this.sizeX||d.cornerSize||x.cornerSize,I=this.sizeY||d.cornerSize||x.cornerSize,D=typeof d.transparentCorners<"u"?d.transparentCorners:x.transparentCorners,H=D?"stroke":"fill",V=!D&&(d.cornerStrokeColor||x.cornerStrokeColor),G=S/2,W=I/2;s.save(),s.fillStyle=d.cornerColor||x.cornerColor,s.strokeStyle=d.cornerStrokeColor||x.cornerStrokeColor,s.lineWidth=1,s.translate(u,C),s.rotate(m(x.angle)),s[H+"Rect"](-G,-W,S,I),V&&s.strokeRect(-G,-W,S,I),s.restore()}}(R),function(b){"use strict";var h=b.fabric||(b.fabric={});h.Control=function m(g){for(var r in g)this[r]=g[r]},h.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(g,r){return r.cursorStyle},getActionName:function(g,r){return r.actionName},getVisibility:function(g,r){var a=g._controlsVisibility;return a&&typeof a[r]<"u"?a[r]:this.visible},setVisibility:function(g){this.visible=g},positionHandler:function(g,r){return h.util.transformPoint({x:this.x*g.x+this.offsetX,y:this.y*g.y+this.offsetY},r)},calcCornerCoords:function(g,r,a,s,u){var C,d,x,S,I=u?this.touchSizeX:this.sizeX,D=u?this.touchSizeY:this.sizeY;if(I&&D&&I!==D){var H=Math.atan2(D,I),V=Math.sqrt(I*I+D*D)/2,G=H-h.util.degreesToRadians(g),W=Math.PI/2-H-h.util.degreesToRadians(g);C=V*h.util.cos(G),d=V*h.util.sin(G),x=V*h.util.cos(W),S=V*h.util.sin(W)}else V=.7071067812*(I&&D?I:r),G=h.util.degreesToRadians(45-g),C=x=V*h.util.cos(G),d=S=V*h.util.sin(G);return{tl:{x:a-S,y:s-x},tr:{x:a+C,y:s-d},bl:{x:a-C,y:s+d},br:{x:a+S,y:s+x}}},render:function(g,r,a,s,u){"circle"===((s=s||{}).cornerStyle||u.cornerStyle)?h.controlsUtils.renderCircleControl.call(this,g,r,a,s,u):h.controlsUtils.renderSquareControl.call(this,g,r,a,s,u)}}}(R),function(){function b(a,s){var d,x,S,I,u=a.getAttribute("style"),C=a.getAttribute("offset")||0;if(C=(C=parseFloat(C)/(/%$/.test(C)?100:1))<0?0:C>1?1:C,u){var D=u.split(/\s*;\s*/);for(""===D[D.length-1]&&D.pop(),I=D.length;I--;){var H=D[I].split(/\s*:\s*/),V=H[0].trim(),G=H[1].trim();"stop-color"===V?d=G:"stop-opacity"===V&&(S=G)}}return d||(d=a.getAttribute("stop-color")||"rgb(0,0,0)"),S||(S=a.getAttribute("stop-opacity")),x=(d=new y.Color(d)).getAlpha(),S=isNaN(parseFloat(S))?1:parseFloat(S),S*=x*s,{offset:C,color:d.toRgb(),opacity:S}}var g=y.util.object.clone;y.Gradient=y.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(a){a||(a={}),a.coords||(a.coords={});var s,u=this;Object.keys(a).forEach(function(C){u[C]=a[C]}),this.id?this.id+="_"+y.Object.__uid++:this.id=y.Object.__uid++,s={x1:a.coords.x1||0,y1:a.coords.y1||0,x2:a.coords.x2||0,y2:a.coords.y2||0},"radial"===this.type&&(s.r1=a.coords.r1||0,s.r2=a.coords.r2||0),this.coords=s,this.colorStops=a.colorStops.slice()},addColorStop:function(a){for(var s in a){var u=new y.Color(a[s]);this.colorStops.push({offset:parseFloat(s),color:u.toRgb(),opacity:u.getAlpha()})}return this},toObject:function(a){var s={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return y.util.populateWithProperties(this,s,a),s},toSVG:function(a,x){var C,d,S,I,u=g(this.coords,!0),D=(x=x||{},g(this.colorStops,!0)),H=u.r1>u.r2,V=this.gradientTransform?this.gradientTransform.concat():y.iMatrix.concat(),G=-this.offsetX,W=-this.offsetY,ee=!!x.additionalTransform,_e="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(D.sort(function($,tt){return $.offset-tt.offset}),"objectBoundingBox"===_e?(G/=a.width,W/=a.height):(G+=a.width/2,W+=a.height/2),"path"===a.type&&"percentage"!==this.gradientUnits&&(G-=a.pathOffset.x,W-=a.pathOffset.y),V[4]-=G,V[5]-=W,I='id="SVGID_'+this.id+'" gradientUnits="'+_e+'"',I+=' gradientTransform="'+(ee?x.additionalTransform+" ":"")+y.util.matrixToSVG(V)+'" ',"linear"===this.type?S=["<linearGradient ",I,' x1="',u.x1,'" y1="',u.y1,'" x2="',u.x2,'" y2="',u.y2,'">\n']:"radial"===this.type&&(S=["<radialGradient ",I,' cx="',H?u.x1:u.x2,'" cy="',H?u.y1:u.y2,'" r="',H?u.r1:u.r2,'" fx="',H?u.x2:u.x1,'" fy="',H?u.y2:u.y1,'">\n']),"radial"===this.type){if(H)for((D=D.concat()).reverse(),C=0,d=D.length;C<d;C++)D[C].offset=1-D[C].offset;var ge=Math.min(u.r1,u.r2);if(ge>0){var le=ge/Math.max(u.r1,u.r2);for(C=0,d=D.length;C<d;C++)D[C].offset+=le*(1-D[C].offset)}}for(C=0,d=D.length;C<d;C++){var Pe=D[C];S.push("<stop ",'offset="',100*Pe.offset+"%",'" style="stop-color:',Pe.color,typeof Pe.opacity<"u"?";stop-opacity: "+Pe.opacity:";",'"/>\n')}return S.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),S.join("")},toLive:function(a){var s,C,d,u=y.util.object.clone(this.coords);if(this.type){for("linear"===this.type?s=a.createLinearGradient(u.x1,u.y1,u.x2,u.y2):"radial"===this.type&&(s=a.createRadialGradient(u.x1,u.y1,u.r1,u.x2,u.y2,u.r2)),C=0,d=this.colorStops.length;C<d;C++){var x=this.colorStops[C].color,S=this.colorStops[C].opacity,I=this.colorStops[C].offset;typeof S<"u"&&(x=new y.Color(x).setAlpha(S).toRgba()),s.addColorStop(I,x)}return s}}}),y.util.object.extend(y.Gradient,{fromElement:function(a,s,u,C){var d=parseFloat(u)/(/%$/.test(u)?100:1);d=d<0?0:d>1?1:d,isNaN(d)&&(d=1);var S,V,G,_e,x=a.getElementsByTagName("stop"),I="userSpaceOnUse"===a.getAttribute("gradientUnits")?"pixels":"percentage",D=a.getAttribute("gradientTransform")||"",H=[],W=0,ee=0;for("linearGradient"===a.nodeName||"LINEARGRADIENT"===a.nodeName?(S="linear",V=function h(a){return{x1:a.getAttribute("x1")||0,y1:a.getAttribute("y1")||0,x2:a.getAttribute("x2")||"100%",y2:a.getAttribute("y2")||0}}(a)):(S="radial",V=function m(a){return{x1:a.getAttribute("fx")||a.getAttribute("cx")||"50%",y1:a.getAttribute("fy")||a.getAttribute("cy")||"50%",r1:0,x2:a.getAttribute("cx")||"50%",y2:a.getAttribute("cy")||"50%",r2:a.getAttribute("r")||"50%"}}(a)),G=x.length;G--;)H.push(b(x[G],d));return _e=y.parseTransformAttribute(D),function r(a,s,u,C){var d,x;Object.keys(s).forEach(function(S){"Infinity"===(d=s[S])?x=1:"-Infinity"===d?x=0:(x=parseFloat(s[S],10),"string"==typeof d&&/^(\d+\.\d+)%|(\d+)%$/.test(d)&&(x*=.01,"pixels"===C&&(("x1"===S||"x2"===S||"r2"===S)&&(x*=u.viewBoxWidth||u.width),("y1"===S||"y2"===S)&&(x*=u.viewBoxHeight||u.height)))),s[S]=x})}(0,V,C,I),"pixels"===I&&(W=-s.left,ee=-s.top),new y.Gradient({id:a.getAttribute("id"),type:S,coords:V,colorStops:H,gradientUnits:I,gradientTransform:_e,offsetX:W,offsetY:ee})}})}(),function(){"use strict";var b=y.util.toFixed;y.Pattern=y.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(h,m){if(h||(h={}),this.id=y.Object.__uid++,this.setOptions(h),!h.source||h.source&&"string"!=typeof h.source)m&&m(this);else{var g=this;this.source=y.util.createImage(),y.util.loadImage(h.source,function(r,a){g.source=r,m&&m(g,a)},null,this.crossOrigin)}},toObject:function(h){var g,r,m=y.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?g=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(g=this.source.toDataURL()),r={type:"pattern",source:g,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:b(this.offsetX,m),offsetY:b(this.offsetY,m),patternTransform:this.patternTransform?this.patternTransform.concat():null},y.util.populateWithProperties(this,r,h),r},toSVG:function(h){var m="function"==typeof this.source?this.source():this.source,g=m.width/h.width,r=m.height/h.height,a=this.offsetX/h.width,s=this.offsetY/h.height,u="";return("repeat-x"===this.repeat||"no-repeat"===this.repeat)&&(r=1,s&&(r+=Math.abs(s))),("repeat-y"===this.repeat||"no-repeat"===this.repeat)&&(g=1,a&&(g+=Math.abs(a))),m.src?u=m.src:m.toDataURL&&(u=m.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+a+'" y="'+s+'" width="'+g+'" height="'+r+'">\n<image x="0" y="0" width="'+m.width+'" height="'+m.height+'" xlink:href="'+u+'"></image>\n</pattern>\n'},setOptions:function(h){for(var m in h)this[m]=h[m]},toLive:function(h){var m=this.source;return!m||typeof m.src<"u"&&(!m.complete||0===m.naturalWidth||0===m.naturalHeight)?"":h.createPattern(m,this.repeat)}})}(),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.util.toFixed;h.Shadow?h.warn("fabric.Shadow is already defined."):(h.Shadow=h.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(g){for(var r in"string"==typeof g&&(g=this._parseShadow(g)),g)this[r]=g[r];this.id=h.Object.__uid++},_parseShadow:function(g){var r=g.trim(),a=h.Shadow.reOffsetsAndBlur.exec(r)||[];return{color:(r.replace(h.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(a[1],10)||0,offsetY:parseFloat(a[2],10)||0,blur:parseFloat(a[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(g){var r=40,a=40,s=h.Object.NUM_FRACTION_DIGITS,u=h.util.rotateVector({x:this.offsetX,y:this.offsetY},h.util.degreesToRadians(-g.angle)),d=new h.Color(this.color);return g.width&&g.height&&(r=100*m((Math.abs(u.x)+this.blur)/g.width,s)+20,a=100*m((Math.abs(u.y)+this.blur)/g.height,s)+20),g.flipX&&(u.x*=-1),g.flipY&&(u.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+a+'%" height="'+(100+2*a)+'%" x="-'+r+'%" width="'+(100+2*r)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+m(this.blur?this.blur/2:0,s)+'"></feGaussianBlur>\n\t<feOffset dx="'+m(u.x,s)+'" dy="'+m(u.y,s)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+d.toRgb()+'" flood-opacity="'+d.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var g={},r=h.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(a){this[a]!==r[a]&&(g[a]=this[a])},this),g}}),h.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(R),function(){"use strict";if(y.StaticCanvas)y.warn("fabric.StaticCanvas is already defined.");else{var b=y.util.object.extend,h=y.util.getElementOffset,m=y.util.removeFromArray,g=y.util.toFixed,r=y.util.transformPoint,a=y.util.invertTransform,s=y.util.getNodeCanvas,u=y.util.createCanvasElement,C=new Error("Could not initialize `canvas` element");y.StaticCanvas=y.util.createClass(y.CommonMethods,{initialize:function(d,x){x||(x={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(d,x)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:y.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(d,x){var S=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(d),this._initOptions(x),this.interactive||this._initRetinaScaling(),x.overlayImage&&this.setOverlayImage(x.overlayImage,S),x.backgroundImage&&this.setBackgroundImage(x.backgroundImage,S),x.backgroundColor&&this.setBackgroundColor(x.backgroundColor,S),x.overlayColor&&this.setOverlayColor(x.overlayColor,S),this.calcOffset()},_isRetinaScaling:function(){return 1!==y.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?y.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var d=y.devicePixelRatio;this.__initRetinaScaling(d,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(d,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(d,x,S){x.setAttribute("width",this.width*d),x.setAttribute("height",this.height*d),S.scale(d,d)},calcOffset:function(){return this._offset=h(this.lowerCanvasEl),this},setOverlayImage:function(d,x,S){return this.__setBgOverlayImage("overlayImage",d,x,S)},setBackgroundImage:function(d,x,S){return this.__setBgOverlayImage("backgroundImage",d,x,S)},setOverlayColor:function(d,x){return this.__setBgOverlayColor("overlayColor",d,x)},setBackgroundColor:function(d,x){return this.__setBgOverlayColor("backgroundColor",d,x)},__setBgOverlayImage:function(d,x,S,I){return"string"==typeof x?y.util.loadImage(x,function(D,H){if(D){var V=new y.Image(D,I);this[d]=V,V.canvas=this}S&&S(D,H)},this,I&&I.crossOrigin):(I&&x.setOptions(I),this[d]=x,x&&(x.canvas=this),S&&S(x,!1)),this},__setBgOverlayColor:function(d,x,S){return this[d]=x,this._initGradient(x,d),this._initPattern(x,d,S),this},_createCanvasElement:function(){var d=u();if(!d||(d.style||(d.style={}),typeof d.getContext>"u"))throw C;return d},_initOptions:function(d){var x=this.lowerCanvasEl;this._setOptions(d),this.width=this.width||parseInt(x.width,10)||0,this.height=this.height||parseInt(x.height,10)||0,this.lowerCanvasEl.style&&(x.width=this.width,x.height=this.height,x.style.width=this.width+"px",x.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(d){this.lowerCanvasEl=d&&d.getContext?d:y.util.getById(d)||this._createCanvasElement(),y.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(d,x){return this.setDimensions({width:d},x)},setHeight:function(d,x){return this.setDimensions({height:d},x)},setDimensions:function(d,x){var S;for(var I in x=x||{},d)S=d[I],x.cssOnly||(this._setBackstoreDimension(I,d[I]),S+="px",this.hasLostContext=!0),x.backstoreOnly||this._setCssDimension(I,S);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),x.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(d,x){return this.lowerCanvasEl[d]=x,this.upperCanvasEl&&(this.upperCanvasEl[d]=x),this.cacheCanvasEl&&(this.cacheCanvasEl[d]=x),this[d]=x,this},_setCssDimension:function(d,x){return this.lowerCanvasEl.style[d]=x,this.upperCanvasEl&&(this.upperCanvasEl.style[d]=x),this.wrapperEl&&(this.wrapperEl.style[d]=x),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(d){var D,H,V,x=this._activeObject,S=this.backgroundImage,I=this.overlayImage;for(this.viewportTransform=d,H=0,V=this._objects.length;H<V;H++)(D=this._objects[H]).group||D.setCoords(!0);return x&&x.setCoords(),S&&S.setCoords(!0),I&&I.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(d,x){var S=d,I=this.viewportTransform.slice(0);d=r(d,a(this.viewportTransform)),I[0]=x,I[3]=x;var D=r(d,I);return I[4]+=S.x-D.x,I[5]+=S.y-D.y,this.setViewportTransform(I)},setZoom:function(d){return this.zoomToPoint(new y.Point(0,0),d),this},absolutePan:function(d){var x=this.viewportTransform.slice(0);return x[4]=-d.x,x[5]=-d.y,this.setViewportTransform(x)},relativePan:function(d){return this.absolutePan(new y.Point(-d.x-this.viewportTransform[4],-d.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(d){this.stateful&&d.setupState(),d._set("canvas",this),d.setCoords(),this.fire("object:added",{target:d}),d.fire("added")},_onObjectRemoved:function(d){this.fire("object:removed",{target:d}),d.fire("removed"),delete d.canvas},clearContext:function(d){return d.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){return this.renderCanvas(this.contextContainer,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=y.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var d={},x=this.width,S=this.height,I=a(this.viewportTransform);return d.tl=r({x:0,y:0},I),d.br=r({x,y:S},I),d.tr=new y.Point(d.br.x,d.tl.y),d.bl=new y.Point(d.tl.x,d.br.y),this.vptCoords=d,d},cancelRequestedRender:function(){this.isRendering&&(y.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(d,x){var S=this.viewportTransform,I=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(d),y.util.setImageSmoothing(d,this.imageSmoothingEnabled),this.fire("before:render",{ctx:d}),this._renderBackground(d),d.save(),d.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._renderObjects(d,x),d.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(d),I&&(I.canvas=this,I.shouldCache(),I._transformDone=!0,I.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(d)),this._renderOverlay(d),this.controlsAboveOverlay&&this.interactive&&this.drawControls(d),this.fire("after:render",{ctx:d})},drawClipPathOnCanvas:function(d){var x=this.viewportTransform,S=this.clipPath;d.save(),d.transform(x[0],x[1],x[2],x[3],x[4],x[5]),d.globalCompositeOperation="destination-in",S.transform(d),d.scale(1/S.zoomX,1/S.zoomY),d.drawImage(S._cacheCanvas,-S.cacheTranslationX,-S.cacheTranslationY),d.restore()},_renderObjects:function(d,x){var S,I;for(S=0,I=x.length;S<I;++S)x[S]&&x[S].render(d)},_renderBackgroundOrOverlay:function(d,x){var S=this[x+"Color"],I=this[x+"Image"],D=this.viewportTransform,H=this[x+"Vpt"];if(S||I){if(S){d.save(),d.beginPath(),d.moveTo(0,0),d.lineTo(this.width,0),d.lineTo(this.width,this.height),d.lineTo(0,this.height),d.closePath(),d.fillStyle=S.toLive?S.toLive(d,this):S,H&&d.transform(D[0],D[1],D[2],D[3],D[4],D[5]),d.transform(1,0,0,1,S.offsetX||0,S.offsetY||0);var V=S.gradientTransform||S.patternTransform;V&&d.transform(V[0],V[1],V[2],V[3],V[4],V[5]),d.fill(),d.restore()}I&&(d.save(),H&&d.transform(D[0],D[1],D[2],D[3],D[4],D[5]),I.render(d),d.restore())}},_renderBackground:function(d){this._renderBackgroundOrOverlay(d,"background")},_renderOverlay:function(d){this._renderBackgroundOrOverlay(d,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(d){return this._centerObject(d,new y.Point(this.getCenter().left,d.getCenterPoint().y))},centerObjectV:function(d){return this._centerObject(d,new y.Point(d.getCenterPoint().x,this.getCenter().top))},centerObject:function(d){var x=this.getCenter();return this._centerObject(d,new y.Point(x.left,x.top))},viewportCenterObject:function(d){var x=this.getVpCenter();return this._centerObject(d,x)},viewportCenterObjectH:function(d){var x=this.getVpCenter();return this._centerObject(d,new y.Point(x.x,d.getCenterPoint().y)),this},viewportCenterObjectV:function(d){var x=this.getVpCenter();return this._centerObject(d,new y.Point(d.getCenterPoint().x,x.y))},getVpCenter:function(){var d=this.getCenter(),x=a(this.viewportTransform);return r({x:d.left,y:d.top},x)},_centerObject:function(d,x){return d.setPositionByOrigin(x,"center","center"),d.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(d){return this.toDatalessObject(d)},toObject:function(d){return this._toObjectMethod("toObject",d)},toDatalessObject:function(d){return this._toObjectMethod("toDatalessObject",d)},_toObjectMethod:function(d,x){var S=this.clipPath,I={version:y.version,objects:this._toObjects(d,x)};return S&&!S.excludeFromExport&&(I.clipPath=this._toObject(this.clipPath,d,x)),b(I,this.__serializeBgOverlay(d,x)),y.util.populateWithProperties(this,I,x),I},_toObjects:function(d,x){return this._objects.filter(function(S){return!S.excludeFromExport}).map(function(S){return this._toObject(S,d,x)},this)},_toObject:function(d,x,S){var I;this.includeDefaultValues||(I=d.includeDefaultValues,d.includeDefaultValues=!1);var D=d[x](S);return this.includeDefaultValues||(d.includeDefaultValues=I),D},__serializeBgOverlay:function(d,x){var S={},I=this.backgroundImage,D=this.overlayImage,H=this.backgroundColor,V=this.overlayColor;return H&&H.toObject?H.excludeFromExport||(S.background=H.toObject(x)):H&&(S.background=H),V&&V.toObject?V.excludeFromExport||(S.overlay=V.toObject(x)):V&&(S.overlay=V),I&&!I.excludeFromExport&&(S.backgroundImage=this._toObject(I,d,x)),D&&!D.excludeFromExport&&(S.overlayImage=this._toObject(D,d,x)),S},svgViewportTransformation:!0,toSVG:function(d,x){d||(d={}),d.reviver=x;var S=[];return this._setSVGPreamble(S,d),this._setSVGHeader(S,d),this.clipPath&&S.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(S,"background"),this._setSVGBgOverlayImage(S,"backgroundImage",x),this._setSVGObjects(S,x),this.clipPath&&S.push("</g>\n"),this._setSVGBgOverlayColor(S,"overlay"),this._setSVGBgOverlayImage(S,"overlayImage",x),S.push("</svg>"),S.join("")},_setSVGPreamble:function(d,x){x.suppressPreamble||d.push('<?xml version="1.0" encoding="',x.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(d,x){var D,S=x.width||this.width,I=x.height||this.height,H='viewBox="0 0 '+this.width+" "+this.height+'" ',V=y.Object.NUM_FRACTION_DIGITS;x.viewBox?H='viewBox="'+x.viewBox.x+" "+x.viewBox.y+" "+x.viewBox.width+" "+x.viewBox.height+'" ':this.svgViewportTransformation&&(H='viewBox="'+g(-(D=this.viewportTransform)[4]/D[0],V)+" "+g(-D[5]/D[3],V)+" "+g(this.width/D[0],V)+" "+g(this.height/D[3],V)+'" '),d.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',S,'" ','height="',I,'" ',H,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",y.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(x),"</defs>\n")},createSVGClipPathMarkup:function(d){var x=this.clipPath;return x?(x.clipPathId="CLIPPATH_"+y.Object.__uid++,'<clipPath id="'+x.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(d.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var d=this;return["background","overlay"].map(function(S){var I=d[S+"Color"];if(I&&I.toLive){var D=d[S+"Vpt"],H=d.viewportTransform;return I.toSVG({width:d.width/(D?H[0]:1),height:d.height/(D?H[3]:1)},{additionalTransform:D?y.util.matrixToSVG(H):""})}}).join("")},createSVGFontFacesMarkup:function(){var S,I,D,H,V,W,ee,_e,d="",x={},ge=y.fontPaths,Re=[];for(this._objects.forEach(function Pe($){Re.push($),$._objects&&$._objects.forEach(Pe)}),ee=0,_e=Re.length;ee<_e;ee++)if(I=(S=Re[ee]).fontFamily,-1!==S.type.indexOf("text")&&!x[I]&&ge[I]&&(x[I]=!0,S.styles))for(V in D=S.styles)for(W in H=D[V])!x[I=H[W].fontFamily]&&ge[I]&&(x[I]=!0);for(var le in x)d+=["\t\t@font-face {\n","\t\t\tfont-family: '",le,"';\n","\t\t\tsrc: url('",ge[le],"');\n","\t\t}\n"].join("");return d&&(d=['\t<style type="text/css">',"<![CDATA[\n",d,"]]>","</style>\n"].join("")),d},_setSVGObjects:function(d,x){var S,I,D,H=this._objects;for(I=0,D=H.length;I<D;I++)!(S=H[I]).excludeFromExport&&this._setSVGObject(d,S,x)},_setSVGObject:function(d,x,S){d.push(x.toSVG(S))},_setSVGBgOverlayImage:function(d,x,S){this[x]&&!this[x].excludeFromExport&&this[x].toSVG&&d.push(this[x].toSVG(S))},_setSVGBgOverlayColor:function(d,x){var S=this[x+"Color"],D=this.width,H=this.height;if(S)if(S.toLive){var V=S.repeat,G=y.util.invertTransform(this.viewportTransform),ee=this[x+"Vpt"]?y.util.matrixToSVG(G):"";d.push('<rect transform="'+ee+" translate(",D/2,",",H/2,')"',' x="',S.offsetX-D/2,'" y="',S.offsetY-H/2,'" ','width="',"repeat-y"===V||"no-repeat"===V?S.source.width:D,'" height="',"repeat-x"===V||"no-repeat"===V?S.source.height:H,'" fill="url(#SVGID_'+S.id+')"',"></rect>\n")}else d.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',S,'"',"></rect>\n")},sendToBack:function(d){if(!d)return this;var S,I,D,x=this._activeObject;if(d===x&&"activeSelection"===d.type)for(S=(D=x._objects).length;S--;)m(this._objects,I=D[S]),this._objects.unshift(I);else m(this._objects,d),this._objects.unshift(d);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(d){if(!d)return this;var S,I,D,x=this._activeObject;if(d===x&&"activeSelection"===d.type)for(D=x._objects,S=0;S<D.length;S++)m(this._objects,I=D[S]),this._objects.push(I);else m(this._objects,d),this._objects.push(d);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(d,x){if(!d)return this;var I,D,H,V,G,S=this._activeObject,W=0;if(d===S&&"activeSelection"===d.type)for(G=S._objects,I=0;I<G.length;I++)(H=this._objects.indexOf(D=G[I]))>0+W&&(V=H-1,m(this._objects,D),this._objects.splice(V,0,D)),W++;else 0!==(H=this._objects.indexOf(d))&&(V=this._findNewLowerIndex(d,H,x),m(this._objects,d),this._objects.splice(V,0,d));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(d,x,S){var I,D;if(S){for(I=x,D=x-1;D>=0;--D)if(d.intersectsWithObject(this._objects[D])||d.isContainedWithinObject(this._objects[D])||this._objects[D].isContainedWithinObject(d)){I=D;break}}else I=x-1;return I},bringForward:function(d,x){if(!d)return this;var I,D,H,V,G,S=this._activeObject,W=0;if(d===S&&"activeSelection"===d.type)for(I=(G=S._objects).length;I--;)(H=this._objects.indexOf(D=G[I]))<this._objects.length-1-W&&(V=H+1,m(this._objects,D),this._objects.splice(V,0,D)),W++;else(H=this._objects.indexOf(d))!==this._objects.length-1&&(V=this._findNewUpperIndex(d,H,x),m(this._objects,d),this._objects.splice(V,0,d));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(d,x,S){var I,D,H;if(S){for(I=x,D=x+1,H=this._objects.length;D<H;++D)if(d.intersectsWithObject(this._objects[D])||d.isContainedWithinObject(this._objects[D])||this._objects[D].isContainedWithinObject(d)){I=D;break}}else I=x+1;return I},moveTo:function(d,x){return m(this._objects,d),this._objects.splice(x,0,d),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(y.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(d){d.dispose&&d.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),y.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),b(y.StaticCanvas.prototype,y.Observable),b(y.StaticCanvas.prototype,y.Collection),b(y.StaticCanvas.prototype,y.DataURLExporter),b(y.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(d){var x=u();if(!x||!x.getContext)return null;var S=x.getContext("2d");return S&&"setLineDash"===d?typeof S.setLineDash<"u":null}}),y.StaticCanvas.prototype.toJSON=y.StaticCanvas.prototype.toObject,y.isLikelyNode&&(y.StaticCanvas.prototype.createPNGStream=function(){var d=s(this.lowerCanvasEl);return d&&d.createPNGStream()},y.StaticCanvas.prototype.createJPEGStream=function(d){var x=s(this.lowerCanvasEl);return x&&x.createJPEGStream(d)})}}(),y.BaseBrush=y.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var b=this.canvas.contextTop;b.strokeStyle=this.color,b.lineWidth=this.width,b.lineCap=this.strokeLineCap,b.miterLimit=this.strokeMiterLimit,b.lineJoin=this.strokeLineJoin,b.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(b){var h=this.canvas.viewportTransform;b.save(),b.transform(h[0],h[1],h[2],h[3],h[4],h[5])},_setShadow:function(){if(this.shadow){var b=this.canvas,h=this.shadow,m=b.contextTop,g=b.getZoom();b&&b._isRetinaScaling()&&(g*=y.devicePixelRatio),m.shadowColor=h.color,m.shadowBlur=h.blur*g,m.shadowOffsetX=h.offsetX*g,m.shadowOffsetY=h.offsetY*g}},needsFullRender:function(){return new y.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var b=this.canvas.contextTop;b.shadowColor="",b.shadowBlur=b.shadowOffsetX=b.shadowOffsetY=0},_isOutSideCanvas:function(b){return b.x<0||b.x>this.canvas.getWidth()||b.y<0||b.y>this.canvas.getHeight()}}),y.PencilBrush=y.util.createClass(y.BaseBrush,{decimate:.4,initialize:function(b){this.canvas=b,this._points=[]},_drawSegment:function(b,h,m){var g=h.midPointFrom(m);return b.quadraticCurveTo(h.x,h.y,g.x,g.y),g},onMouseDown:function(b,h){this.canvas._isMainEvent(h.e)&&(this._prepareForDrawing(b),this._captureDrawingPath(b),this._render())},onMouseMove:function(b,h){if(this.canvas._isMainEvent(h.e)&&(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(b))&&this._captureDrawingPath(b)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var m=this._points,g=m.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,m[g-2],m[g-1],!0),r.stroke(),r.restore()}},onMouseUp:function(b){return!this.canvas._isMainEvent(b.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(b){var h=new y.Point(b.x,b.y);this._reset(),this._addPoint(h),this.canvas.contextTop.moveTo(h.x,h.y)},_addPoint:function(b){return!(this._points.length>1&&b.eq(this._points[this._points.length-1])||(this._points.push(b),0))},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(b){var h=new y.Point(b.x,b.y);return this._addPoint(h)},_render:function(){var h,m,b=this.canvas.contextTop,g=this._points[0],r=this._points[1];if(this._saveAndTransform(b),b.beginPath(),2===this._points.length&&g.x===r.x&&g.y===r.y){var a=this.width/1e3;g=new y.Point(g.x,g.y),r=new y.Point(r.x,r.y),g.x-=a,r.x+=a}for(b.moveTo(g.x,g.y),h=1,m=this._points.length;h<m;h++)this._drawSegment(b,g,r),g=this._points[h],r=this._points[h+1];b.lineTo(g.x,g.y),b.stroke(),b.restore()},convertPointsToSVGPath:function(b){return y.util.getSmoothPathFromPoints(b,this.width/1e3)},_isEmptySVGPath:function(b){return"M 0 0 Q 0 0 0 0 L 0 0"===y.util.joinPath(b)},createPath:function(b){var h=new y.Path(b,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,h.shadow=new y.Shadow(this.shadow)),h},decimatePoints:function(b,h){if(b.length<=2)return b;var r,m=this.canvas.getZoom(),g=Math.pow(h/m,2),a=b.length-1,s=b[0],u=[s];for(r=1;r<a-1;r++)Math.pow(s.x-b[r].x,2)+Math.pow(s.y-b[r].y,2)>=g&&u.push(s=b[r]);return u.push(b[a]),u},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var h=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(h))this.canvas.requestRenderAll();else{var m=this.createPath(h);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:m}),this.canvas.add(m),this.canvas.requestRenderAll(),m.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:m})}}}),y.CircleBrush=y.util.createClass(y.BaseBrush,{width:10,initialize:function(b){this.canvas=b,this.points=[]},drawDot:function(b){var h=this.addPoint(b),m=this.canvas.contextTop;this._saveAndTransform(m),this.dot(m,h),m.restore()},dot:function(b,h){b.fillStyle=h.fill,b.beginPath(),b.arc(h.x,h.y,h.radius,0,2*Math.PI,!1),b.closePath(),b.fill()},onMouseDown:function(b){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(b)},_render:function(){var h,m,b=this.canvas.contextTop,g=this.points;for(this._saveAndTransform(b),h=0,m=g.length;h<m;h++)this.dot(b,g[h]);b.restore()},onMouseMove:function(b){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(b)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(b),this._render()):this.drawDot(b))},onMouseUp:function(){var h,m,b=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var g=[];for(h=0,m=this.points.length;h<m;h++){var r=this.points[h],a=new y.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&(a.shadow=new y.Shadow(this.shadow)),g.push(a)}var s=new y.Group(g);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=b,this.canvas.requestRenderAll()},addPoint:function(b){var h=new y.Point(b.x,b.y),m=y.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,g=new y.Color(this.color).setAlpha(y.util.getRandomInt(0,100)/100).toRgba();return h.radius=m,h.fill=g,this.points.push(h),h}}),y.SprayBrush=y.util.createClass(y.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(b){this.canvas=b,this.sprayChunks=[]},onMouseDown:function(b){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(b),this.render(this.sprayChunkPoints)},onMouseMove:function(b){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(b)||(this.addSprayChunk(b),this.render(this.sprayChunkPoints))},onMouseUp:function(){var b=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var h=[],m=0,g=this.sprayChunks.length;m<g;m++)for(var r=this.sprayChunks[m],a=0,s=r.length;a<s;a++){var u=new y.Rect({width:r[a].width,height:r[a].width,left:r[a].x+1,top:r[a].y+1,originX:"center",originY:"center",fill:this.color});h.push(u)}this.optimizeOverlapping&&(h=this._getOptimizedRects(h));var C=new y.Group(h);this.shadow&&C.set("shadow",new y.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:C}),this.canvas.add(C),this.canvas.fire("path:created",{path:C}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=b,this.canvas.requestRenderAll()},_getOptimizedRects:function(b){var m,g,r,h={};for(g=0,r=b.length;g<r;g++)h[m=b[g].left+""+b[g].top]||(h[m]=b[g]);var a=[];for(m in h)a.push(h[m]);return a},render:function(b){var m,g,h=this.canvas.contextTop;for(h.fillStyle=this.color,this._saveAndTransform(h),m=0,g=b.length;m<g;m++){var r=b[m];typeof r.opacity<"u"&&(h.globalAlpha=r.opacity),h.fillRect(r.x,r.y,r.width,r.width)}h.restore()},_render:function(){var h,m,b=this.canvas.contextTop;for(b.fillStyle=this.color,this._saveAndTransform(b),h=0,m=this.sprayChunks.length;h<m;h++)this.render(this.sprayChunks[h]);b.restore()},addSprayChunk:function(b){this.sprayChunkPoints=[];var h,m,g,a,r=this.width/2;for(a=0;a<this.density;a++){h=y.util.getRandomInt(b.x-r,b.x+r),m=y.util.getRandomInt(b.y-r,b.y+r),g=this.dotWidthVariance?y.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new y.Point(h,m);s.width=g,this.randomOpacity&&(s.opacity=y.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),y.PatternBrush=y.util.createClass(y.PencilBrush,{getPatternSrc:function(){var m=y.util.createCanvasElement(),g=m.getContext("2d");return m.width=m.height=25,g.fillStyle=this.color,g.beginPath(),g.arc(10,10,10,0,2*Math.PI,!1),g.closePath(),g.fill(),m},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(b){var h=this.callSuper("createPath",b),m=h._getLeftTopCoords().scalarAdd(h.strokeWidth/2);return h.stroke=new y.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-m.x,offsetY:-m.y}),h}}),function(){var b=y.util.getPointer,h=y.util.degreesToRadians,m=y.util.isTouchEvent;for(var g in y.Canvas=y.util.createClass(y.StaticCanvas,{initialize:function(r,a){a||(a={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(r,a),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=y.PencilBrush&&new y.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var a,s,u,r=this.getActiveObjects();if(r.length>0&&!this.preserveObjectStacking){s=[],u=[];for(var C=0,d=this._objects.length;C<d;C++)-1===r.indexOf(a=this._objects[C])?s.push(a):u.push(a);r.length>1&&(this._activeObject._objects=u),s.push.apply(s,u)}else s=this._objects;return s},renderAll:function(){return this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop),this.renderCanvas(this.contextContainer,this._chooseObjectsToRender()),this},renderTopLayer:function(r){r.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(r),this.contextTopDirty=!0),r.restore()},renderTop:function(){var r=this.contextTop;return this.clearContext(r),this.renderTopLayer(r),this.fire("after:render"),this},_normalizePointer:function(r,a){var s=r.calcTransformMatrix(),u=y.util.invertTransform(s),C=this.restorePointerVpt(a);return y.util.transformPoint(C,u)},isTargetTransparent:function(r,a,s){if(r.shouldCache()&&r._cacheCanvas&&r!==this._activeObject){var u=this._normalizePointer(r,{x:a,y:s}),C=Math.max(r.cacheTranslationX+u.x*r.zoomX,0),d=Math.max(r.cacheTranslationY+u.y*r.zoomY,0);return y.util.isTransparent(r._cacheContext,Math.round(C),Math.round(d),this.targetFindTolerance)}var x=this.contextCache,S=r.selectionBackgroundColor,I=this.viewportTransform;return r.selectionBackgroundColor="",this.clearContext(x),x.save(),x.transform(I[0],I[1],I[2],I[3],I[4],I[5]),r.render(x),x.restore(),r.selectionBackgroundColor=S,y.util.isTransparent(x,a,s,this.targetFindTolerance)},_isSelectionKeyPressed:function(r){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find(function(s){return!0===r[s]}):r[this.selectionKey]},_shouldClearSelection:function(r,a){var s=this.getActiveObjects(),u=this._activeObject;return!a||a&&u&&s.length>1&&-1===s.indexOf(a)&&u!==a&&!this._isSelectionKeyPressed(r)||a&&!a.evented||a&&!a.selectable&&u&&u!==a},_shouldCenterTransform:function(r,a,s){var u;if(r)return"scale"===a||"scaleX"===a||"scaleY"===a||"resizing"===a?u=this.centeredScaling||r.centeredScaling:"rotate"===a&&(u=this.centeredRotation||r.centeredRotation),u?!s:s},_getOriginFromCorner:function(r,a){var s={x:r.originX,y:r.originY};return"ml"===a||"tl"===a||"bl"===a?s.x="right":("mr"===a||"tr"===a||"br"===a)&&(s.x="left"),"tl"===a||"mt"===a||"tr"===a?s.y="bottom":("bl"===a||"mb"===a||"br"===a)&&(s.y="top"),s},_getActionFromCorner:function(r,a,s,u){if(!a||!r)return"drag";var C=u.controls[a];return C.getActionName(s,C,u)},_setupCurrentTransform:function(r,a,s){if(a){var u=this.getPointer(r),C=a.__corner,d=a.controls[C],x=s&&C?d.getActionHandler(r,a,d):y.controlsUtils.dragHandler,S=this._getActionFromCorner(s,C,r,a),I=this._getOriginFromCorner(a,C),D=r[this.centeredKey],H={target:a,action:S,actionHandler:x,corner:C,scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,offsetX:u.x-a.left,offsetY:u.y-a.top,originX:I.x,originY:I.y,ex:u.x,ey:u.y,lastX:u.x,lastY:u.y,theta:h(a.angle),width:a.width*a.scaleX,shiftKey:r.shiftKey,altKey:D,original:y.util.saveObjectTransform(a)};this._shouldCenterTransform(a,S,D)&&(H.originX="center",H.originY="center"),H.original.originX=I.x,H.original.originY=I.y,this._currentTransform=H,this._beforeTransform(r)}},setCursor:function(r){this.upperCanvasEl.style.cursor=r},_drawSelection:function(r){var a=this._groupSelector,s=new y.Point(a.ex,a.ey),u=y.util.transformPoint(s,this.viewportTransform),C=new y.Point(a.ex+a.left,a.ey+a.top),d=y.util.transformPoint(C,this.viewportTransform),x=Math.min(u.x,d.x),S=Math.min(u.y,d.y),I=Math.max(u.x,d.x),D=Math.max(u.y,d.y),H=this.selectionLineWidth/2;this.selectionColor&&(r.fillStyle=this.selectionColor,r.fillRect(x,S,I-x,D-S)),this.selectionLineWidth&&this.selectionBorderColor&&(r.lineWidth=this.selectionLineWidth,r.strokeStyle=this.selectionBorderColor,x+=H,S+=H,I-=H,D-=H,y.Object.prototype._setLineDash.call(this,r,this.selectionDashArray),r.strokeRect(x,S,I-x,D-S))},findTarget:function(r,a){if(!this.skipTargetFind){var x,S,u=this.getPointer(r,!0),C=this._activeObject,d=this.getActiveObjects(),I=m(r),D=d.length>1&&!a||1===d.length;if(this.targets=[],D&&C._findTargetCorner(u,I)||d.length>1&&!a&&C===this._searchPossibleTargets([C],u))return C;if(1===d.length&&C===this._searchPossibleTargets([C],u)){if(!this.preserveObjectStacking)return C;x=C,S=this.targets,this.targets=[]}var H=this._searchPossibleTargets(this._objects,u);return r[this.altSelectionKey]&&H&&x&&H!==x&&(H=x,this.targets=S),H}},_checkTarget:function(r,a,s){if(a&&a.visible&&a.evented&&a.containsPoint(r)){if(!this.perPixelTargetFind&&!a.perPixelTargetFind||a.isEditing)return!0;if(!this.isTargetTransparent(a,s.x,s.y))return!0}},_searchPossibleTargets:function(r,a){for(var s,C,u=r.length;u--;){var d=r[u],x=d.group?this._normalizePointer(d.group,a):a;if(this._checkTarget(x,d,a)){(s=r[u]).subTargetCheck&&s instanceof y.Group&&(C=this._searchPossibleTargets(s._objects,a))&&this.targets.push(C);break}}return s},restorePointerVpt:function(r){return y.util.transformPoint(r,y.util.invertTransform(this.viewportTransform))},getPointer:function(r,a){if(this._absolutePointer&&!a)return this._absolutePointer;if(this._pointer&&a)return this._pointer;var S,s=b(r),u=this.upperCanvasEl,C=u.getBoundingClientRect(),d=C.width||0,x=C.height||0;(!d||!x)&&("top"in C&&"bottom"in C&&(x=Math.abs(C.top-C.bottom)),"right"in C&&"left"in C&&(d=Math.abs(C.right-C.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,a||(s=this.restorePointerVpt(s));var I=this.getRetinaScaling();return 1!==I&&(s.x/=I,s.y/=I),{x:s.x*(S=0===d||0===x?{width:1,height:1}:{width:u.width/d,height:u.height/x}).width,y:s.y*S.height}},_createUpperCanvas:function(){var r=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),a=this.lowerCanvasEl,s=this.upperCanvasEl;s?s.className="":(s=this._createCanvasElement(),this.upperCanvasEl=s),y.util.addClass(s,"upper-canvas "+r),this.wrapperEl.appendChild(s),this._copyCanvasStyle(a,s),this._applyCanvasStyle(s),this.contextTop=s.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=y.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),y.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),y.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(r){var a=this.width||r.width,s=this.height||r.height;y.util.setStyle(r,{position:"absolute",width:a+"px",height:s+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),r.width=a,r.height=s,y.util.makeElementUnselectable(r)},_copyCanvasStyle:function(r,a){a.style.cssText=r.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var r=this._activeObject;return r?"activeSelection"===r.type&&r._objects?r._objects.slice(0):[r]:[]},_onObjectRemoved:function(r){r===this._activeObject&&(this.fire("before:selection:cleared",{target:r}),this._discardActiveObject(),this.fire("selection:cleared",{target:r}),r.fire("deselected")),r===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",r)},_fireSelectionEvents:function(r,a){var s=!1,u=this.getActiveObjects(),C=[],d=[];r.forEach(function(x){-1===u.indexOf(x)&&(s=!0,x.fire("deselected",{e:a,target:x}),d.push(x))}),u.forEach(function(x){-1===r.indexOf(x)&&(s=!0,x.fire("selected",{e:a,target:x}),C.push(x))}),r.length>0&&u.length>0?s&&this.fire("selection:updated",{e:a,selected:C,deselected:d,updated:C[0]||d[0],target:this._activeObject}):u.length>0?this.fire("selection:created",{e:a,selected:C,target:this._activeObject}):r.length>0&&this.fire("selection:cleared",{e:a,deselected:d})},setActiveObject:function(r,a){var s=this.getActiveObjects();return this._setActiveObject(r,a),this._fireSelectionEvents(s,a),this},_setActiveObject:function(r,a){return!(this._activeObject===r||!this._discardActiveObject(a,r)||r.onSelect({e:a})||(this._activeObject=r,0))},_discardActiveObject:function(r,a){var s=this._activeObject;if(s){if(s.onDeselect({e:r,object:a}))return!1;this._activeObject=null}return!0},discardActiveObject:function(r){var a=this.getActiveObjects(),s=this.getActiveObject();return a.length&&this.fire("before:selection:cleared",{target:s,e:r}),this._discardActiveObject(r),this._fireSelectionEvents(a,r),this},dispose:function(){var r=this.wrapperEl;return this.removeListeners(),r.removeChild(this.upperCanvasEl),r.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(a){y.util.cleanUpJsdomNode(this[a]),this[a]=void 0}.bind(this)),r.parentNode&&r.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,y.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(r){var a=this._activeObject;a&&a._renderControls(r)},_toObject:function(r,a,s){var u=this._realizeGroupTransformOnObject(r),C=this.callSuper("_toObject",r,a,s);return this._unwindGroupTransformOnObject(r,u),C},_realizeGroupTransformOnObject:function(r){if(r.group&&"activeSelection"===r.group.type&&this._activeObject===r.group){var s={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(u){s[u]=r[u]}),y.util.addTransformToObject(r,this._activeObject.calcOwnMatrix()),s}return null},_unwindGroupTransformOnObject:function(r,a){a&&r.set(a)},_setSVGObject:function(r,a,s){var u=this._realizeGroupTransformOnObject(a);this.callSuper("_setSVGObject",r,a,s),this._unwindGroupTransformOnObject(a,u)},setViewportTransform:function(r){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),y.StaticCanvas.prototype.setViewportTransform.call(this,r)}}),y.StaticCanvas)"prototype"!==g&&(y.Canvas[g]=y.StaticCanvas[g])}(),function(){var b=y.util.addListener,h=y.util.removeListener,a={passive:!1};function s(u,C){return u.button&&u.button===C-1}y.util.object.extend(y.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(b,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(u,C){var d=this.upperCanvasEl,x=this._getEventPrefix();u(y.window,"resize",this._onResize),u(d,x+"down",this._onMouseDown),u(d,x+"move",this._onMouseMove,a),u(d,x+"out",this._onMouseOut),u(d,x+"enter",this._onMouseEnter),u(d,"wheel",this._onMouseWheel),u(d,"contextmenu",this._onContextMenu),u(d,"dblclick",this._onDoubleClick),u(d,"dragover",this._onDragOver),u(d,"dragenter",this._onDragEnter),u(d,"dragleave",this._onDragLeave),u(d,"drop",this._onDrop),this.enablePointerEvents||u(d,"touchstart",this._onTouchStart,a),typeof eventjs<"u"&&C in eventjs&&(eventjs[C](d,"gesture",this._onGesture),eventjs[C](d,"drag",this._onDrag),eventjs[C](d,"orientation",this._onOrientationChange),eventjs[C](d,"shake",this._onShake),eventjs[C](d,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(h,"remove");var u=this._getEventPrefix();h(y.document,u+"up",this._onMouseUp),h(y.document,"touchend",this._onTouchEnd,a),h(y.document,u+"move",this._onMouseMove,a),h(y.document,"touchmove",this._onMouseMove,a)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(u,C){this.__onTransformGesture&&this.__onTransformGesture(u,C)},_onDrag:function(u,C){this.__onDrag&&this.__onDrag(u,C)},_onMouseWheel:function(u){this.__onMouseWheel(u)},_onMouseOut:function(u){var C=this._hoveredTarget;this.fire("mouse:out",{target:C,e:u}),this._hoveredTarget=null,C&&C.fire("mouseout",{e:u});var d=this;this._hoveredTargets.forEach(function(x){d.fire("mouse:out",{target:C,e:u}),x&&C.fire("mouseout",{e:u})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(x){x.isEditing&&x.hiddenTextarea.focus()})},_onMouseEnter:function(u){!this._currentTransform&&!this.findTarget(u)&&(this.fire("mouse:over",{target:null,e:u}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(u,C){this.__onOrientationChange&&this.__onOrientationChange(u,C)},_onShake:function(u,C){this.__onShake&&this.__onShake(u,C)},_onLongPress:function(u,C){this.__onLongPress&&this.__onLongPress(u,C)},_onDragOver:function(u){u.preventDefault();var C=this._simpleEventHandler("dragover",u);this._fireEnterLeaveEvents(C,u)},_onContextMenu:function(u){return this.stopContextMenu&&(u.stopPropagation(),u.preventDefault()),!1},_onDoubleClick:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"dblclick"),this._resetTransformEventData(u)},getPointerId:function(u){var C=u.changedTouches;return C?C[0]&&C[0].identifier:this.enablePointerEvents?u.pointerId:-1},_isMainEvent:function(u){return!0===u.isPrimary||!1!==u.isPrimary&&("touchend"===u.type&&0===u.touches.length||!u.changedTouches||u.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(u){u.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(u)),this.__onMouseDown(u),this._resetTransformEventData();var C=this.upperCanvasEl,d=this._getEventPrefix();b(y.document,"touchend",this._onTouchEnd,a),b(y.document,"touchmove",this._onMouseMove,a),h(C,d+"down",this._onMouseDown)},_onMouseDown:function(u){this.__onMouseDown(u),this._resetTransformEventData();var C=this.upperCanvasEl,d=this._getEventPrefix();h(C,d+"move",this._onMouseMove,a),b(y.document,d+"up",this._onMouseUp),b(y.document,d+"move",this._onMouseMove,a)},_onTouchEnd:function(u){if(!(u.touches.length>0)){this.__onMouseUp(u),this._resetTransformEventData(),this.mainTouchId=null;var C=this._getEventPrefix();h(y.document,"touchend",this._onTouchEnd,a),h(y.document,"touchmove",this._onMouseMove,a);var d=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){b(d.upperCanvasEl,C+"down",d._onMouseDown),d._willAddMouseDown=0},400)}},_onMouseUp:function(u){this.__onMouseUp(u),this._resetTransformEventData();var C=this.upperCanvasEl,d=this._getEventPrefix();this._isMainEvent(u)&&(h(y.document,d+"up",this._onMouseUp),h(y.document,d+"move",this._onMouseMove,a),b(C,d+"move",this._onMouseMove,a))},_onMouseMove:function(u){!this.allowTouchScrolling&&u.preventDefault&&u.preventDefault(),this.__onMouseMove(u)},_onResize:function(){this.calcOffset()},_shouldRender:function(u){var C=this._activeObject;return!!(!!C!=!!u||C&&u&&C!==u)},__onMouseUp:function(u){var C,d=this._currentTransform,x=this._groupSelector,S=!1,I=!x||0===x.left&&0===x.top;if(this._cacheTransformEventData(u),C=this._target,this._handleEvent(u,"up:before"),s(u,3))this.fireRightClick&&this._handleEvent(u,"up",3,I);else{if(s(u,2))return this.fireMiddleClick&&this._handleEvent(u,"up",2,I),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(u);else if(this._isMainEvent(u)){if(d&&(this._finalizeCurrentTransform(u),S=d.actionPerformed),!I){var D=C===this._activeObject;this._maybeGroupObjects(u),S||(S=this._shouldRender(C)||!D&&C===this._activeObject)}if(C){if(C.selectable&&C!==this._activeObject&&"up"===C.activeOn)this.setActiveObject(C,u),S=!0;else{var H=C._findTargetCorner(this.getPointer(u,!0),y.util.isTouchEvent(u)),V=C.controls[H],G=V&&V.getMouseUpHandler(u,C,V);if(G){var W=this.getPointer(u);G(u,d,W.x,W.y)}}C.isMoving=!1}this._setCursorFromEvent(u,C),this._handleEvent(u,"up",1,I),this._groupSelector=null,this._currentTransform=null,C&&(C.__corner=0),S?this.requestRenderAll():I||this.renderTop()}}},_simpleEventHandler:function(u,C){var d=this.findTarget(C),x=this.targets,S={e:C,target:d,subTargets:x};if(this.fire(u,S),d&&d.fire(u,S),!x)return d;for(var I=0;I<x.length;I++)x[I].fire(u,S);return d},_handleEvent:function(u,C,d,x){var S=this._target,I=this.targets||[],D={e:u,target:S,subTargets:I,button:d||1,isClick:x||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===C&&(D.currentTarget=this.findTarget(u),D.currentSubTargets=this.targets),this.fire("mouse:"+C,D),S&&S.fire("mouse"+C,D);for(var H=0;H<I.length;H++)I[H].fire("mouse"+C,D)},_finalizeCurrentTransform:function(u){var x,C=this._currentTransform,d=C.target,S={e:u,target:d,transform:C,action:C.action};d._scaling&&(d._scaling=!1),d.setCoords(),(C.actionPerformed||this.stateful&&d.hasStateChanged())&&(C.actionPerformed&&(x=this._addEventOptions(S,C),this._fire(x,S)),this._fire("modified",S))},_addEventOptions:function(u,C){var d,x;switch(C.action){case"scaleX":d="scaled",x="x";break;case"scaleY":d="scaled",x="y";break;case"skewX":d="skewed",x="x";break;case"skewY":d="skewed",x="y";break;case"scale":d="scaled",x="equally";break;case"rotate":d="rotated";break;case"drag":d="moved"}return u.by=x,d},_onMouseDownInDrawingMode:function(u){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(u).requestRenderAll();var C=this.getPointer(u);this.freeDrawingBrush.onMouseDown(C,{e:u,pointer:C}),this._handleEvent(u,"down")},_onMouseMoveInDrawingMode:function(u){if(this._isCurrentlyDrawing){var C=this.getPointer(u);this.freeDrawingBrush.onMouseMove(C,{e:u,pointer:C})}this.setCursor(this.freeDrawingCursor),this._handleEvent(u,"move")},_onMouseUpInDrawingMode:function(u){var C=this.getPointer(u);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:u,pointer:C}),this._handleEvent(u,"up")},__onMouseDown:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"down:before");var C=this._target;if(s(u,3))this.fireRightClick&&this._handleEvent(u,"down",3);else if(s(u,2))this.fireMiddleClick&&this._handleEvent(u,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(u);else if(this._isMainEvent(u)&&!this._currentTransform){this._previousPointer=d=this._pointer;var x=this._shouldRender(C),S=this._shouldGroup(u,C);if(this._shouldClearSelection(u,C)?this.discardActiveObject(u):S&&(this._handleGrouping(u,C),C=this._activeObject),this.selection&&(!C||!C.selectable&&!C.isEditing&&C!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),C){var I=C===this._activeObject;C.selectable&&"down"===C.activeOn&&this.setActiveObject(C,u);var D=C._findTargetCorner(this.getPointer(u,!0),y.util.isTouchEvent(u));if(C.__corner=D,C===this._activeObject&&(D||!S)){this._setupCurrentTransform(u,C,I);var H=C.controls[D],d=this.getPointer(u),V=H&&H.getMouseDownHandler(u,C,H);V&&V(u,this._currentTransform,d.x,d.y)}}this._handleEvent(u,"down"),(x||S)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(u){this._resetTransformEventData(),this._pointer=this.getPointer(u,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(u)||null},_beforeTransform:function(u){var C=this._currentTransform;this.stateful&&C.target.saveState(),this.fire("before:transform",{e:u,transform:C})},__onMouseMove:function(u){var C,d;if(this._handleEvent(u,"move:before"),this._cacheTransformEventData(u),this.isDrawingMode)this._onMouseMoveInDrawingMode(u);else if(this._isMainEvent(u)){var x=this._groupSelector;x?(x.left=(d=this._absolutePointer).x-x.ex,x.top=d.y-x.ey,this.renderTop()):this._currentTransform?this._transformObject(u):(C=this.findTarget(u)||null,this._setCursorFromEvent(u,C),this._fireOverOutEvents(C,u)),this._handleEvent(u,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(u,C){var d=this._hoveredTarget,x=this._hoveredTargets,S=this.targets,I=Math.max(x.length,S.length);this.fireSyntheticInOutEvents(u,C,{oldTarget:d,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var D=0;D<I;D++)this.fireSyntheticInOutEvents(S[D],C,{oldTarget:x[D],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=u,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(u,C){var d=this._draggedoverTarget,x=this._hoveredTargets,S=this.targets,I=Math.max(x.length,S.length);this.fireSyntheticInOutEvents(u,C,{oldTarget:d,evtOut:"dragleave",evtIn:"dragenter"});for(var D=0;D<I;D++)this.fireSyntheticInOutEvents(S[D],C,{oldTarget:x[D],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=u},fireSyntheticInOutEvents:function(u,C,d){var x,S,H,I=d.oldTarget,V=I!==u,G=d.canvasEvtIn,W=d.canvasEvtOut;V&&(x={e:C,target:u,previousTarget:I},S={e:C,target:I,nextTarget:u}),H=u&&V,I&&V&&(W&&this.fire(W,S),I.fire(d.evtOut,S)),H&&(G&&this.fire(G,x),u.fire(d.evtIn,x))},__onMouseWheel:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"wheel"),this._resetTransformEventData()},_transformObject:function(u){var C=this.getPointer(u),d=this._currentTransform;d.reset=!1,d.shiftKey=u.shiftKey,d.altKey=u[this.centeredKey],this._performTransformAction(u,d,C),d.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(u,C,d){var I=C.action,D=!1,H=C.actionHandler;H&&(D=H(u,C,d.x,d.y)),"drag"===I&&D&&(C.target.isMoving=!0,this.setCursor(C.target.moveCursor||this.moveCursor)),C.actionPerformed=C.actionPerformed||D},_fire:y.controlsUtils.fireEvent,_setCursorFromEvent:function(u,C){if(!C)return this.setCursor(this.defaultCursor),!1;var d=C.hoverCursor||this.hoverCursor,x=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,S=(!x||!x.contains(C))&&C._findTargetCorner(this.getPointer(u,!0));S?this.setCursor(this.getCornerCursor(S,C,u)):(C.subTargetCheck&&this.targets.concat().reverse().map(function(I){d=I.hoverCursor||d}),this.setCursor(d))},getCornerCursor:function(u,C,d){var x=C.controls[u];return x.cursorStyleHandler(d,x,C)}})}(),function(){var b=Math.min,h=Math.max;y.util.object.extend(y.Canvas.prototype,{_shouldGroup:function(m,g){var r=this._activeObject;return r&&this._isSelectionKeyPressed(m)&&g&&g.selectable&&this.selection&&(r!==g||"activeSelection"===r.type)&&!g.onSelect({e:m})},_handleGrouping:function(m,g){var r=this._activeObject;r.__corner||g===r&&(!(g=this.findTarget(m,!0))||!g.selectable)||(r&&"activeSelection"===r.type?this._updateActiveSelection(g,m):this._createActiveSelection(g,m))},_updateActiveSelection:function(m,g){var r=this._activeObject,a=r._objects.slice(0);r.contains(m)?(r.removeWithUpdate(m),this._hoveredTarget=m,this._hoveredTargets=this.targets.concat(),1===r.size()&&this._setActiveObject(r.item(0),g)):(r.addWithUpdate(m),this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(a,g)},_createActiveSelection:function(m,g){var r=this.getActiveObjects(),a=this._createGroup(m);this._hoveredTarget=a,this._setActiveObject(a,g),this._fireSelectionEvents(r,g)},_createGroup:function(m){var g=this._objects,a=g.indexOf(this._activeObject)<g.indexOf(m)?[this._activeObject,m]:[m,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new y.ActiveSelection(a,{canvas:this})},_groupSelectedObjects:function(m){var r,g=this._collectObjects(m);1===g.length?this.setActiveObject(g[0],m):g.length>1&&(r=new y.ActiveSelection(g.reverse(),{canvas:this}),this.setActiveObject(r,m))},_collectObjects:function(m){for(var r,g=[],a=this._groupSelector.ex,s=this._groupSelector.ey,u=a+this._groupSelector.left,C=s+this._groupSelector.top,d=new y.Point(b(a,u),b(s,C)),x=new y.Point(h(a,u),h(s,C)),S=!this.selectionFullyContained,I=a===u&&s===C,D=this._objects.length;D--&&!((r=this._objects[D])&&r.selectable&&r.visible&&(S&&r.intersectsWithRect(d,x,!0)||r.isContainedWithinRect(d,x,!0)||S&&r.containsPoint(d,null,!0)||S&&r.containsPoint(x,null,!0))&&(g.push(r),I)););return g.length>1&&(g=g.filter(function(H){return!H.onSelect({e:m})})),g},_maybeGroupObjects:function(m){this.selection&&this._groupSelector&&this._groupSelectedObjects(m),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),y.util.object.extend(y.StaticCanvas.prototype,{toDataURL:function(b){b||(b={});var h=b.format||"png",m=b.quality||1,g=(b.multiplier||1)*(b.enableRetinaScaling?this.getRetinaScaling():1),r=this.toCanvasElement(g,b);return y.util.toDataURL(r,h,m)},toCanvasElement:function(b,h){var m=((h=h||{}).width||this.width)*(b=b||1),g=(h.height||this.height)*b,r=this.getZoom(),a=this.width,s=this.height,u=r*b,C=this.viewportTransform,S=this.interactive,I=[u,0,0,u,(C[4]-(h.left||0))*b,(C[5]-(h.top||0))*b],D=this.enableRetinaScaling,H=y.util.createCanvasElement(),V=this.contextTop;return H.width=m,H.height=g,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=I,this.width=m,this.height=g,this.calcViewportBoundaries(),this.renderCanvas(H.getContext("2d"),this._objects),this.viewportTransform=C,this.width=a,this.height=s,this.calcViewportBoundaries(),this.interactive=S,this.enableRetinaScaling=D,this.contextTop=V,H}}),y.util.object.extend(y.StaticCanvas.prototype,{loadFromJSON:function(b,h,m){if(b){var g="string"==typeof b?JSON.parse(b):y.util.object.clone(b),r=this,a=g.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete g.clipPath,this._enlivenObjects(g.objects,function(u){r.clear(),r._setBgOverlay(g,function(){a?r._enlivenObjects([a],function(C){r.clipPath=C[0],r.__setupCanvas.call(r,g,u,s,h)}):r.__setupCanvas.call(r,g,u,s,h)})},m),this}},__setupCanvas:function(b,h,m,g){var r=this;h.forEach(function(a,s){r.insertAt(a,s)}),this.renderOnAddRemove=m,delete b.objects,delete b.backgroundImage,delete b.overlayImage,delete b.background,delete b.overlay,this._setOptions(b),this.renderAll(),g&&g()},_setBgOverlay:function(b,h){var m={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(b.backgroundImage||b.overlayImage||b.background||b.overlay){var g=function(){m.backgroundImage&&m.overlayImage&&m.backgroundColor&&m.overlayColor&&h&&h()};this.__setBgOverlay("backgroundImage",b.backgroundImage,m,g),this.__setBgOverlay("overlayImage",b.overlayImage,m,g),this.__setBgOverlay("backgroundColor",b.background,m,g),this.__setBgOverlay("overlayColor",b.overlay,m,g)}else h&&h()},__setBgOverlay:function(b,h,m,g){var r=this;if(!h)return m[b]=!0,void(g&&g());"backgroundImage"===b||"overlayImage"===b?y.util.enlivenObjects([h],function(a){r[b]=a[0],m[b]=!0,g&&g()}):this["set"+y.util.string.capitalize(b,!0)](h,function(){m[b]=!0,g&&g()})},_enlivenObjects:function(b,h,m){b&&0!==b.length?y.util.enlivenObjects(b,function(g){h&&h(g)},null,m):h&&h([])},_toDataURL:function(b,h){this.clone(function(m){h(m.toDataURL(b))})},_toDataURLWithMultiplier:function(b,h,m){this.clone(function(g){m(g.toDataURLWithMultiplier(b,h))})},clone:function(b,h){var m=JSON.stringify(this.toJSON(h));this.cloneWithoutData(function(g){g.loadFromJSON(m,function(){b&&b(g)})})},cloneWithoutData:function(b){var h=y.util.createCanvasElement();h.width=this.width,h.height=this.height;var m=new y.Canvas(h);this.backgroundImage?(m.setBackgroundImage(this.backgroundImage.src,function(){m.renderAll(),b&&b(m)}),m.backgroundImageOpacity=this.backgroundImageOpacity,m.backgroundImageStretch=this.backgroundImageStretch):b&&b(m)}}),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.util.object.extend,g=h.util.object.clone,r=h.util.toFixed,a=h.util.string.capitalize,s=h.util.degreesToRadians;h.Object||(h.Object=h.util.createClass(h.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!h.isLikelyNode,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(d){d&&this.setOptions(d)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=h.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(d){var x=h.perfLimitSizeTotal,S=d.width,I=d.height,D=h.maxCacheSideLimit,H=h.minCacheSideLimit;if(S<=D&&I<=D&&S*I<=x)return S<H&&(d.width=H),I<H&&(d.height=H),d;var G=h.util.limitDimsByArea(S/I,x),W=h.util.capValue,ee=W(H,G.x,D),_e=W(H,G.y,D);return S>ee&&(d.zoomX/=S/ee,d.width=ee,d.capped=!0),I>_e&&(d.zoomY/=I/_e,d.height=_e,d.capped=!0),d},_getCacheCanvasDimensions:function(){var d=this.getTotalObjectScaling(),x=this._getTransformedDimensions(0,0),S=x.x*d.scaleX/this.scaleX,I=x.y*d.scaleY/this.scaleY;return{width:S+2,height:I+2,zoomX:d.scaleX,zoomY:d.scaleY,x:S,y:I}},_updateCacheCanvas:function(){var d=this.canvas;if(this.noScaleCache&&d&&d._currentTransform){var S=d._currentTransform.action;if(this===d._currentTransform.target&&S.slice&&"scale"===S.slice(0,5))return!1}var W,ee,I=this._cacheCanvas,D=this._limitCacheSize(this._getCacheCanvasDimensions()),H=h.minCacheSideLimit,V=D.width,G=D.height,_e=D.zoomX,ge=D.zoomY,Re=V!==this.cacheWidth||G!==this.cacheHeight,Pe=Re||this.zoomX!==_e||this.zoomY!==ge,$=0,tt=0,Ae=!1;if(Re){var it=this._cacheCanvas.width,he=this._cacheCanvas.height,fe=V>it||G>he;Ae=fe||(V<.9*it||G<.9*he)&&it>H&&he>H,fe&&!D.capped&&(V>H||G>H)&&($=.1*V,tt=.1*G)}return this instanceof h.Text&&this.path&&(Pe=!0,Ae=!0,$+=this.getHeightOfLine(0)*this.zoomX,tt+=this.getHeightOfLine(0)*this.zoomY),!!Pe&&(Ae?(I.width=Math.ceil(V+$),I.height=Math.ceil(G+tt)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,I.width,I.height)),W=D.x/2,ee=D.y/2,this.cacheTranslationX=Math.round(I.width/2-W)+W,this.cacheTranslationY=Math.round(I.height/2-ee)+ee,this.cacheWidth=V,this.cacheHeight=G,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(_e,ge),this.zoomX=_e,this.zoomY=ge,!0)},setOptions:function(d){this._setOptions(d),this._initGradient(d.fill,"fill"),this._initGradient(d.stroke,"stroke"),this._initPattern(d.fill,"fill"),this._initPattern(d.stroke,"stroke")},transform:function(d){var S=this.calcTransformMatrix(!(this.group&&!this.group._transformDone||this.group&&this.canvas&&d===this.canvas.contextTop));d.transform(S[0],S[1],S[2],S[3],S[4],S[5])},toObject:function(d){var x=h.Object.NUM_FRACTION_DIGITS,S={type:this.type,version:h.version,originX:this.originX,originY:this.originY,left:r(this.left,x),top:r(this.top,x),width:r(this.width,x),height:r(this.height,x),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,x),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:r(this.strokeMiterLimit,x),scaleX:r(this.scaleX,x),scaleY:r(this.scaleY,x),angle:r(this.angle,x),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,x),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:r(this.skewX,x),skewY:r(this.skewY,x)};return this.clipPath&&!this.clipPath.excludeFromExport&&(S.clipPath=this.clipPath.toObject(d),S.clipPath.inverted=this.clipPath.inverted,S.clipPath.absolutePositioned=this.clipPath.absolutePositioned),h.util.populateWithProperties(this,S,d),this.includeDefaultValues||(S=this._removeDefaultValues(S)),S},toDatalessObject:function(d){return this.toObject(d)},_removeDefaultValues:function(d){var x=h.util.getKlass(d.type).prototype;return x.stateProperties.forEach(function(I){"left"!==I&&"top"!==I&&(d[I]===x[I]&&delete d[I],"[object Array]"===Object.prototype.toString.call(d[I])&&"[object Array]"===Object.prototype.toString.call(x[I])&&0===d[I].length&&0===x[I].length&&delete d[I])}),d},toString:function(){return"#<fabric."+a(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var d=h.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(d.scaleX),scaleY:Math.abs(d.scaleY)}},getTotalObjectScaling:function(){var d=this.getObjectScaling(),x=d.scaleX,S=d.scaleY;if(this.canvas){var I=this.canvas.getZoom(),D=this.canvas.getRetinaScaling();x*=I*D,S*=I*D}return{scaleX:x,scaleY:S}},getObjectOpacity:function(){var d=this.opacity;return this.group&&(d*=this.group.getObjectOpacity()),d},_set:function(d,x){var I=this[d]!==x,D=!1;return("scaleX"===d||"scaleY"===d)&&(x=this._constrainScale(x)),"scaleX"===d&&x<0?(this.flipX=!this.flipX,x*=-1):"scaleY"===d&&x<0?(this.flipY=!this.flipY,x*=-1):"shadow"!==d||!x||x instanceof h.Shadow?"dirty"===d&&this.group&&this.group.set("dirty",x):x=new h.Shadow(x),this[d]=x,I&&(D=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(d)>-1?(this.dirty=!0,D&&this.group.set("dirty",!0)):D&&this.stateProperties.indexOf(d)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:h.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(d){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(d.save(),this._setupCompositeOperation(d),this.drawSelectionBackground(d),this.transform(d),this._setOpacity(d),this._setShadow(d,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(d)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(d),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),d.restore())},renderCache:function(d){d=d||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,d.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!!("stroke"===this.paintFirst&&this.hasFill()&&this.hasStroke()&&"object"==typeof this.shadow||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(d){var x=this.clipPath;if(d.save(),d.globalCompositeOperation=x.inverted?"destination-out":"destination-in",x.absolutePositioned){var S=h.util.invertTransform(this.calcTransformMatrix());d.transform(S[0],S[1],S[2],S[3],S[4],S[5])}x.transform(d),d.scale(1/x.zoomX,1/x.zoomY),d.drawImage(x._cacheCanvas,-x.cacheTranslationX,-x.cacheTranslationY),d.restore()},drawObject:function(d,x){var S=this.fill,I=this.stroke;x?(this.fill="black",this.stroke="",this._setClippingProperties(d)):this._renderBackground(d),this._render(d),this._drawClipPath(d),this.fill=S,this.stroke=I},_drawClipPath:function(d){var x=this.clipPath;x&&(x.canvas=this.canvas,x.shouldCache(),x._transformDone=!0,x.renderCache({forClipping:!0}),this.drawClipPathOnCache(d))},drawCacheOnCanvas:function(d){d.scale(1/this.zoomX,1/this.zoomY),d.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(d){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!d&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!d){var x=this.cacheWidth/this.zoomX,S=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-x/2,-S/2,x,S)}return!0}return!1},_renderBackground:function(d){if(this.backgroundColor){var x=this._getNonTransformedDimensions();d.fillStyle=this.backgroundColor,d.fillRect(-x.x/2,-x.y/2,x.x,x.y),this._removeShadow(d)}},_setOpacity:function(d){this.group&&!this.group._transformDone?d.globalAlpha=this.getObjectOpacity():d.globalAlpha*=this.opacity},_setStrokeStyles:function(d,x){var S=x.stroke;S&&(d.lineWidth=x.strokeWidth,d.lineCap=x.strokeLineCap,d.lineDashOffset=x.strokeDashOffset,d.lineJoin=x.strokeLineJoin,d.miterLimit=x.strokeMiterLimit,S.toLive?"percentage"===S.gradientUnits||S.gradientTransform||S.patternTransform?this._applyPatternForTransformedGradient(d,S):(d.strokeStyle=S.toLive(d,this),this._applyPatternGradientTransform(d,S)):d.strokeStyle=x.stroke)},_setFillStyles:function(d,x){var S=x.fill;S&&(S.toLive?(d.fillStyle=S.toLive(d,this),this._applyPatternGradientTransform(d,x.fill)):d.fillStyle=S)},_setClippingProperties:function(d){d.globalAlpha=1,d.strokeStyle="transparent",d.fillStyle="#000000"},_setLineDash:function(d,x){!x||0===x.length||(1&x.length&&x.push.apply(x,x),d.setLineDash(x))},_renderControls:function(d,x){var D,H,V,S=this.getViewportTransform(),I=this.calcTransformMatrix();H=typeof(x=x||{}).hasBorders<"u"?x.hasBorders:this.hasBorders,V=typeof x.hasControls<"u"?x.hasControls:this.hasControls,I=h.util.multiplyTransformMatrices(S,I),D=h.util.qrDecompose(I),d.save(),d.translate(D.translateX,D.translateY),d.lineWidth=1*this.borderScaleFactor,this.group||(d.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),d.rotate(s(D.angle)),x.forActiveSelection||this.group?H&&this.drawBordersInGroup(d,D,x):H&&this.drawBorders(d,x),V&&this.drawControls(d,x),d.restore()},_setShadow:function(d){if(this.shadow){var I,x=this.shadow,S=this.canvas,D=S&&S.viewportTransform[0]||1,H=S&&S.viewportTransform[3]||1;I=x.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),S&&S._isRetinaScaling()&&(D*=h.devicePixelRatio,H*=h.devicePixelRatio),d.shadowColor=x.color,d.shadowBlur=x.blur*h.browserShadowBlurConstant*(D+H)*(I.scaleX+I.scaleY)/4,d.shadowOffsetX=x.offsetX*D*I.scaleX,d.shadowOffsetY=x.offsetY*H*I.scaleY}},_removeShadow:function(d){this.shadow&&(d.shadowColor="",d.shadowBlur=d.shadowOffsetX=d.shadowOffsetY=0)},_applyPatternGradientTransform:function(d,x){if(!x||!x.toLive)return{offsetX:0,offsetY:0};var S=x.gradientTransform||x.patternTransform,I=-this.width/2+x.offsetX||0,D=-this.height/2+x.offsetY||0;return"percentage"===x.gradientUnits?d.transform(this.width,0,0,this.height,I,D):d.transform(1,0,0,1,I,D),S&&d.transform(S[0],S[1],S[2],S[3],S[4],S[5]),{offsetX:I,offsetY:D}},_renderPaintInOrder:function(d){"stroke"===this.paintFirst?(this._renderStroke(d),this._renderFill(d)):(this._renderFill(d),this._renderStroke(d))},_render:function(){},_renderFill:function(d){this.fill&&(d.save(),this._setFillStyles(d,this),"evenodd"===this.fillRule?d.fill("evenodd"):d.fill(),d.restore())},_renderStroke:function(d){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(d),d.save(),this.strokeUniform&&this.group){var x=this.getObjectScaling();d.scale(1/x.scaleX,1/x.scaleY)}else this.strokeUniform&&d.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(d,this.strokeDashArray),this._setStrokeStyles(d,this),d.stroke(),d.restore()}},_applyPatternForTransformedGradient:function(d,x){var D,S=this._limitCacheSize(this._getCacheCanvasDimensions()),I=h.util.createCanvasElement(),H=this.canvas.getRetinaScaling(),V=S.x/this.scaleX/H,G=S.y/this.scaleY/H;I.width=V,I.height=G,(D=I.getContext("2d")).beginPath(),D.moveTo(0,0),D.lineTo(V,0),D.lineTo(V,G),D.lineTo(0,G),D.closePath(),D.translate(V/2,G/2),D.scale(S.zoomX/this.scaleX/H,S.zoomY/this.scaleY/H),this._applyPatternGradientTransform(D,x),D.fillStyle=x.toLive(d),D.fill(),d.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),d.scale(H*this.scaleX/S.zoomX,H*this.scaleY/S.zoomY),d.strokeStyle=D.createPattern(I,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var d=h.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",d.scaleX),this.set("scaleY",d.scaleY),this.angle=d.angle,this.skewX=d.skewX,this.skewY=0}},_removeTransformMatrix:function(d){var x=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),x=h.util.transformPoint(x,this.transformMatrix)),this.transformMatrix=null,d&&(this.scaleX*=d.scaleX,this.scaleY*=d.scaleY,this.cropX=d.cropX,this.cropY=d.cropY,x.x+=d.offsetLeft,x.y+=d.offsetTop,this.width=d.width,this.height=d.height),this.setPositionByOrigin(x,"center","center")},clone:function(d,x){var S=this.toObject(x);this.constructor.fromObject?this.constructor.fromObject(S,d):h.Object._fromObject("Object",S,d)},cloneAsImage:function(d,x){var S=this.toCanvasElement(x);return d&&d(new h.Image(S)),this},toCanvasElement:function(d){d||(d={});var x=h.util,S=x.saveObjectTransform(this),I=this.group,D=this.shadow,H=Math.abs,V=(d.multiplier||1)*(d.enableRetinaScaling?h.devicePixelRatio:1);delete this.group,d.withoutTransform&&x.resetObjectTransform(this),d.withoutShadow&&(this.shadow=null);var _e,Re,Pe,G=h.util.createCanvasElement(),W=this.getBoundingRect(!0,!0),ee=this.shadow,ge={x:0,y:0};ee&&(Re=ee.blur,_e=ee.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),ge.x=2*Math.round(H(ee.offsetX)+Re)*H(_e.scaleX),ge.y=2*Math.round(H(ee.offsetY)+Re)*H(_e.scaleY)),Pe=W.height+ge.y,G.width=Math.ceil(W.width+ge.x),G.height=Math.ceil(Pe);var $=new h.StaticCanvas(G,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===d.format&&($.backgroundColor="#fff"),this.setPositionByOrigin(new h.Point($.width/2,$.height/2),"center","center");var tt=this.canvas;$.add(this);var Ae=$.toCanvasElement(V||1,d);return this.shadow=D,this.set("canvas",tt),I&&(this.group=I),this.set(S).setCoords(),$._objects=[],$.dispose(),$=null,Ae},toDataURL:function(d){return d||(d={}),h.util.toDataURL(this.toCanvasElement(d),d.format||"png",d.quality||1)},isType:function(d){return this.type===d},complexity:function(){return 1},toJSON:function(d){return this.toObject(d)},rotate:function(d){var x=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return x&&this._setOriginToCenter(),this.set("angle",d),x&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(d,x){x=x||this.canvas.getPointer(d);var S=new h.Point(x.x,x.y),I=this._getLeftTopCoords();return this.angle&&(S=h.util.rotatePoint(S,I,s(-this.angle))),{x:S.x-I.x,y:S.y-I.y}},_setupCompositeOperation:function(d){this.globalCompositeOperation&&(d.globalCompositeOperation=this.globalCompositeOperation)}}),h.util.createAccessors&&h.util.createAccessors(h.Object),m(h.Object.prototype,h.Observable),h.Object.NUM_FRACTION_DIGITS=2,h.Object._fromObject=function(d,x,S,I){var D=h[d];x=g(x,!0),h.util.enlivenPatterns([x.fill,x.stroke],function(H){typeof H[0]<"u"&&(x.fill=H[0]),typeof H[1]<"u"&&(x.stroke=H[1]),h.util.enlivenObjects([x.clipPath],function(V){x.clipPath=V[0];var G=I?new D(x[I],x):new D(x);S&&S(G)})})},h.Object.__uid=0)}(R),function(){var b=y.util.degreesToRadians,h={left:-.5,center:0,right:.5},m={top:-.5,center:0,bottom:.5};y.util.object.extend(y.Object.prototype,{translateToGivenOrigin:function(g,r,a,s,u){var x,S,I,C=g.x,d=g.y;return"string"==typeof r?r=h[r]:r-=.5,"string"==typeof s?s=h[s]:s-=.5,"string"==typeof a?a=m[a]:a-=.5,"string"==typeof u?u=m[u]:u-=.5,S=u-a,((x=s-r)||S)&&(I=this._getTransformedDimensions(),C=g.x+x*I.x,d=g.y+S*I.y),new y.Point(C,d)},translateToCenterPoint:function(g,r,a){var s=this.translateToGivenOrigin(g,r,a,"center","center");return this.angle?y.util.rotatePoint(s,g,b(this.angle)):s},translateToOriginPoint:function(g,r,a){var s=this.translateToGivenOrigin(g,"center","center",r,a);return this.angle?y.util.rotatePoint(s,g,b(this.angle)):s},getCenterPoint:function(){var g=new y.Point(this.left,this.top);return this.translateToCenterPoint(g,this.originX,this.originY)},getPointByOrigin:function(g,r){var a=this.getCenterPoint();return this.translateToOriginPoint(a,g,r)},toLocalPoint:function(g,r,a){var u,C,s=this.getCenterPoint();return u=typeof r<"u"&&typeof a<"u"?this.translateToGivenOrigin(s,"center","center",r,a):new y.Point(this.left,this.top),C=new y.Point(g.x,g.y),this.angle&&(C=y.util.rotatePoint(C,s,-b(this.angle))),C.subtractEquals(u)},setPositionByOrigin:function(g,r,a){var s=this.translateToCenterPoint(g,r,a),u=this.translateToOriginPoint(s,this.originX,this.originY);this.set("left",u.x),this.set("top",u.y)},adjustPosition:function(g){var C,d,r=b(this.angle),a=this.getScaledWidth(),s=y.util.cos(r)*a,u=y.util.sin(r)*a;this.left+=s*((d="string"==typeof g?h[g]:g-.5)-(C="string"==typeof this.originX?h[this.originX]:this.originX-.5)),this.top+=u*(d-C),this.setCoords(),this.originX=g},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var g=this.getCenterPoint();this.originX="center",this.originY="center",this.left=g.x,this.top=g.y},_resetOrigin:function(){var g=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=g.x,this.top=g.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var h=y.util,m=h.degreesToRadians,g=h.multiplyTransformMatrices,r=h.transformPoint;h.object.extend(y.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(a,s){return s?a?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),a?this.aCoords:this.lineCoords)},getCoords:function(a,s){return function b(a){return[new y.Point(a.tl.x,a.tl.y),new y.Point(a.tr.x,a.tr.y),new y.Point(a.br.x,a.br.y),new y.Point(a.bl.x,a.bl.y)]}(this._getCoords(a,s))},intersectsWithRect:function(a,s,u,C){var d=this.getCoords(u,C);return"Intersection"===y.Intersection.intersectPolygonRectangle(d,a,s).status},intersectsWithObject:function(a,s,u){return"Intersection"===y.Intersection.intersectPolygonPolygon(this.getCoords(s,u),a.getCoords(s,u)).status||a.isContainedWithinObject(this,s,u)||this.isContainedWithinObject(a,s,u)},isContainedWithinObject:function(a,s,u){for(var C=this.getCoords(s,u),x=0,S=a._getImageLines(s?a.aCoords:a.lineCoords);x<4;x++)if(!a.containsPoint(C[x],S))return!1;return!0},isContainedWithinRect:function(a,s,u,C){var d=this.getBoundingRect(u,C);return d.left>=a.x&&d.left+d.width<=s.x&&d.top>=a.y&&d.top+d.height<=s.y},containsPoint:function(a,x,u,C){var d=this._getCoords(u,C),S=(x=x||this._getImageLines(d),this._findCrossPoints(a,x));return 0!==S&&S%2==1},isOnScreen:function(a){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br;return!(!this.getCoords(!0,a).some(function(d){return d.x<=u.x&&d.x>=s.x&&d.y<=u.y&&d.y>=s.y})&&!this.intersectsWithRect(s,u,!0,a))||this._containsCenterOfCanvas(s,u,a)},_containsCenterOfCanvas:function(a,s,u){return!!this.containsPoint({x:(a.x+s.x)/2,y:(a.y+s.y)/2},null,!0,u)},isPartiallyOnScreen:function(a){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br;return!!this.intersectsWithRect(s,u,!0,a)||this.getCoords(!0,a).every(function(d){return(d.x>=u.x||d.x<=s.x)&&(d.y>=u.y||d.y<=s.y)})&&this._containsCenterOfCanvas(s,u,a)},_getImageLines:function(a){return{topline:{o:a.tl,d:a.tr},rightline:{o:a.tr,d:a.br},bottomline:{o:a.br,d:a.bl},leftline:{o:a.bl,d:a.tl}}},_findCrossPoints:function(a,s){var C,d,x,S,D,I=0;for(var H in s)if(!((D=s[H]).o.y<a.y&&D.d.y<a.y||D.o.y>=a.y&&D.d.y>=a.y||(D.o.x===D.d.x&&D.o.x>=a.x?S=D.o.x:(0,C=(D.d.y-D.o.y)/(D.d.x-D.o.x),d=a.y-0*a.x,x=D.o.y-C*D.o.x,S=-(d-x)/(0-C)),S>=a.x&&(I+=1),2!==I)))break;return I},getBoundingRect:function(a,s){var u=this.getCoords(a,s);return h.makeBoundingBoxFromPoints(u)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(a){return Math.abs(a)<this.minScaleLimit?a<0?-this.minScaleLimit:this.minScaleLimit:0===a?1e-4:a},scale:function(a){return this._set("scaleX",a),this._set("scaleY",a),this.setCoords()},scaleToWidth:function(a,s){var u=this.getBoundingRect(s).width/this.getScaledWidth();return this.scale(a/this.width/u)},scaleToHeight:function(a,s){var u=this.getBoundingRect(s).height/this.getScaledHeight();return this.scale(a/this.height/u)},calcCoords:function(a){return a?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var a=this.getViewportTransform(),s=this.padding,u=m(this.angle),x=h.cos(u)*s,S=h.sin(u)*s,I=x+S,D=x-S,H=this.calcACoords(),V={tl:r(H.tl,a),tr:r(H.tr,a),bl:r(H.bl,a),br:r(H.br,a)};return s&&(V.tl.x-=D,V.tl.y-=I,V.tr.x+=I,V.tr.y-=D,V.bl.x-=I,V.bl.y+=D,V.br.x+=D,V.br.y+=I),V},calcOCoords:function(){var a=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),u=this.getViewportTransform(),C=g(u,s),d=g(C,a),x=(d=g(d,[1/u[0],0,0,1/u[3],0,0]),this._calculateCurrentDimensions()),S={};return this.forEachControl(function(I,D,H){S[D]=I.positionHandler(x,d,H)}),S},calcACoords:function(){var a=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),u=g(s,a),C=this._getTransformedDimensions(),d=C.x/2,x=C.y/2;return{tl:r({x:-d,y:-x},u),tr:r({x:d,y:-x},u),bl:r({x:-d,y:x},u),br:r({x:d,y:x},u)}},setCoords:function(a){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),a||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return h.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var a=this.getCenterPoint();return[1,0,0,1,a.x,a.y]},transformMatrixKey:function(a){var s="_",u="";return!a&&this.group&&(u=this.group.transformMatrixKey(a)+s),u+this.top+s+this.left+s+this.scaleX+s+this.scaleY+s+this.skewX+s+this.skewY+s+this.angle+s+this.originX+s+this.originY+s+this.width+s+this.height+s+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(a){var s=this.calcOwnMatrix();if(a||!this.group)return s;var u=this.transformMatrixKey(a),C=this.matrixCache||(this.matrixCache={});return C.key===u?C.value:(this.group&&(s=g(this.group.calcTransformMatrix(!1),s)),C.key=u,C.value=s,s)},calcOwnMatrix:function(){var a=this.transformMatrixKey(!0),s=this.ownMatrixCache||(this.ownMatrixCache={});if(s.key===a)return s.value;var u=this._calcTranslateMatrix(),C={angle:this.angle,translateX:u[4],translateY:u[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return s.key=a,s.value=h.composeMatrix(C),s.value},_calcDimensionsTransformMatrix:function(a,s,u){return h.calcDimensionsMatrix({skewX:a,skewY:s,scaleX:this.scaleX*(u&&this.flipX?-1:1),scaleY:this.scaleY*(u&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var a=this.strokeWidth;return{x:this.width+a,y:this.height+a}},_getTransformedDimensions:function(a,s){typeof a>"u"&&(a=this.skewX),typeof s>"u"&&(s=this.skewY);var u,C,d,x=0===a&&0===s;if(this.strokeUniform?(C=this.width,d=this.height):(C=(u=this._getNonTransformedDimensions()).x,d=u.y),x)return this._finalizeDimensions(C*this.scaleX,d*this.scaleY);var S=h.sizeAfterTransform(C,d,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:a,skewY:s});return this._finalizeDimensions(S.x,S.y)},_finalizeDimensions:function(a,s){return this.strokeUniform?{x:a+this.strokeWidth,y:s+this.strokeWidth}:{x:a,y:s}},_calculateCurrentDimensions:function(){var a=this.getViewportTransform(),s=this._getTransformedDimensions();return r(s,a,!0).scalarAdd(2*this.padding)}})}(),y.util.object.extend(y.Object.prototype,{sendToBack:function(){return this.group?y.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?y.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(b){return this.group?y.StaticCanvas.prototype.sendBackwards.call(this.group,this,b):this.canvas&&this.canvas.sendBackwards(this,b),this},bringForward:function(b){return this.group?y.StaticCanvas.prototype.bringForward.call(this.group,this,b):this.canvas&&this.canvas.bringForward(this,b),this},moveTo:function(b){return this.group&&"activeSelection"!==this.group.type?y.StaticCanvas.prototype.moveTo.call(this.group,this,b):this.canvas&&this.canvas.moveTo(this,b),this}}),function(){function b(m,g){if(g){if(g.toLive)return m+": url(#SVGID_"+g.id+"); ";var r=new y.Color(g),a=m+": "+r.toRgb()+"; ",s=r.getAlpha();return 1!==s&&(a+=m+"-opacity: "+s.toString()+"; "),a}return m+": none; "}var h=y.util.toFixed;y.util.object.extend(y.Object.prototype,{getSvgStyles:function(m){var g=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",a=this.strokeDashArray?this.strokeDashArray.join(" "):"none",s=this.strokeDashOffset?this.strokeDashOffset:"0",u=this.strokeLineCap?this.strokeLineCap:"butt",C=this.strokeLineJoin?this.strokeLineJoin:"miter",d=this.strokeMiterLimit?this.strokeMiterLimit:"4",x=typeof this.opacity<"u"?this.opacity:"1",S=this.visible?"":" visibility: hidden;",I=m?"":this.getSvgFilter(),D=b("fill",this.fill);return[b("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",a,"; ","stroke-linecap: ",u,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",C,"; ","stroke-miterlimit: ",d,"; ",D,"fill-rule: ",g,"; ","opacity: ",x,";",I,S].join("")},getSvgSpanStyles:function(m,g){var r="; ",s=m.fontFamily?"font-family: "+(-1===m.fontFamily.indexOf("'")&&-1===m.fontFamily.indexOf('"')?"'"+m.fontFamily+"'":m.fontFamily)+r:"",a=m.strokeWidth?"stroke-width: "+m.strokeWidth+r:"",u=m.fontSize?"font-size: "+m.fontSize+"px"+r:"",C=m.fontStyle?"font-style: "+m.fontStyle+r:"",d=m.fontWeight?"font-weight: "+m.fontWeight+r:"",x=m.fill?b("fill",m.fill):"",S=m.stroke?b("stroke",m.stroke):"",I=this.getSvgTextDecoration(m);return I&&(I="text-decoration: "+I+r),[S,a,s,u,C,d,I,x,m.deltaY?"baseline-shift: "+-m.deltaY+"; ":"",g?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(m){return["overline","underline","line-through"].filter(function(g){return m[g.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(m,g){var r=m?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+y.util.matrixToSVG(r)+(g||"")+'" '},_setSVGBg:function(m){if(this.backgroundColor){var g=y.Object.NUM_FRACTION_DIGITS;m.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',h(-this.width/2,g),'" y="',h(-this.height/2,g),'" width="',h(this.width,g),'" height="',h(this.height,g),'"></rect>\n')}},toSVG:function(m){return this._createBaseSVGMarkup(this._toSVG(m),{reviver:m})},toClipPathSVG:function(m){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(m),{reviver:m})},_createBaseClipPathSVGMarkup:function(m,g){var r=(g=g||{}).reviver,s=[this.getSvgTransform(!0,g.additionalTransform||""),this.getSvgCommons()].join(""),u=m.indexOf("COMMON_PARTS");return m[u]=s,r?r(m.join("")):m.join("")},_createBaseSVGMarkup:function(m,g){var H,G,r=(g=g||{}).noStyle,a=g.reviver,s=r?"":'style="'+this.getSvgStyles()+'" ',u=g.withShadow?'style="'+this.getSvgFilter()+'" ':"",C=this.clipPath,d=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",x=C&&C.absolutePositioned,S=this.stroke,I=this.fill,D=this.shadow,V=[],W=m.indexOf("COMMON_PARTS"),ee=g.additionalTransform;return C&&(C.clipPathId="CLIPPATH_"+y.Object.__uid++,G='<clipPath id="'+C.clipPathId+'" >\n'+C.toClipPathSVG(a)+"</clipPath>\n"),x&&V.push("<g ",u,this.getSvgCommons()," >\n"),V.push("<g ",this.getSvgTransform(!1),x?"":u+this.getSvgCommons()," >\n"),H=[s,d,r?"":this.addPaintOrder()," ",ee?'transform="'+ee+'" ':""].join(""),m[W]=H,I&&I.toLive&&V.push(I.toSVG(this)),S&&S.toLive&&V.push(S.toSVG(this)),D&&V.push(D.toSVG(this)),C&&V.push(G),V.push(m.join("")),V.push("</g>\n"),x&&V.push("</g>\n"),a?a(V.join("")):V.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var b=y.util.object.extend,h="stateProperties";function m(r,a,s){var u={};s.forEach(function(d){u[d]=r[d]}),b(r[a],u,!0)}function g(r,a,s){if(r===a)return!0;if(Array.isArray(r)){if(!Array.isArray(a)||r.length!==a.length)return!1;for(var u=0,C=r.length;u<C;u++)if(!g(r[u],a[u]))return!1;return!0}if(r&&"object"==typeof r){var x,d=Object.keys(r);if(!a||"object"!=typeof a||!s&&d.length!==Object.keys(a).length)return!1;for(u=0,C=d.length;u<C;u++)if("canvas"!==(x=d[u])&&"group"!==x&&!g(r[x],a[x]))return!1;return!0}}y.util.object.extend(y.Object.prototype,{hasStateChanged:function(r){var a="_"+(r=r||h);return Object.keys(this[a]).length<this[r].length||!g(this[a],this,!0)},saveState:function(r){var a=r&&r.propertySet||h,s="_"+a;return this[s]?(m(this,s,this[a]),r&&r.stateProperties&&m(this,s,r.stateProperties),this):this.setupState(r)},setupState:function(r){var a=(r=r||{}).propertySet||h;return r.propertySet=a,this["_"+a]={},this.saveState(r),this}})}(),function(){var b=y.util.degreesToRadians;y.util.object.extend(y.Object.prototype,{_findTargetCorner:function(h,m){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var a,s,d,g=h.x,r=h.y,u=Object.keys(this.oCoords),C=u.length-1;for(this.__corner=0;C>=0;C--)if(this.isControlVisible(d=u[C])&&(s=this._getImageLines(m?this.oCoords[d].touchCorner:this.oCoords[d].corner),0!==(a=this._findCrossPoints({x:g,y:r},s))&&a%2==1))return this.__corner=d,d;return!1},forEachControl:function(h){for(var m in this.controls)h(this.controls[m],m,this)},_setCornerCoords:function(){var h=this.oCoords;for(var m in h){var g=this.controls[m];h[m].corner=g.calcCornerCoords(this.angle,this.cornerSize,h[m].x,h[m].y,!1),h[m].touchCorner=g.calcCornerCoords(this.angle,this.touchCornerSize,h[m].x,h[m].y,!0)}},drawSelectionBackground:function(h){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;h.save();var m=this.getCenterPoint(),g=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return h.translate(m.x,m.y),h.scale(1/r[0],1/r[3]),h.rotate(b(this.angle)),h.fillStyle=this.selectionBackgroundColor,h.fillRect(-g.x/2,-g.y/2,g.x,g.y),h.restore(),this},drawBorders:function(h,m){m=m||{};var g=this._calculateCurrentDimensions(),r=this.borderScaleFactor,a=g.x+r,s=g.y+r,u=typeof m.hasControls<"u"?m.hasControls:this.hasControls,C=!1;return h.save(),h.strokeStyle=m.borderColor||this.borderColor,this._setLineDash(h,m.borderDashArray||this.borderDashArray),h.strokeRect(-a/2,-s/2,a,s),u&&(h.beginPath(),this.forEachControl(function(d,x,S){d.withConnection&&d.getVisibility(S,x)&&(C=!0,h.moveTo(d.x*a,d.y*s),h.lineTo(d.x*a+d.offsetX,d.y*s+d.offsetY))}),C&&h.stroke()),h.restore(),this},drawBordersInGroup:function(h,m,g){g=g||{};var r=y.util.sizeAfterTransform(this.width,this.height,m),a=this.strokeWidth,s=this.strokeUniform,u=this.borderScaleFactor,C=r.x+a*(s?this.canvas.getZoom():m.scaleX)+u,d=r.y+a*(s?this.canvas.getZoom():m.scaleY)+u;return h.save(),this._setLineDash(h,g.borderDashArray||this.borderDashArray),h.strokeStyle=g.borderColor||this.borderColor,h.strokeRect(-C/2,-d/2,C,d),h.restore(),this},drawControls:function(h,m){m=m||{},h.save();var r,a,g=this.canvas.getRetinaScaling();return h.setTransform(g,0,0,g,0,0),h.strokeStyle=h.fillStyle=m.cornerColor||this.cornerColor,this.transparentCorners||(h.strokeStyle=m.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(h,m.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(r=this.group.calcTransformMatrix()),this.forEachControl(function(s,u,C){a=C.oCoords[u],s.getVisibility(C,u)&&(r&&(a=y.util.transformPoint(a,r)),s.render(h,a.x,a.y,m,C))}),h.restore(),this},isControlVisible:function(h){return this.controls[h]&&this.controls[h].getVisibility(this,h)},setControlVisible:function(h,m){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[h]=m,this},setControlsVisibility:function(h){for(var m in h||(h={}),h)this.setControlVisible(m,h[m]);return this},onDeselect:function(){},onSelect:function(){}})}(),y.util.object.extend(y.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(b,h){var m=function(){},g=(h=h||{}).onComplete||m,r=h.onChange||m,a=this;return y.util.animate({startValue:b.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(s){b.set("left",s),a.requestRenderAll(),r()},onComplete:function(){b.setCoords(),g()}}),this},fxCenterObjectV:function(b,h){var m=function(){},g=(h=h||{}).onComplete||m,r=h.onChange||m,a=this;return y.util.animate({startValue:b.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(s){b.set("top",s),a.requestRenderAll(),r()},onComplete:function(){b.setCoords(),g()}}),this},fxRemove:function(b,h){var m=function(){},g=(h=h||{}).onComplete||m,r=h.onChange||m,a=this;return y.util.animate({startValue:b.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(s){b.set("opacity",s),a.requestRenderAll(),r()},onComplete:function(){a.remove(b),g()}}),this}}),y.util.object.extend(y.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var h,b=[];for(h in arguments[0])b.push(h);for(var g=0,r=b.length;g<r;g++)this._animate(h=b[g],arguments[0][h],arguments[1],g!==r-1)}else this._animate.apply(this,arguments);return this},_animate:function(b,h,m,g){var a,r=this;h=h.toString(),m=m?y.util.object.clone(m):{},~b.indexOf(".")&&(a=b.split("."));var s=r.colorProperties.indexOf(b)>-1||a&&r.colorProperties.indexOf(a[1])>-1,u=a?this.get(a[0])[a[1]]:this.get(b);"from"in m||(m.from=u),s||(h=~h.indexOf("=")?u+parseFloat(h.replace("=","")):parseFloat(h));var C={startValue:m.from,endValue:h,byValue:m.by,easing:m.easing,duration:m.duration,abort:m.abort&&function(d,x,S){return m.abort.call(r,d,x,S)},onChange:function(d,x,S){a?r[a[0]][a[1]]=d:r.set(b,d),!g&&m.onChange&&m.onChange(d,x,S)},onComplete:function(d,x,S){g||(r.setCoords(),m.onComplete&&m.onComplete(d,x,S))}};return s?y.util.animateColor(C.startValue,C.endValue,C.duration,C):y.util.animate(C)}}),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.util.object.extend,g=h.util.object.clone,r={x1:1,x2:1,y1:1,y2:1};function a(s,u){var C=s.origin,d=s.axis1,x=s.axis2,S=s.dimension,I=u.nearest,D=u.center,H=u.farthest;return function(){switch(this.get(C)){case I:return Math.min(this.get(d),this.get(x));case D:return Math.min(this.get(d),this.get(x))+.5*this.get(S);case H:return Math.max(this.get(d),this.get(x))}}}h.Line?h.warn("fabric.Line is already defined"):(h.Line=h.util.createClass(h.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:h.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(s,u){s||(s=[0,0,0,0]),this.callSuper("initialize",u),this.set("x1",s[0]),this.set("y1",s[1]),this.set("x2",s[2]),this.set("y2",s[3]),this._setWidthHeight(u)},_setWidthHeight:function(s){s||(s={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in s?s.left:this._getLeftToOriginX(),this.top="top"in s?s.top:this._getTopToOriginY()},_set:function(s,u){return this.callSuper("_set",s,u),typeof r[s]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:a({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:a({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(s){s.beginPath();var u=this.calcLinePoints();s.moveTo(u.x1,u.y1),s.lineTo(u.x2,u.y2),s.lineWidth=this.strokeWidth;var C=s.strokeStyle;s.strokeStyle=this.stroke||s.fillStyle,this.stroke&&this._renderStroke(s),s.strokeStyle=C},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(s){return m(this.callSuper("toObject",s),this.calcLinePoints())},_getNonTransformedDimensions:function(){var s=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(s.y-=this.strokeWidth),0===this.height&&(s.x-=this.strokeWidth)),s},calcLinePoints:function(){var s=this.x1<=this.x2?-1:1,u=this.y1<=this.y2?-1:1;return{x1:s*this.width*.5,x2:s*this.width*-.5,y1:u*this.height*.5,y2:u*this.height*-.5}},_toSVG:function(){var s=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',s.x1,'" y1="',s.y1,'" x2="',s.x2,'" y2="',s.y2,'" />\n']}}),h.Line.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),h.Line.fromElement=function(s,u,C){C=C||{};var d=h.parseAttributes(s,h.Line.ATTRIBUTE_NAMES);u(new h.Line([d.x1||0,d.y1||0,d.x2||0,d.y2||0],m(d,C)))},h.Line.fromObject=function(s,u){var d=g(s,!0);d.points=[s.x1,s.y1,s.x2,s.y2],h.Object._fromObject("Line",d,function C(x){delete x.points,u&&u(x)},"points")})}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=Math.PI;h.Circle?h.warn("fabric.Circle is already defined."):(h.Circle=h.util.createClass(h.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*m,cacheProperties:h.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(r,a){return this.callSuper("_set",r,a),"radius"===r&&this.setRadius(a),this},toObject:function(r){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(r))},_toSVG:function(){var r,u=(this.endAngle-this.startAngle)%(2*m);if(0===u)r=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var C=h.util.cos(this.startAngle)*this.radius,d=h.util.sin(this.startAngle)*this.radius,x=h.util.cos(this.endAngle)*this.radius,S=h.util.sin(this.endAngle)*this.radius;r=['<path d="M '+C+" "+d," A "+this.radius+" "+this.radius," 0 ",+(u>m?"1":"0")+" 1"," "+x+" "+S,'" ',"COMMON_PARTS"," />\n"]}return r},_render:function(r){r.beginPath(),r.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(r)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(r){return this.radius=r,this.set("width",2*r).set("height",2*r)}}),h.Circle.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),h.Circle.fromElement=function(r,a){var s=h.parseAttributes(r,h.Circle.ATTRIBUTE_NAMES);if(!function g(r){return"radius"in r&&r.radius>=0}(s))throw new Error("value of `r` attribute is required and can not be negative");s.left=(s.left||0)-s.radius,s.top=(s.top||0)-s.radius,a(new h.Circle(s))},h.Circle.fromObject=function(r,a){h.Object._fromObject("Circle",r,a)})}(R),function(b){"use strict";var h=b.fabric||(b.fabric={});h.Triangle?h.warn("fabric.Triangle is already defined"):(h.Triangle=h.util.createClass(h.Object,{type:"triangle",width:100,height:100,_render:function(m){var g=this.width/2,r=this.height/2;m.beginPath(),m.moveTo(-g,r),m.lineTo(0,-r),m.lineTo(g,r),m.closePath(),this._renderPaintInOrder(m)},_toSVG:function(){var m=this.width/2,g=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-m+" "+g,"0 "+-g,m+" "+g].join(","),'" />']}}),h.Triangle.fromObject=function(m,g){return h.Object._fromObject("Triangle",m,g)})}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=2*Math.PI;h.Ellipse?h.warn("fabric.Ellipse is already defined."):(h.Ellipse=h.util.createClass(h.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:h.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(g){this.callSuper("initialize",g),this.set("rx",g&&g.rx||0),this.set("ry",g&&g.ry||0)},_set:function(g,r){switch(this.callSuper("_set",g,r),g){case"rx":this.rx=r,this.set("width",2*r);break;case"ry":this.ry=r,this.set("height",2*r)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(g){return this.callSuper("toObject",["rx","ry"].concat(g))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(g){g.beginPath(),g.save(),g.transform(1,0,0,this.ry/this.rx,0,0),g.arc(0,0,this.rx,0,m,!1),g.restore(),this._renderPaintInOrder(g)}}),h.Ellipse.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),h.Ellipse.fromElement=function(g,r){var a=h.parseAttributes(g,h.Ellipse.ATTRIBUTE_NAMES);a.left=(a.left||0)-a.rx,a.top=(a.top||0)-a.ry,r(new h.Ellipse(a))},h.Ellipse.fromObject=function(g,r){h.Object._fromObject("Ellipse",g,r)})}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.util.object.extend;h.Rect?h.warn("fabric.Rect is already defined"):(h.Rect=h.util.createClass(h.Object,{stateProperties:h.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:h.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(g){this.callSuper("initialize",g),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(g){var r=this.rx?Math.min(this.rx,this.width/2):0,a=this.ry?Math.min(this.ry,this.height/2):0,s=this.width,u=this.height,C=-this.width/2,d=-this.height/2,x=0!==r||0!==a,S=.4477152502;g.beginPath(),g.moveTo(C+r,d),g.lineTo(C+s-r,d),x&&g.bezierCurveTo(C+s-S*r,d,C+s,d+S*a,C+s,d+a),g.lineTo(C+s,d+u-a),x&&g.bezierCurveTo(C+s,d+u-S*a,C+s-S*r,d+u,C+s-r,d+u),g.lineTo(C+r,d+u),x&&g.bezierCurveTo(C+S*r,d+u,C,d+u-S*a,C,d+u-a),g.lineTo(C,d+a),x&&g.bezierCurveTo(C,d+S*a,C+S*r,d,C+r,d),g.closePath(),this._renderPaintInOrder(g)},toObject:function(g){return this.callSuper("toObject",["rx","ry"].concat(g))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),h.Rect.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),h.Rect.fromElement=function(g,r,a){if(!g)return r(null);a=a||{};var s=h.parseAttributes(g,h.Rect.ATTRIBUTE_NAMES);s.left=s.left||0,s.top=s.top||0,s.height=s.height||0,s.width=s.width||0;var u=new h.Rect(m(a?h.util.object.clone(a):{},s));u.visible=u.visible&&u.width>0&&u.height>0,r(u)},h.Rect.fromObject=function(g,r){return h.Object._fromObject("Rect",g,r)})}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.util.object.extend,g=h.util.array.min,r=h.util.array.max,a=h.util.toFixed;h.Polyline?h.warn("fabric.Polyline is already defined"):(h.Polyline=h.util.createClass(h.Object,{type:"polyline",points:null,cacheProperties:h.Object.prototype.cacheProperties.concat("points"),initialize:function(s,u){u=u||{},this.points=s||[],this.callSuper("initialize",u),this._setPositionDimensions(u)},_setPositionDimensions:function(s){var C,u=this._calcDimensions(s);this.width=u.width,this.height=u.height,s.fromSVG||(C=this.translateToGivenOrigin({x:u.left-this.strokeWidth/2,y:u.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),typeof s.left>"u"&&(this.left=s.fromSVG?u.left:C.x),typeof s.top>"u"&&(this.top=s.fromSVG?u.top:C.y),this.pathOffset={x:u.left+this.width/2,y:u.top+this.height/2}},_calcDimensions:function(){var s=this.points,u=g(s,"x")||0,C=g(s,"y")||0;return{left:u,top:C,width:(r(s,"x")||0)-u,height:(r(s,"y")||0)-C}},toObject:function(s){return m(this.callSuper("toObject",s),{points:this.points.concat()})},_toSVG:function(){for(var s=[],u=this.pathOffset.x,C=this.pathOffset.y,d=h.Object.NUM_FRACTION_DIGITS,x=0,S=this.points.length;x<S;x++)s.push(a(this.points[x].x-u,d),",",a(this.points[x].y-C,d)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',s.join(""),'" />\n']},commonRender:function(s){var u,C=this.points.length,d=this.pathOffset.x,x=this.pathOffset.y;if(!C||isNaN(this.points[C-1].y))return!1;s.beginPath(),s.moveTo(this.points[0].x-d,this.points[0].y-x);for(var S=0;S<C;S++)s.lineTo((u=this.points[S]).x-d,u.y-x);return!0},_render:function(s){this.commonRender(s)&&this._renderPaintInOrder(s)},complexity:function(){return this.get("points").length}}),h.Polyline.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat(),h.Polyline.fromElementGenerator=function(s){return function(u,C,d){if(!u)return C(null);d||(d={});var x=h.parsePointsAttribute(u.getAttribute("points")),S=h.parseAttributes(u,h[s].ATTRIBUTE_NAMES);S.fromSVG=!0,C(new h[s](x,m(S,d)))}},h.Polyline.fromElement=h.Polyline.fromElementGenerator("Polyline"),h.Polyline.fromObject=function(s,u){return h.Object._fromObject("Polyline",s,u,"points")})}(R),function(b){"use strict";var h=b.fabric||(b.fabric={});h.Polygon?h.warn("fabric.Polygon is already defined"):(h.Polygon=h.util.createClass(h.Polyline,{type:"polygon",_render:function(m){this.commonRender(m)&&(m.closePath(),this._renderPaintInOrder(m))}}),h.Polygon.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat(),h.Polygon.fromElement=h.Polyline.fromElementGenerator("Polygon"),h.Polygon.fromObject=function(m,g){h.Object._fromObject("Polygon",m,g,"points")})}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.util.array.min,g=h.util.array.max,r=h.util.object.extend,a=Object.prototype.toString,s=h.util.toFixed;h.Path?h.warn("fabric.Path is already defined"):(h.Path=h.util.createClass(h.Object,{type:"path",path:null,cacheProperties:h.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:h.Object.prototype.stateProperties.concat("path"),initialize:function(u,C){this.callSuper("initialize",C=C||{}),u||(u=[]);var d="[object Array]"===a.call(u);this.path=h.util.makePathSimpler(d?u:h.util.parsePath(u)),this.path&&h.Polyline.prototype._setPositionDimensions.call(this,C)},_renderPathCommands:function(u){var C,d=0,x=0,S=0,I=0,V=-this.pathOffset.x,G=-this.pathOffset.y;u.beginPath();for(var W=0,ee=this.path.length;W<ee;++W)switch(C=this.path[W],C[0]){case"L":u.lineTo((S=C[1])+V,(I=C[2])+G);break;case"M":d=S=C[1],x=I=C[2],u.moveTo(S+V,I+G);break;case"C":u.bezierCurveTo(C[1]+V,C[2]+G,C[3]+V,C[4]+G,(S=C[5])+V,(I=C[6])+G);break;case"Q":u.quadraticCurveTo(C[1]+V,C[2]+G,C[3]+V,C[4]+G),S=C[3],I=C[4];break;case"z":case"Z":S=d,I=x,u.closePath()}},_render:function(u){this._renderPathCommands(u),this._renderPaintInOrder(u)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(u){return r(this.callSuper("toObject",u),{path:this.path.map(function(C){return C.slice()})})},toDatalessObject:function(u){var C=this.toObject(["sourcePath"].concat(u));return C.sourcePath&&delete C.path,C},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',h.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var u=h.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,u)+", "+s(-this.pathOffset.y,u)+")"},toClipPathSVG:function(u){var C=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:C})},toSVG:function(u){var C=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:C})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var d,H,u=[],C=[],x=0,S=0,I=0,D=0,V=0,G=this.path.length;V<G;++V){switch((d=this.path[V])[0]){case"L":I=d[1],D=d[2],H=[];break;case"M":x=I=d[1],S=D=d[2],H=[];break;case"C":H=h.util.getBoundsOfCurve(I,D,d[1],d[2],d[3],d[4],d[5],d[6]),I=d[5],D=d[6];break;case"Q":H=h.util.getBoundsOfCurve(I,D,d[1],d[2],d[1],d[2],d[3],d[4]),I=d[3],D=d[4];break;case"z":case"Z":I=x,D=S}H.forEach(function(Pe){u.push(Pe.x),C.push(Pe.y)}),u.push(I),C.push(D)}var W=m(u)||0,ee=m(C)||0;return{left:W,top:ee,width:(g(u)||0)-W,height:(g(C)||0)-ee}}}),h.Path.fromObject=function(u,C){"string"==typeof u.sourcePath?h.loadSVGFromURL(u.sourcePath,function(x){var S=x[0];S.setOptions(u),C&&C(S)}):h.Object._fromObject("Path",u,C,"path")},h.Path.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat(["d"]),h.Path.fromElement=function(u,C,d){var x=h.parseAttributes(u,h.Path.ATTRIBUTE_NAMES);x.fromSVG=!0,C(new h.Path(x.d,r(x,d)))})}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.util.array.min,g=h.util.array.max;h.Group||(h.Group=h.util.createClass(h.Object,h.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(r,a,s){a=a||{},this._objects=[],s&&this.callSuper("initialize",a),this._objects=r||[];for(var u=this._objects.length;u--;)this._objects[u].group=this;if(s)this._updateObjectsACoords();else{var C=a&&a.centerPoint;void 0!==a.originX&&(this.originX=a.originX),void 0!==a.originY&&(this.originY=a.originY),C||this._calcBounds(),this._updateObjectsCoords(C),delete a.centerPoint,this.callSuper("initialize",a)}this.setCoords()},_updateObjectsACoords:function(){for(var a=this._objects.length;a--;)this._objects[a].setCoords(true)},_updateObjectsCoords:function(a){a=a||this.getCenterPoint();for(var s=this._objects.length;s--;)this._updateObjectCoords(this._objects[s],a)},_updateObjectCoords:function(r,a){r.set({left:r.left-a.x,top:r.top-a.y}),r.group=this,r.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(r){var a=!!this.group;return this._restoreObjectsState(),h.util.resetObjectTransform(this),r&&(a&&h.util.removeTransformFromObject(r,this.group.calcTransformMatrix()),this._objects.push(r),r.group=this,r._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,a?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(r){return this._restoreObjectsState(),h.util.resetObjectTransform(this),this.remove(r),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(r){this.dirty=!0,r.group=this,r._set("canvas",this.canvas)},_onObjectRemoved:function(r){this.dirty=!0,delete r.group},_set:function(r,a){var s=this._objects.length;if(this.useSetOnGroup)for(;s--;)this._objects[s].setOnGroup(r,a);if("canvas"===r)for(;s--;)this._objects[s]._set(r,a);h.Object.prototype._set.call(this,r,a)},toObject:function(r){var a=this.includeDefaultValues,s=this._objects.filter(function(C){return!C.excludeFromExport}).map(function(C){var d=C.includeDefaultValues;C.includeDefaultValues=a;var x=C.toObject(r);return C.includeDefaultValues=d,x}),u=h.Object.prototype.toObject.call(this,r);return u.objects=s,u},toDatalessObject:function(r){var a,s=this.sourcePath;if(s)a=s;else{var u=this.includeDefaultValues;a=this._objects.map(function(d){var x=d.includeDefaultValues;d.includeDefaultValues=u;var S=d.toDatalessObject(r);return d.includeDefaultValues=x,S})}var C=h.Object.prototype.toDatalessObject.call(this,r);return C.objects=a,C},render:function(r){this._transformDone=!0,this.callSuper("render",r),this._transformDone=!1},shouldCache:function(){var r=h.Object.prototype.shouldCache.call(this);if(r)for(var a=0,s=this._objects.length;a<s;a++)if(this._objects[a].willDrawShadow())return this.ownCaching=!1,!1;return r},willDrawShadow:function(){if(h.Object.prototype.willDrawShadow.call(this))return!0;for(var r=0,a=this._objects.length;r<a;r++)if(this._objects[r].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(r){for(var a=0,s=this._objects.length;a<s;a++)this._objects[a].render(r);this._drawClipPath(r)},isCacheDirty:function(r){if(this.callSuper("isCacheDirty",r))return!0;if(!this.statefullCache)return!1;for(var a=0,s=this._objects.length;a<s;a++)if(this._objects[a].isCacheDirty(!0)){if(this._cacheCanvas){var u=this.cacheWidth/this.zoomX,C=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-u/2,-C/2,u,C)}return!0}return!1},_restoreObjectsState:function(){var r=this.calcOwnMatrix();return this._objects.forEach(function(a){h.util.addTransformToObject(a,r),delete a.group,a.setCoords()}),this},realizeTransform:function(r,a){return h.util.addTransformToObject(r,a),r},destroy:function(){return this._objects.forEach(function(r){r.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var r=this._objects,a=this.canvas;this._objects=[];var s=this.toObject();delete s.objects;var u=new h.ActiveSelection([]);return u.set(s),u.type="activeSelection",a.remove(this),r.forEach(function(C){C.group=u,C.dirty=!0,a.add(C)}),u.canvas=a,u._objects=r,a._activeObject=u,u.setCoords(),u}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject(function(a){a.setCoords(true)}),this},_calcBounds:function(r){for(var u,C,d,D,a=[],s=[],x=["tr","br","bl","tl"],S=0,I=this._objects.length,H=x.length;S<I;++S){for(d=(u=this._objects[S]).calcACoords(),D=0;D<H;D++)a.push(d[C=x[D]].x),s.push(d[C].y);u.aCoords=d}this._getBounds(a,s,r)},_getBounds:function(r,a,s){var u=new h.Point(m(r),m(a)),C=new h.Point(g(r),g(a)),d=u.y||0,x=u.x||0,I=C.y-u.y||0;this.width=C.x-u.x||0,this.height=I,s||this.setPositionByOrigin({x,y:d},"left","top")},_toSVG:function(r){for(var a=["<g ","COMMON_PARTS"," >\n"],s=0,u=this._objects.length;s<u;s++)a.push("\t\t",this._objects[s].toSVG(r));return a.push("</g>\n"),a},getSvgStyles:function(){var a=this.visible?"":" visibility: hidden;";return[typeof this.opacity<"u"&&1!==this.opacity?"opacity: "+this.opacity+";":"",this.getSvgFilter(),a].join("")},toClipPathSVG:function(r){for(var a=[],s=0,u=this._objects.length;s<u;s++)a.push("\t",this._objects[s].toClipPathSVG(r));return this._createBaseClipPathSVGMarkup(a,{reviver:r})}}),h.Group.fromObject=function(r,a){var s=r.objects,u=h.util.object.clone(r,!0);delete u.objects,"string"!=typeof s?h.util.enlivenObjects(s,function(C){h.util.enlivenObjects([r.clipPath],function(d){var x=h.util.object.clone(r,!0);x.clipPath=d[0],delete x.objects,a&&a(new h.Group(C,x,!0))})}):h.loadSVGFromURL(s,function(C){var d=h.util.groupSVGElements(C,r,s);d.set(u),a&&a(d)})})}(R),function(b){"use strict";var h=b.fabric||(b.fabric={});h.ActiveSelection||(h.ActiveSelection=h.util.createClass(h.Group,{type:"activeSelection",initialize:function(m,g){g=g||{},this._objects=m||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;g.originX&&(this.originX=g.originX),g.originY&&(this.originY=g.originY),this._calcBounds(),this._updateObjectsCoords(),h.Object.prototype.initialize.call(this,g),this.setCoords()},toGroup:function(){var m=this._objects.concat();this._objects=[];var g=h.Object.prototype.toObject.call(this),r=new h.Group([]);if(delete g.type,r.set(g),m.forEach(function(s){s.canvas.remove(s),s.group=r}),r._objects=m,!this.canvas)return r;var a=this.canvas;return a.add(r),a._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(m,g,r){m.save(),m.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",m,g),typeof(r=r||{}).hasControls>"u"&&(r.hasControls=!1),r.forActiveSelection=!0;for(var a=0,s=this._objects.length;a<s;a++)this._objects[a]._renderControls(m,r);m.restore()}}),h.ActiveSelection.fromObject=function(m,g){h.util.enlivenObjects(m.objects,function(r){delete m.objects,g&&g(new h.ActiveSelection(r,m,!0))})})}(R),function(b){"use strict";var h=y.util.object.extend;b.fabric||(b.fabric={}),b.fabric.Image?y.warn("fabric.Image is already defined."):(y.Image=y.util.createClass(y.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:y.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:y.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(m,g){g||(g={}),this.filters=[],this.cacheKey="texture"+y.Object.__uid++,this.callSuper("initialize",g),this._initElement(m,g)},getElement:function(){return this._element||{}},setElement:function(m,g){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=m,this._originalElement=m,this._initConfig(g),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(m){var g=y.filterBackend;g&&g.evictCachesForKey&&g.evictCachesForKey(m)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(m){y.util.cleanUpJsdomNode(this[m]),this[m]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var m=this.getElement();return{width:m.naturalWidth||m.width,height:m.naturalHeight||m.height}},_stroke:function(m){if(this.stroke&&0!==this.strokeWidth){var g=this.width/2,r=this.height/2;m.beginPath(),m.moveTo(-g,-r),m.lineTo(g,-r),m.lineTo(g,r),m.lineTo(-g,r),m.lineTo(-g,-r),m.closePath()}},toObject:function(m){var g=[];this.filters.forEach(function(a){a&&g.push(a.toObject())});var r=h(this.callSuper("toObject",["cropX","cropY"].concat(m)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:g});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var r,m=[],g=[],a=this._element,s=-this.width/2,u=-this.height/2,C="",d="";if(!a)return[];if(this.hasCrop()){var x=y.Object.__uid++;m.push('<clipPath id="imageCrop_'+x+'">\n','\t<rect x="'+s+'" y="'+u+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),C=' clip-path="url(#imageCrop_'+x+')" '}if(this.imageSmoothing||(d='" image-rendering="optimizeSpeed'),g.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',s-this.cropX,'" y="',u-this.cropY,'" width="',a.width||a.naturalWidth,'" height="',a.height||a.height,d,'"',C,"></image>\n"),this.stroke||this.strokeDashArray){var S=this.fill;this.fill=null,r=["\t<rect ",'x="',s,'" y="',u,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=S}return"fill"!==this.paintFirst?m.concat(r,g):m.concat(g,r)},getSrc:function(m){var g=m?this._element:this._originalElement;return g?g.toDataURL?g.toDataURL():this.srcFromAttribute?g.getAttribute("src"):g.src:this.src||""},setSrc:function(m,g,r){return y.util.loadImage(m,function(a,s){this.setElement(a,r),this._setWidthHeight(),g&&g(this,s)},this,r&&r.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var m=this.resizeFilter,g=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),a=r.scaleX,s=r.scaleY,u=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!m||a>g&&s>g)return this._element=u,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=a,void(this._lastScaleY=s);y.filterBackend||(y.filterBackend=y.initFilterBackend());var C=y.util.createCanvasElement(),d=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,x=u.width,S=u.height;C.width=x,C.height=S,this._element=C,this._lastScaleX=m.scaleX=a,this._lastScaleY=m.scaleY=s,y.filterBackend.applyFilters([m],u,x,S,this._element,d),this._filterScalingX=C.width/this._originalElement.width,this._filterScalingY=C.height/this._originalElement.height},applyFilters:function(m){if(m=(m=m||this.filters||[]).filter(function(u){return u&&!u.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===m.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var g=this._originalElement,r=g.naturalWidth||g.width,a=g.naturalHeight||g.height;if(this._element===this._originalElement){var s=y.util.createCanvasElement();s.width=r,s.height=a,this._element=s,this._filteredEl=s}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,a),this._lastScaleX=1,this._lastScaleY=1;return y.filterBackend||(y.filterBackend=y.initFilterBackend()),y.filterBackend.applyFilters(m,this._originalElement,r,a,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(m){y.util.setImageSmoothing(m,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(m),this._renderPaintInOrder(m)},drawCacheOnCanvas:function(m){y.util.setImageSmoothing(m,this.imageSmoothing),y.Object.prototype.drawCacheOnCanvas.call(this,m)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(m){var g=this._element;if(g){var r=this._filterScalingX,a=this._filterScalingY,s=this.width,u=this.height,C=Math.min,d=Math.max,x=d(this.cropX,0),S=d(this.cropY,0),I=g.naturalWidth||g.width,D=g.naturalHeight||g.height,H=x*r,V=S*a,G=C(s*r,I-H),W=C(u*a,D-V),ee=-s/2,_e=-u/2,ge=C(s,I/r-x),Re=C(u,D/a-S);g&&m.drawImage(g,H,V,G,W,ee,_e,ge,Re)}},_needsResize:function(){var m=this.getTotalObjectScaling();return m.scaleX!==this._lastScaleX||m.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(m,g){this.setElement(y.util.getById(m),g),y.util.addClass(this.getElement(),y.Image.CSS_CANVAS)},_initConfig:function(m){m||(m={}),this.setOptions(m),this._setWidthHeight(m)},_initFilters:function(m,g){m&&m.length?y.util.enlivenObjects(m,function(r){g&&g(r)},"fabric.Image.filters"):g&&g()},_setWidthHeight:function(m){m||(m={});var g=this.getElement();this.width=m.width||g.naturalWidth||g.width||0,this.height=m.height||g.naturalHeight||g.height||0},parsePreserveAspectRatioAttribute:function(){var S,m=y.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),g=this._element.width,r=this._element.height,a=1,s=1,u=0,C=0,d=0,x=0,I=this.width,D=this.height,H={width:I,height:D};return!m||"none"===m.alignX&&"none"===m.alignY?(a=I/g,s=D/r):("meet"===m.meetOrSlice&&(S=(I-g*(a=s=y.util.findScaleToFit(this._element,H)))/2,"Min"===m.alignX&&(u=-S),"Max"===m.alignX&&(u=S),S=(D-r*s)/2,"Min"===m.alignY&&(C=-S),"Max"===m.alignY&&(C=S)),"slice"===m.meetOrSlice&&(S=g-I/(a=s=y.util.findScaleToCover(this._element,H)),"Mid"===m.alignX&&(d=S/2),"Max"===m.alignX&&(d=S),S=r-D/s,"Mid"===m.alignY&&(x=S/2),"Max"===m.alignY&&(x=S),g=I/a,r=D/s)),{width:g,height:r,scaleX:a,scaleY:s,offsetLeft:u,offsetTop:C,cropX:d,cropY:x}}}),y.Image.CSS_CANVAS="canvas-img",y.Image.prototype.getSvgSrc=y.Image.prototype.getSrc,y.Image.fromObject=function(m,g){var r=y.util.object.clone(m);y.util.loadImage(r.src,function(a,s){s?g&&g(null,!0):y.Image.prototype._initFilters.call(r,r.filters,function(u){r.filters=u||[],y.Image.prototype._initFilters.call(r,[r.resizeFilter],function(C){r.resizeFilter=C[0],y.util.enlivenObjects([r.clipPath],function(d){r.clipPath=d[0];var x=new y.Image(a,r);g(x,!1)})})})},null,r.crossOrigin)},y.Image.fromURL=function(m,g,r){y.util.loadImage(m,function(a,s){g&&g(new y.Image(a,r),s)},null,r&&r.crossOrigin)},y.Image.ATTRIBUTE_NAMES=y.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),y.Image.fromElement=function(m,g,r){var a=y.parseAttributes(m,y.Image.ATTRIBUTE_NAMES);y.Image.fromURL(a["xlink:href"],g,h(r?y.util.object.clone(r):{},a))})}(R),y.util.object.extend(y.Object.prototype,{_getAngleValueForStraighten:function(){var b=this.angle%360;return b>0?90*Math.round((b-1)/90):90*Math.round(b/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(b){var h=function(){},m=(b=b||{}).onComplete||h,g=b.onChange||h,r=this;return y.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(a){r.rotate(a),g()},onComplete:function(){r.setCoords(),m()}}),this}}),y.util.object.extend(y.StaticCanvas.prototype,{straightenObject:function(b){return b.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(b){return b.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function b(m,g){var r="precision "+g+" float;\nvoid main(){}",a=m.createShader(m.FRAGMENT_SHADER);return m.shaderSource(a,r),m.compileShader(a),!!m.getShaderParameter(a,m.COMPILE_STATUS)}function h(m){m&&m.tileSize&&(this.tileSize=m.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}y.isWebglSupported=function(m){if(y.isLikelyNode)return!1;m=m||y.WebglFilterBackend.prototype.tileSize;var g=document.createElement("canvas"),r=g.getContext("webgl")||g.getContext("experimental-webgl"),a=!1;if(r){y.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),a=y.maxTextureSize>=m;for(var s=["highp","mediump","lowp"],u=0;u<3;u++)if(b(r,s[u])){y.webGlPrecision=s[u];break}}return this.isSupported=a,a},y.WebglFilterBackend=h,h.prototype={tileSize:2048,resources:{},setupGLContext:function(m,g){this.dispose(),this.createWebGLCanvas(m,g),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(m,g)},chooseFastestCopyGLTo2DMethod:function(m,g){var a,r=typeof window.performance<"u";try{new ImageData(1,1),a=!0}catch{a=!1}var s=typeof ArrayBuffer<"u",u=typeof Uint8ClampedArray<"u";if(r&&a&&s&&u){var C=y.util.createCanvasElement(),d=new ArrayBuffer(m*g*4);if(y.forceGLPutImageData)return this.imageBuffer=d,void(this.copyGLTo2D=U);var S,I,x={imageBuffer:d,destinationWidth:m,destinationHeight:g,targetCanvas:C};C.width=m,C.height=g,S=window.performance.now(),j.call(x,this.gl,x),I=window.performance.now()-S,S=window.performance.now(),U.call(x,this.gl,x),I>window.performance.now()-S?(this.imageBuffer=d,this.copyGLTo2D=U):this.copyGLTo2D=j}},createWebGLCanvas:function(m,g){var r=y.util.createCanvasElement();r.width=m,r.height=g;var a={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},s=r.getContext("webgl",a);s||(s=r.getContext("experimental-webgl",a)),s&&(s.clearColor(0,0,0,0),this.canvas=r,this.gl=s)},applyFilters:function(m,g,r,a,s,u){var d,C=this.gl;u&&(d=this.getCachedTexture(u,g));var x={originalWidth:g.width||g.originalWidth,originalHeight:g.height||g.originalHeight,sourceWidth:r,sourceHeight:a,destinationWidth:r,destinationHeight:a,context:C,sourceTexture:this.createTexture(C,r,a,!d&&g),targetTexture:this.createTexture(C,r,a),originalTexture:d||this.createTexture(C,r,a,!d&&g),passes:m.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},S=C.createFramebuffer();return C.bindFramebuffer(C.FRAMEBUFFER,S),m.forEach(function(I){I&&I.applyTo(x)}),function B(b){var h=b.targetCanvas,r=b.destinationWidth,a=b.destinationHeight;(h.width!==r||h.height!==a)&&(h.width=r,h.height=a)}(x),this.copyGLTo2D(C,x),C.bindTexture(C.TEXTURE_2D,null),C.deleteTexture(x.sourceTexture),C.deleteTexture(x.targetTexture),C.deleteFramebuffer(S),s.getContext("2d").setTransform(1,0,0,1,0,0),x},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(m,g,r,a){var s=m.createTexture();return m.bindTexture(m.TEXTURE_2D,s),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),a?m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,a):m.texImage2D(m.TEXTURE_2D,0,m.RGBA,g,r,0,m.RGBA,m.UNSIGNED_BYTE,null),s},getCachedTexture:function(m,g){if(this.textureCache[m])return this.textureCache[m];var r=this.createTexture(this.gl,g.width,g.height,g);return this.textureCache[m]=r,r},evictCachesForKey:function(m){this.textureCache[m]&&(this.gl.deleteTexture(this.textureCache[m]),delete this.textureCache[m])},copyGLTo2D:j,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var m=this.gl,g={renderer:"",vendor:""};if(!m)return g;var r=m.getExtension("WEBGL_debug_renderer_info");if(r){var a=m.getParameter(r.UNMASKED_RENDERER_WEBGL),s=m.getParameter(r.UNMASKED_VENDOR_WEBGL);a&&(g.renderer=a.toLowerCase()),s&&(g.vendor=s.toLowerCase())}return this.gpuInfo=g,g}}}(),function(){"use strict";var b=function(){};function h(){}y.Canvas2dFilterBackend=h,h.prototype={evictCachesForKey:b,dispose:b,clearWebGLCaches:b,resources:{},applyFilters:function(m,g,r,a,s){var u=s.getContext("2d");u.drawImage(g,0,0,r,a);var x={sourceWidth:r,sourceHeight:a,imageData:u.getImageData(0,0,r,a),originalEl:g,originalImageData:u.getImageData(0,0,r,a),canvasEl:s,ctx:u,filterBackend:this};return m.forEach(function(S){S.applyTo(x)}),(x.imageData.width!==r||x.imageData.height!==a)&&(s.width=x.imageData.width,s.height=x.imageData.height),u.putImageData(x.imageData,0,0),x}}}(),y.Image=y.Image||{},y.Image.filters=y.Image.filters||{},y.Image.filters.BaseFilter=y.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(b){b&&this.setOptions(b)},setOptions:function(b){for(var h in b)this[h]=b[h]},createProgram:function(b,h,m){h=h||this.fragmentSource,m=m||this.vertexSource,"highp"!==y.webGlPrecision&&(h=h.replace(/precision highp float/g,"precision "+y.webGlPrecision+" float"));var g=b.createShader(b.VERTEX_SHADER);if(b.shaderSource(g,m),b.compileShader(g),!b.getShaderParameter(g,b.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+b.getShaderInfoLog(g));var r=b.createShader(b.FRAGMENT_SHADER);if(b.shaderSource(r,h),b.compileShader(r),!b.getShaderParameter(r,b.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+b.getShaderInfoLog(r));var a=b.createProgram();if(b.attachShader(a,g),b.attachShader(a,r),b.linkProgram(a),!b.getProgramParameter(a,b.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+b.getProgramInfoLog(a));var s=this.getAttributeLocations(b,a),u=this.getUniformLocations(b,a)||{};return u.uStepW=b.getUniformLocation(a,"uStepW"),u.uStepH=b.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:s,uniformLocations:u}},getAttributeLocations:function(b,h){return{aPosition:b.getAttribLocation(h,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(b,h,m){var g=h.aPosition,r=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,r),b.enableVertexAttribArray(g),b.vertexAttribPointer(g,2,b.FLOAT,!1,0,0),b.bufferData(b.ARRAY_BUFFER,m,b.STATIC_DRAW)},_setupFrameBuffer:function(b){var m,g,h=b.context;b.passes>1?(g=b.destinationHeight,(b.sourceWidth!==(m=b.destinationWidth)||b.sourceHeight!==g)&&(h.deleteTexture(b.targetTexture),b.targetTexture=b.filterBackend.createTexture(h,m,g)),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,b.targetTexture,0)):(h.bindFramebuffer(h.FRAMEBUFFER,null),h.finish())},_swapTextures:function(b){b.passes--,b.pass++;var h=b.targetTexture;b.targetTexture=b.sourceTexture,b.sourceTexture=h},isNeutralState:function(){var b=this.mainParameter,h=y.Image.filters[this.type].prototype;if(b){if(Array.isArray(h[b])){for(var m=h[b].length;m--;)if(this[b][m]!==h[b][m])return!1;return!0}return h[b]===this[b]}return!1},applyTo:function(b){b.webgl?(this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b)):this.applyTo2d(b)},retrieveShader:function(b){return b.programCache.hasOwnProperty(this.type)||(b.programCache[this.type]=this.createProgram(b.context)),b.programCache[this.type]},applyToWebGL:function(b){var h=b.context,m=this.retrieveShader(b);h.bindTexture(h.TEXTURE_2D,0===b.pass&&b.originalTexture?b.originalTexture:b.sourceTexture),h.useProgram(m.program),this.sendAttributeData(h,m.attributeLocations,b.aPosition),h.uniform1f(m.uniformLocations.uStepW,1/b.sourceWidth),h.uniform1f(m.uniformLocations.uStepH,1/b.sourceHeight),this.sendUniformData(h,m.uniformLocations),h.viewport(0,0,b.destinationWidth,b.destinationHeight),h.drawArrays(h.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(b,h,m){b.activeTexture(m),b.bindTexture(b.TEXTURE_2D,h),b.activeTexture(b.TEXTURE0)},unbindAdditionalTexture:function(b,h){b.activeTexture(h),b.bindTexture(b.TEXTURE_2D,null),b.activeTexture(b.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(b){this[this.mainParameter]=b},sendUniformData:function(){},createHelpLayer:function(b){if(!b.helpLayer){var h=document.createElement("canvas");h.width=b.sourceWidth,h.height=b.sourceHeight,b.helpLayer=h}},toObject:function(){var b={type:this.type},h=this.mainParameter;return h&&(b[h]=this[h]),b},toJSON:function(){return this.toObject()}}),y.Image.filters.BaseFilter.fromObject=function(b,h){var m=new y.Image.filters[b.type](b);return h&&h(m),m},function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.Image.filters;m.ColorMatrix=(0,h.util.createClass)(m.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(r){this.callSuper("initialize",r),this.matrix=this.matrix.slice(0)},applyTo2d:function(r){var d,x,S,I,D,s=r.imageData.data,u=s.length,C=this.matrix,H=this.colorsOnly;for(D=0;D<u;D+=4)d=s[D],x=s[D+1],S=s[D+2],H?(s[D]=d*C[0]+x*C[1]+S*C[2]+255*C[4],s[D+1]=d*C[5]+x*C[6]+S*C[7]+255*C[9],s[D+2]=d*C[10]+x*C[11]+S*C[12]+255*C[14]):(s[D]=d*C[0]+x*C[1]+S*C[2]+(I=s[D+3])*C[3]+255*C[4],s[D+1]=d*C[5]+x*C[6]+S*C[7]+I*C[8]+255*C[9],s[D+2]=d*C[10]+x*C[11]+S*C[12]+I*C[13]+255*C[14],s[D+3]=d*C[15]+x*C[16]+S*C[17]+I*C[18]+255*C[19])},getUniformLocations:function(r,a){return{uColorMatrix:r.getUniformLocation(a,"uColorMatrix"),uConstants:r.getUniformLocation(a,"uConstants")}},sendUniformData:function(r,a){var s=this.matrix,C=[s[4],s[9],s[14],s[19]];r.uniformMatrix4fv(a.uColorMatrix,!1,[s[0],s[1],s[2],s[3],s[5],s[6],s[7],s[8],s[10],s[11],s[12],s[13],s[15],s[16],s[17],s[18]]),r.uniform4fv(a.uConstants,C)}}),h.Image.filters.ColorMatrix.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.Image.filters;m.Brightness=(0,h.util.createClass)(m.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(r){if(0!==this.brightness){var u,s=r.imageData.data,C=s.length,d=Math.round(255*this.brightness);for(u=0;u<C;u+=4)s[u]=s[u]+d,s[u+1]=s[u+1]+d,s[u+2]=s[u+2]+d}},getUniformLocations:function(r,a){return{uBrightness:r.getUniformLocation(a,"uBrightness")}},sendUniformData:function(r,a){r.uniform1f(a.uBrightness,this.brightness)}}),h.Image.filters.Brightness.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.util.object.extend,g=h.Image.filters;g.Convolute=(0,h.util.createClass)(g.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(a){var s=Math.sqrt(this.matrix.length),u=this.type+"_"+s+"_"+(this.opaque?1:0),C=this.fragmentSource[u];return a.programCache.hasOwnProperty(u)||(a.programCache[u]=this.createProgram(a.context,C)),a.programCache[u]},applyTo2d:function(a){var G,W,ee,_e,ge,Re,le,Pe,$,tt,Ae,it,he,s=a.imageData,u=s.data,C=this.matrix,d=Math.round(Math.sqrt(C.length)),x=Math.floor(d/2),S=s.width,I=s.height,D=a.ctx.createImageData(S,I),H=D.data,V=this.opaque?1:0;for(Ae=0;Ae<I;Ae++)for(tt=0;tt<S;tt++){for(ge=4*(Ae*S+tt),G=0,W=0,ee=0,_e=0,he=0;he<d;he++)for(it=0;it<d;it++)Re=tt+it-x,!((le=Ae+he-x)<0||le>=I||Re<0||Re>=S)&&(G+=u[Pe=4*(le*S+Re)]*($=C[he*d+it]),W+=u[Pe+1]*$,ee+=u[Pe+2]*$,V||(_e+=u[Pe+3]*$));H[ge]=G,H[ge+1]=W,H[ge+2]=ee,H[ge+3]=V?u[ge+3]:_e}a.imageData=D},getUniformLocations:function(a,s){return{uMatrix:a.getUniformLocation(s,"uMatrix"),uOpaque:a.getUniformLocation(s,"uOpaque"),uHalfSize:a.getUniformLocation(s,"uHalfSize"),uSize:a.getUniformLocation(s,"uSize")}},sendUniformData:function(a,s){a.uniform1fv(s.uMatrix,this.matrix)},toObject:function(){return m(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),h.Image.filters.Convolute.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.Image.filters;m.Grayscale=(0,h.util.createClass)(m.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(r){var u,d,s=r.imageData.data,C=s.length,x=this.mode;for(u=0;u<C;u+=4)"average"===x?d=(s[u]+s[u+1]+s[u+2])/3:"lightness"===x?d=(Math.min(s[u],s[u+1],s[u+2])+Math.max(s[u],s[u+1],s[u+2]))/2:"luminosity"===x&&(d=.21*s[u]+.72*s[u+1]+.07*s[u+2]),s[u]=d,s[u+1]=d,s[u+2]=d},retrieveShader:function(r){var a=this.type+"_"+this.mode;return r.programCache.hasOwnProperty(a)||(r.programCache[a]=this.createProgram(r.context,this.fragmentSource[this.mode])),r.programCache[a]},getUniformLocations:function(r,a){return{uMode:r.getUniformLocation(a,"uMode")}},sendUniformData:function(r,a){r.uniform1i(a.uMode,1)},isNeutralState:function(){return!1}}),h.Image.filters.Grayscale.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.Image.filters;m.Invert=(0,h.util.createClass)(m.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(r){var u,s=r.imageData.data,C=s.length;for(u=0;u<C;u+=4)s[u]=255-s[u],s[u+1]=255-s[u+1],s[u+2]=255-s[u+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(r,a){return{uInvert:r.getUniformLocation(a,"uInvert")}},sendUniformData:function(r,a){r.uniform1i(a.uInvert,this.invert)}}),h.Image.filters.Invert.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.util.object.extend,g=h.Image.filters;g.Noise=(0,h.util.createClass)(g.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(a){if(0!==this.noise){var C,S,d,u=a.imageData.data,x=this.noise;for(C=0,d=u.length;C<d;C+=4)S=(.5-Math.random())*x,u[C]+=S,u[C+1]+=S,u[C+2]+=S}},getUniformLocations:function(a,s){return{uNoise:a.getUniformLocation(s,"uNoise"),uSeed:a.getUniformLocation(s,"uSeed")}},sendUniformData:function(a,s){a.uniform1f(s.uNoise,this.noise/255),a.uniform1f(s.uSeed,Math.random())},toObject:function(){return m(this.callSuper("toObject"),{noise:this.noise})}}),h.Image.filters.Noise.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.Image.filters;m.Pixelate=(0,h.util.createClass)(m.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(r){var d,x,S,I,D,H,V,G,W,ee,_e,a=r.imageData,s=a.data,u=a.height,C=a.width;for(x=0;x<u;x+=this.blocksize)for(S=0;S<C;S+=this.blocksize)for(I=s[d=4*x*C+4*S],D=s[d+1],H=s[d+2],V=s[d+3],ee=Math.min(x+this.blocksize,u),_e=Math.min(S+this.blocksize,C),G=x;G<ee;G++)for(W=S;W<_e;W++)s[d=4*G*C+4*W]=I,s[d+1]=D,s[d+2]=H,s[d+3]=V},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(r,a){return{uBlocksize:r.getUniformLocation(a,"uBlocksize"),uStepW:r.getUniformLocation(a,"uStepW"),uStepH:r.getUniformLocation(a,"uStepH")}},sendUniformData:function(r,a){r.uniform1f(a.uBlocksize,this.blocksize)}}),h.Image.filters.Pixelate.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.util.object.extend,g=h.Image.filters;g.RemoveColor=(0,h.util.createClass)(g.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(a){var C,x,S,I,u=a.imageData.data,d=255*this.distance,D=new h.Color(this.color).getSource(),H=[D[0]-d,D[1]-d,D[2]-d],V=[D[0]+d,D[1]+d,D[2]+d];for(C=0;C<u.length;C+=4)S=u[C+1],I=u[C+2],(x=u[C])>H[0]&&S>H[1]&&I>H[2]&&x<V[0]&&S<V[1]&&I<V[2]&&(u[C+3]=0)},getUniformLocations:function(a,s){return{uLow:a.getUniformLocation(s,"uLow"),uHigh:a.getUniformLocation(s,"uHigh")}},sendUniformData:function(a,s){var u=new h.Color(this.color).getSource(),C=parseFloat(this.distance),x=[u[0]/255+C,u[1]/255+C,u[2]/255+C,1];a.uniform4fv(s.uLow,[0+u[0]/255-C,0+u[1]/255-C,0+u[2]/255-C,1]),a.uniform4fv(s.uHigh,x)},toObject:function(){return m(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),h.Image.filters.RemoveColor.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.Image.filters,g=h.util.createClass,r={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var a in r)m[a]=g(m.ColorMatrix,{type:a,matrix:r[a],mainParameter:!1,colorsOnly:!0}),h.Image.filters[a].fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric,m=h.Image.filters;m.BlendColor=(0,h.util.createClass)(m.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(r){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[r]+"}\n}"},retrieveShader:function(r){var s,a=this.type+"_"+this.mode;return r.programCache.hasOwnProperty(a)||(s=this.buildSource(this.mode),r.programCache[a]=this.createProgram(r.context,s)),r.programCache[a]},applyTo2d:function(r){var C,d,x,S,I,D,H,s=r.imageData.data,u=s.length,V=1-this.alpha;C=(H=new h.Color(this.color).getSource())[0]*this.alpha,d=H[1]*this.alpha,x=H[2]*this.alpha;for(var G=0;G<u;G+=4)switch(S=s[G],I=s[G+1],D=s[G+2],this.mode){case"multiply":s[G]=S*C/255,s[G+1]=I*d/255,s[G+2]=D*x/255;break;case"screen":s[G]=255-(255-S)*(255-C)/255,s[G+1]=255-(255-I)*(255-d)/255,s[G+2]=255-(255-D)*(255-x)/255;break;case"add":s[G]=S+C,s[G+1]=I+d,s[G+2]=D+x;break;case"diff":case"difference":s[G]=Math.abs(S-C),s[G+1]=Math.abs(I-d),s[G+2]=Math.abs(D-x);break;case"subtract":s[G]=S-C,s[G+1]=I-d,s[G+2]=D-x;break;case"darken":s[G]=Math.min(S,C),s[G+1]=Math.min(I,d),s[G+2]=Math.min(D,x);break;case"lighten":s[G]=Math.max(S,C),s[G+1]=Math.max(I,d),s[G+2]=Math.max(D,x);break;case"overlay":s[G]=C<128?2*S*C/255:255-2*(255-S)*(255-C)/255,s[G+1]=d<128?2*I*d/255:255-2*(255-I)*(255-d)/255,s[G+2]=x<128?2*D*x/255:255-2*(255-D)*(255-x)/255;break;case"exclusion":s[G]=C+S-2*C*S/255,s[G+1]=d+I-2*d*I/255,s[G+2]=x+D-2*x*D/255;break;case"tint":s[G]=C+S*V,s[G+1]=d+I*V,s[G+2]=x+D*V}},getUniformLocations:function(r,a){return{uColor:r.getUniformLocation(a,"uColor")}},sendUniformData:function(r,a){var s=new h.Color(this.color).getSource();s[0]=this.alpha*s[0]/255,s[1]=this.alpha*s[1]/255,s[2]=this.alpha*s[2]/255,s[3]=this.alpha,r.uniform4fv(a.uColor,s)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),h.Image.filters.BlendColor.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric,m=h.Image.filters;m.BlendImage=(0,h.util.createClass)(m.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(r){var a=this.type+"_"+this.mode,s=this.fragmentSource[this.mode];return r.programCache.hasOwnProperty(a)||(r.programCache[a]=this.createProgram(r.context,s)),r.programCache[a]},applyToWebGL:function(r){var a=r.context,s=this.createTexture(r.filterBackend,this.image);this.bindAdditionalTexture(a,s,a.TEXTURE1),this.callSuper("applyToWebGL",r),this.unbindAdditionalTexture(a,a.TEXTURE1)},createTexture:function(r,a){return r.getCachedTexture(a.cacheKey,a._element)},calculateMatrix:function(){var r=this.image;return[1/r.scaleX,0,0,0,1/r.scaleY,0,-r.left/r._element.width,-r.top/r._element.height,1]},applyTo2d:function(r){var S,I,D,H,V,G,W,ee,_e,ge,le,a=r.imageData,s=r.filterBackend.resources,u=a.data,C=u.length,d=a.width,x=a.height,Re=this.image;s.blendImage||(s.blendImage=h.util.createCanvasElement()),ge=(_e=s.blendImage).getContext("2d"),_e.width!==d||_e.height!==x?(_e.width=d,_e.height=x):ge.clearRect(0,0,d,x),ge.setTransform(Re.scaleX,0,0,Re.scaleY,Re.left,Re.top),ge.drawImage(Re._element,0,0,d,x),le=ge.getImageData(0,0,d,x).data;for(var Pe=0;Pe<C;Pe+=4)switch(V=u[Pe],G=u[Pe+1],W=u[Pe+2],ee=u[Pe+3],S=le[Pe],I=le[Pe+1],D=le[Pe+2],H=le[Pe+3],this.mode){case"multiply":u[Pe]=V*S/255,u[Pe+1]=G*I/255,u[Pe+2]=W*D/255,u[Pe+3]=ee*H/255;break;case"mask":u[Pe+3]=H}},getUniformLocations:function(r,a){return{uTransformMatrix:r.getUniformLocation(a,"uTransformMatrix"),uImage:r.getUniformLocation(a,"uImage")}},sendUniformData:function(r,a){var s=this.calculateMatrix();r.uniform1i(a.uImage,1),r.uniformMatrix3fv(a.uTransformMatrix,!1,s)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),h.Image.filters.BlendImage.fromObject=function(r,a){h.Image.fromObject(r.image,function(s){var u=h.util.object.clone(r);u.image=s,a(new h.Image.filters.BlendImage(u))})}}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=Math.pow,g=Math.floor,r=Math.sqrt,a=Math.abs,s=Math.round,u=Math.sin,C=Math.ceil,d=h.Image.filters;d.Resize=(0,h.util.createClass)(d.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(S,I){return{uDelta:S.getUniformLocation(I,"uDelta"),uTaps:S.getUniformLocation(I,"uTaps")}},sendUniformData:function(S,I){S.uniform2fv(I.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),S.uniform1fv(I.uTaps,this.taps)},retrieveShader:function(S){var I=this.getFilterWindow(),D=this.type+"_"+I;if(!S.programCache.hasOwnProperty(D)){var H=this.generateShader(I);S.programCache[D]=this.createProgram(S.context,H)}return S.programCache[D]},getFilterWindow:function(){return Math.ceil(this.lanczosLobes/this.tempScale)},getTaps:function(){for(var S=this.lanczosCreate(this.lanczosLobes),I=this.tempScale,D=this.getFilterWindow(),H=new Array(D),V=1;V<=D;V++)H[V-1]=S(V*I);return H},generateShader:function(H){for(var I=new Array(H),D=this.fragmentSourceTOP,V=1;V<=H;V++)I[V-1]=V+".0 * uDelta";return D+="uniform float uTaps["+H+"];\n",D+="void main() {\n",D+="  vec4 color = texture2D(uTexture, vTexCoord);\n",D+="  float sum = 1.0;\n",I.forEach(function(G,W){D+="  color += texture2D(uTexture, vTexCoord + "+G+") * uTaps["+W+"];\n",D+="  color += texture2D(uTexture, vTexCoord - "+G+") * uTaps["+W+"];\n",D+="  sum += 2.0 * uTaps["+W+"];\n"}),D+="  gl_FragColor = color / sum;\n",D+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(S){S.webgl?(S.passes++,this.width=S.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=S.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),S.destinationWidth=this.dW,this._setupFrameBuffer(S),this.applyToWebGL(S),this._swapTextures(S),S.sourceWidth=S.destinationWidth,this.height=S.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),S.destinationHeight=this.dH,this._setupFrameBuffer(S),this.applyToWebGL(S),this._swapTextures(S),S.sourceHeight=S.destinationHeight):this.applyTo2d(S)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(S){return function(I){if(I>=S||I<=-S)return 0;if(I<1.1920929e-7&&I>-1.1920929e-7)return 1;var D=(I*=Math.PI)/S;return u(I)/I*u(D)/D}},applyTo2d:function(S){var I=S.imageData,D=this.scaleX,H=this.scaleY;this.rcpScaleX=1/D,this.rcpScaleY=1/H;var _e,V=I.width,G=I.height,W=s(V*D),ee=s(G*H);"sliceHack"===this.resizeType?_e=this.sliceByTwo(S,V,G,W,ee):"hermite"===this.resizeType?_e=this.hermiteFastResize(S,V,G,W,ee):"bilinear"===this.resizeType?_e=this.bilinearFiltering(S,V,G,W,ee):"lanczos"===this.resizeType&&(_e=this.lanczosResize(S,V,G,W,ee)),S.imageData=_e},sliceByTwo:function(S,I,D,H,V){var Pe,$,G=S.imageData,W=.5,ee=!1,_e=!1,ge=I*W,Re=D*W,le=h.filterBackend.resources,tt=0,Ae=0,it=I,he=0;for(le.sliceByTwo||(le.sliceByTwo=document.createElement("canvas")),((Pe=le.sliceByTwo).width<1.5*I||Pe.height<D)&&(Pe.width=1.5*I,Pe.height=D),($=Pe.getContext("2d")).clearRect(0,0,1.5*I,D),$.putImageData(G,0,0),H=g(H),V=g(V);!ee||!_e;)I=ge,D=Re,H<g(ge*W)?ge=g(ge*W):(ge=H,ee=!0),V<g(Re*W)?Re=g(Re*W):(Re=V,_e=!0),$.drawImage(Pe,tt,Ae,I,D,it,he,ge,Re),tt=it,Ae=he,he+=Re;return $.getImageData(tt,Ae,H,V)},lanczosResize:function(S,I,D,H,V){var W=S.imageData.data,ee=S.ctx.createImageData(H,V),_e=ee.data,ge=this.lanczosCreate(this.lanczosLobes),Re=this.rcpScaleX,le=this.rcpScaleY,Pe=2/this.rcpScaleX,$=2/this.rcpScaleY,tt=C(Re*this.lanczosLobes/2),Ae=C(le*this.lanczosLobes/2),it={},he={},fe={};return function G(se){var ie,xe,K,te,ne,ae,Te,be,Ne,De,ke;for(he.x=(se+.5)*Re,fe.x=g(he.x),ie=0;ie<V;ie++){for(he.y=(ie+.5)*le,fe.y=g(he.y),ne=0,ae=0,Te=0,be=0,Ne=0,xe=fe.x-tt;xe<=fe.x+tt;xe++)if(!(xe<0||xe>=I)){De=g(1e3*a(xe-he.x)),it[De]||(it[De]={});for(var me=fe.y-Ae;me<=fe.y+Ae;me++)me<0||me>=D||(ke=g(1e3*a(me-he.y)),it[De][ke]||(it[De][ke]=ge(r(m(De*Pe,2)+m(ke*$,2))/1e3)),(K=it[De][ke])>0&&(ne+=K,ae+=K*W[te=4*(me*I+xe)],Te+=K*W[te+1],be+=K*W[te+2],Ne+=K*W[te+3]))}_e[te=4*(ie*H+se)]=ae/ne,_e[te+1]=Te/ne,_e[te+2]=be/ne,_e[te+3]=Ne/ne}return++se<H?G(se):ee}(0)},bilinearFiltering:function(S,I,D,H,V){var ge,Re,le,Pe,$,tt,Ae,fe,he=0,se=this.rcpScaleX,ie=this.rcpScaleY,xe=4*(I-1),te=S.imageData.data,ne=S.ctx.createImageData(H,V),ae=ne.data;for(le=0;le<V;le++)for(Pe=0;Pe<H;Pe++)for($=se*Pe-(ge=g(se*Pe)),tt=ie*le-(Re=g(ie*le)),fe=4*(Re*I+ge),Ae=0;Ae<4;Ae++)ae[he++]=te[fe+Ae]*(1-$)*(1-tt)+te[fe+4+Ae]*$*(1-tt)+te[fe+xe+Ae]*tt*(1-$)+te[fe+xe+4+Ae]*$*tt;return ne},hermiteFastResize:function(S,I,D,H,V){for(var G=this.rcpScaleX,W=this.rcpScaleY,ee=C(G/2),_e=C(W/2),Re=S.imageData.data,le=S.ctx.createImageData(H,V),Pe=le.data,$=0;$<V;$++)for(var tt=0;tt<H;tt++){for(var Ae=4*(tt+$*H),it=0,he=0,fe=0,se=0,ie=0,xe=0,K=0,te=($+.5)*W,ne=g($*W);ne<($+1)*W;ne++)for(var ae=a(te-(ne+.5))/_e,Te=(tt+.5)*G,be=ae*ae,Ne=g(tt*G);Ne<(tt+1)*G;Ne++){var De=a(Te-(Ne+.5))/ee,ke=r(be+De*De);ke>1&&ke<-1||(it=2*ke*ke*ke-3*ke*ke+1)>0&&(K+=it*Re[3+(De=4*(Ne+ne*I))],fe+=it,Re[De+3]<255&&(it=it*Re[De+3]/250),se+=it*Re[De],ie+=it*Re[De+1],xe+=it*Re[De+2],he+=it)}Pe[Ae]=se/he,Pe[Ae+1]=ie/he,Pe[Ae+2]=xe/he,Pe[Ae+3]=K/fe}return le},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),h.Image.filters.Resize.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.Image.filters;m.Contrast=(0,h.util.createClass)(m.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(r){if(0!==this.contrast){var s,u=r.imageData.data,C=u.length,d=Math.floor(255*this.contrast),x=259*(d+255)/(255*(259-d));for(s=0;s<C;s+=4)u[s]=x*(u[s]-128)+128,u[s+1]=x*(u[s+1]-128)+128,u[s+2]=x*(u[s+2]-128)+128}},getUniformLocations:function(r,a){return{uContrast:r.getUniformLocation(a,"uContrast")}},sendUniformData:function(r,a){r.uniform1f(a.uContrast,this.contrast)}}),h.Image.filters.Contrast.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.Image.filters;m.Saturation=(0,h.util.createClass)(m.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(r){if(0!==this.saturation){var d,x,s=r.imageData.data,u=s.length,C=-this.saturation;for(d=0;d<u;d+=4)x=Math.max(s[d],s[d+1],s[d+2]),s[d]+=x!==s[d]?(x-s[d])*C:0,s[d+1]+=x!==s[d+1]?(x-s[d+1])*C:0,s[d+2]+=x!==s[d+2]?(x-s[d+2])*C:0}},getUniformLocations:function(r,a){return{uSaturation:r.getUniformLocation(a,"uSaturation")}},sendUniformData:function(r,a){r.uniform1f(a.uSaturation,-this.saturation)}}),h.Image.filters.Saturation.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.Image.filters;m.Vibrance=(0,h.util.createClass)(m.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(r){if(0!==this.vibrance){var d,x,I,s=r.imageData.data,u=s.length,C=-this.vibrance;for(d=0;d<u;d+=4)x=Math.max(s[d],s[d+1],s[d+2]),I=2*Math.abs(x-(s[d]+s[d+1]+s[d+2])/3)/255*C,s[d]+=x!==s[d]?(x-s[d])*I:0,s[d+1]+=x!==s[d+1]?(x-s[d+1])*I:0,s[d+2]+=x!==s[d+2]?(x-s[d+2])*I:0}},getUniformLocations:function(r,a){return{uVibrance:r.getUniformLocation(a,"uVibrance")}},sendUniformData:function(r,a){r.uniform1f(a.uVibrance,-this.vibrance)}}),h.Image.filters.Vibrance.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.Image.filters;m.Blur=(0,h.util.createClass)(m.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(r){r.webgl?(this.aspectRatio=r.sourceWidth/r.sourceHeight,r.passes++,this._setupFrameBuffer(r),this.horizontal=!0,this.applyToWebGL(r),this._swapTextures(r),this._setupFrameBuffer(r),this.horizontal=!1,this.applyToWebGL(r),this._swapTextures(r)):this.applyTo2d(r)},applyTo2d:function(r){r.imageData=this.simpleBlur(r)},simpleBlur:function(r){var s,u,a=r.filterBackend.resources,C=r.imageData.width,d=r.imageData.height;a.blurLayer1||(a.blurLayer1=h.util.createCanvasElement(),a.blurLayer2=h.util.createCanvasElement()),u=a.blurLayer2,((s=a.blurLayer1).width!==C||s.height!==d)&&(u.width=s.width=C,u.height=s.height=d);var D,H,V,G,x=s.getContext("2d"),S=u.getContext("2d"),I=15,W=.06*this.blur*.5;for(x.putImageData(r.imageData,0,0),S.clearRect(0,0,C,d),G=-I;G<=I;G++)V=W*(H=G/I)*C+(D=(Math.random()-.5)/4),S.globalAlpha=1-Math.abs(H),S.drawImage(s,V,D),x.drawImage(u,0,0),S.globalAlpha=1,S.clearRect(0,0,u.width,u.height);for(G=-I;G<=I;G++)V=W*(H=G/I)*d+(D=(Math.random()-.5)/4),S.globalAlpha=1-Math.abs(H),S.drawImage(s,D,V),x.drawImage(u,0,0),S.globalAlpha=1,S.clearRect(0,0,u.width,u.height);r.ctx.drawImage(s,0,0);var ee=r.ctx.getImageData(0,0,s.width,s.height);return x.globalAlpha=1,x.clearRect(0,0,s.width,s.height),ee},getUniformLocations:function(r,a){return{delta:r.getUniformLocation(a,"uDelta")}},sendUniformData:function(r,a){var s=this.chooseRightDelta();r.uniform2fv(a.delta,s)},chooseRightDelta:function(){var s,r=1,a=[0,0];return this.horizontal?this.aspectRatio>1&&(r=1/this.aspectRatio):this.aspectRatio<1&&(r=this.aspectRatio),s=r*this.blur*.12,this.horizontal?a[0]=s:a[1]=s,a}}),m.Blur.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.Image.filters;m.Gamma=(0,h.util.createClass)(m.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(r){this.gamma=[1,1,1],m.BaseFilter.prototype.initialize.call(this,r)},applyTo2d:function(r){var I,s=r.imageData.data,u=this.gamma,C=s.length,d=1/u[0],x=1/u[1],S=1/u[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),I=0,C=256;I<C;I++)this.rVals[I]=255*Math.pow(I/255,d),this.gVals[I]=255*Math.pow(I/255,x),this.bVals[I]=255*Math.pow(I/255,S);for(I=0,C=s.length;I<C;I+=4)s[I]=this.rVals[s[I]],s[I+1]=this.gVals[s[I+1]],s[I+2]=this.bVals[s[I+2]]},getUniformLocations:function(r,a){return{uGamma:r.getUniformLocation(a,"uGamma")}},sendUniformData:function(r,a){r.uniform3fv(a.uGamma,this.gamma)}}),h.Image.filters.Gamma.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.Image.filters;m.Composed=(0,h.util.createClass)(m.BaseFilter,{type:"Composed",subFilters:[],initialize:function(r){this.callSuper("initialize",r),this.subFilters=this.subFilters.slice(0)},applyTo:function(r){r.passes+=this.subFilters.length-1,this.subFilters.forEach(function(a){a.applyTo(r)})},toObject:function(){return h.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(r){return r.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(r){return!r.isNeutralState()})}}),h.Image.filters.Composed.fromObject=function(r,a){var u=(r.subFilters||[]).map(function(d){return new h.Image.filters[d.type](d)}),C=new h.Image.filters.Composed({subFilters:u});return a&&a(C),C}}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.Image.filters;m.HueRotation=(0,h.util.createClass)(m.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var r=this.rotation*Math.PI,a=h.util.cos(r),s=h.util.sin(r),u=1/3,C=Math.sqrt(u)*s,d=1-a;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=a+d/3,this.matrix[1]=u*d-C,this.matrix[2]=u*d+C,this.matrix[5]=u*d+C,this.matrix[6]=a+u*d,this.matrix[7]=u*d-C,this.matrix[10]=u*d-C,this.matrix[11]=u*d+C,this.matrix[12]=a+u*d},isNeutralState:function(r){return this.calculateMatrix(),m.BaseFilter.prototype.isNeutralState.call(this,r)},applyTo:function(r){this.calculateMatrix(),m.BaseFilter.prototype.applyTo.call(this,r)}}),h.Image.filters.HueRotation.fromObject=h.Image.filters.BaseFilter.fromObject}(R),function(b){"use strict";var h=b.fabric||(b.fabric={}),m=h.util.object.clone;if(h.Text)h.warn("fabric.Text is already defined");else{var g="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");h.Text=h.util.createClass(h.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:h.Object.prototype.stateProperties.concat(g),cacheProperties:h.Object.prototype.cacheProperties.concat(g),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(r,a){this.styles=a&&a.styles||{},this.text=r,this.__skipDimension=!0,this.callSuper("initialize",a),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var r=this.path;r&&(r.segmentsInfo=h.util.getPathSegmentsInfo(r.path))},getMeasuringContext:function(){return h._measuringContext||(h._measuringContext=this.canvas&&this.canvas.contextCache||h.util.createCanvasElement().getContext("2d")),h._measuringContext},_splitText:function(){var r=this._splitTextIntoLines(this.text);return this.textLines=r.lines,this._textLines=r.graphemeLines,this._unwrappedTextLines=r._unwrappedLines,this._text=r.graphemeText,r},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var r,a,u,C,d,x,S=0,I=this._textLines.length;S<I;S++)if(("justify"===this.textAlign||S!==I-1&&!this.isEndOfWrapping(S))&&(u=0,C=this._textLines[S],(a=this.getLineWidth(S))<this.width&&(x=this.textLines[S].match(this._reSpacesAndTabs)))){r=(this.width-a)/x.length;for(var D=0,H=C.length;D<=H;D++)d=this.__charBounds[S][D],this._reSpaceAndTab.test(C[D])?(d.width+=r,d.kernedWidth+=r,d.left+=u,u+=r):d.left+=u}},isEndOfWrapping:function(r){return r===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var r=this.callSuper("_getCacheCanvasDimensions"),a=this.fontSize;return r.width+=a*r.zoomX,r.height+=a*r.zoomY,r},_render:function(r){var a=this.path;a&&!a.isNotVisible()&&a._render(r),this._setTextStyles(r),this._renderTextLinesBackground(r),this._renderTextDecoration(r,"underline"),this._renderText(r),this._renderTextDecoration(r,"overline"),this._renderTextDecoration(r,"linethrough")},_renderText:function(r){"stroke"===this.paintFirst?(this._renderTextStroke(r),this._renderTextFill(r)):(this._renderTextFill(r),this._renderTextStroke(r))},_setTextStyles:function(r,a,s){r.textBaseline="alphabetic",r.font=this._getFontDeclaration(a,s)},calcTextWidth:function(){for(var r=this.getLineWidth(0),a=1,s=this._textLines.length;a<s;a++){var u=this.getLineWidth(a);u>r&&(r=u)}return r},_renderTextLine:function(r,a,s,u,C,d){this._renderChars(r,a,s,u,C,d)},_renderTextLinesBackground:function(r){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var a,s,C,d,H,V,W,u=r.fillStyle,x=this._getLeftOffset(),S=this._getTopOffset(),I=0,D=0,G=this.path,ee=0,_e=this._textLines.length;ee<_e;ee++)if(a=this.getHeightOfLine(ee),this.textBackgroundColor||this.styleHas("textBackgroundColor",ee)){C=this._textLines[ee],s=this._getLineLeftOffset(ee),D=0,I=0,d=this.getValueOfPropertyAt(ee,0,"textBackgroundColor");for(var ge=0,Re=C.length;ge<Re;ge++)H=this.__charBounds[ee][ge],V=this.getValueOfPropertyAt(ee,ge,"textBackgroundColor"),G?(r.save(),r.translate(H.renderLeft,H.renderTop),r.rotate(H.angle),r.fillStyle=V,V&&r.fillRect(-H.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),H.width,a/this.lineHeight),r.restore()):V!==d?(W=x+s+I,"rtl"===this.direction&&(W=this.width-W-D),r.fillStyle=d,d&&r.fillRect(W,S,D,a/this.lineHeight),I=H.left,D=H.width,d=V):D+=H.kernedWidth;V&&!G&&(W=x+s+I,"rtl"===this.direction&&(W=this.width-W-D),r.fillStyle=V,r.fillRect(W,S,D,a/this.lineHeight)),S+=a}else S+=a;r.fillStyle=u,this._removeShadow(r)}},getFontCache:function(r){var a=r.fontFamily.toLowerCase();h.charWidthsCache[a]||(h.charWidthsCache[a]={});var s=h.charWidthsCache[a],u=r.fontStyle.toLowerCase()+"_"+(r.fontWeight+"").toLowerCase();return s[u]||(s[u]={}),s[u]},_measureChar:function(r,a,s,u){var D,H,V,W,C=this.getFontCache(a),S=s+r,I=this._getFontDeclaration(a)===this._getFontDeclaration(u),G=a.fontSize/this.CACHE_FONT_SIZE;if(s&&void 0!==C[s]&&(V=C[s]),void 0!==C[r]&&(W=D=C[r]),I&&void 0!==C[S]&&(W=(H=C[S])-V),void 0===D||void 0===V||void 0===H){var ee=this.getMeasuringContext();this._setTextStyles(ee,a,!0)}return void 0===D&&(W=D=ee.measureText(r).width,C[r]=D),void 0===V&&I&&s&&(V=ee.measureText(s).width,C[s]=V),I&&void 0===H&&(H=ee.measureText(S).width,C[S]=H,W=H-V),{width:D*G,kernedWidth:W*G}},getHeightOfChar:function(r,a){return this.getValueOfPropertyAt(r,a,"fontSize")},measureLine:function(r){var a=this._measureLine(r);return 0!==this.charSpacing&&(a.width-=this._getWidthOfCharSpacing()),a.width<0&&(a.width=0),a},_measureLine:function(r){var s,u,d,x,H,V,a=0,C=this._textLines[r],I=new Array(C.length),D=0,G=this.path,W="right"===this.pathSide;for(this.__charBounds[r]=I,s=0;s<C.length;s++)x=this._getGraphemeBox(u=C[s],r,s,d),I[s]=x,a+=x.kernedWidth,d=u;if(I[s]={left:x?x.left+x.width:0,width:0,kernedWidth:0,height:this.fontSize},G){switch(V=G.segmentsInfo[G.segmentsInfo.length-1].length,(H=h.util.getPointOnPath(G.path,0,G.segmentsInfo)).x+=G.pathOffset.x,H.y+=G.pathOffset.y,this.textAlign){case"left":D=W?V-a:0;break;case"center":D=(V-a)/2;break;case"right":D=W?0:V-a}for(D+=this.pathStartOffset*(W?-1:1),s=W?C.length-1:0;W?s>=0:s<C.length;W?s--:s++)D>V?D%=V:D<0&&(D+=V),this._setGraphemeOnPath(D,x=I[s],H),D+=x.kernedWidth}return{width:a,numOfSpaces:0}},_setGraphemeOnPath:function(r,a,s){var C=this.path,d=h.util.getPointOnPath(C.path,r+a.kernedWidth/2,C.segmentsInfo);a.renderLeft=d.x-s.x,a.renderTop=d.y-s.y,a.angle=d.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(r,a,s,u,C){var H,d=this.getCompleteStyleDeclaration(a,s),x=u?this.getCompleteStyleDeclaration(a,s-1):{},S=this._measureChar(r,d,u,x),I=S.kernedWidth,D=S.width;0!==this.charSpacing&&(D+=H=this._getWidthOfCharSpacing(),I+=H);var V={width:D,left:0,height:d.fontSize,kernedWidth:I,deltaY:d.deltaY};if(s>0&&!C){var G=this.__charBounds[a][s-1];V.left=G.left+G.width+S.kernedWidth-S.width}return V},getHeightOfLine:function(r){if(this.__lineHeights[r])return this.__lineHeights[r];for(var a=this._textLines[r],s=this.getHeightOfChar(r,0),u=1,C=a.length;u<C;u++)s=Math.max(this.getHeightOfChar(r,u),s);return this.__lineHeights[r]=s*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var r,a=0,s=0,u=this._textLines.length;s<u;s++)r=this.getHeightOfLine(s),a+=s===u-1?r/this.lineHeight:r;return a},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(r,a){r.save();for(var s=0,u=this._getLeftOffset(),C=this._getTopOffset(),d=0,x=this._textLines.length;d<x;d++){var S=this.getHeightOfLine(d),I=S/this.lineHeight,D=this._getLineLeftOffset(d);this._renderTextLine(a,r,this._textLines[d],u+D,C+s+I,d),s+=S}r.restore()},_renderTextFill:function(r){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(r,"fillText")},_renderTextStroke:function(r){(!this.stroke||0===this.strokeWidth)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(r),r.save(),this._setLineDash(r,this.strokeDashArray),r.beginPath(),this._renderTextCommon(r,"strokeText"),r.closePath(),r.restore())},_renderChars:function(r,a,s,u,C,d){var I,D,V,W,le,x=this.getHeightOfLine(d),S=-1!==this.textAlign.indexOf("justify"),H="",G=0,ee=this.path,_e=!S&&0===this.charSpacing&&this.isEmptyStyles(d)&&!ee,ge="ltr"===this.direction,Re="ltr"===this.direction?1:-1;if(a.save(),C-=x*this._fontSizeFraction/this.lineHeight,_e)return a.canvas.setAttribute("dir",ge?"ltr":"rtl"),a.direction=ge?"ltr":"rtl",a.textAlign=ge?"left":"right",this._renderChar(r,a,d,0,s.join(""),u,C,x),void a.restore();for(var Pe=0,$=s.length-1;Pe<=$;Pe++)W=Pe===$||this.charSpacing||ee,H+=s[Pe],V=this.__charBounds[d][Pe],0===G?(u+=Re*(V.kernedWidth-V.width),G+=V.width):G+=V.kernedWidth,S&&!W&&this._reSpaceAndTab.test(s[Pe])&&(W=!0),W||(I=I||this.getCompleteStyleDeclaration(d,Pe),D=this.getCompleteStyleDeclaration(d,Pe+1),W=this._hasStyleChanged(I,D)),W&&(ee?(a.save(),a.translate(V.renderLeft,V.renderTop),a.rotate(V.angle),this._renderChar(r,a,d,Pe,H,-G/2,0,x),a.restore()):(le=u,a.canvas.setAttribute("dir",ge?"ltr":"rtl"),a.direction=ge?"ltr":"rtl",a.textAlign=ge?"left":"right",this._renderChar(r,a,d,Pe,H,le,C,x)),H="",I=D,u+=Re*G,G=0);a.restore()},_applyPatternGradientTransformText:function(r){var s,a=h.util.createCanvasElement(),u=this.width+this.strokeWidth,C=this.height+this.strokeWidth;return a.width=u,a.height=C,(s=a.getContext("2d")).beginPath(),s.moveTo(0,0),s.lineTo(u,0),s.lineTo(u,C),s.lineTo(0,C),s.closePath(),s.translate(u/2,C/2),s.fillStyle=r.toLive(s),this._applyPatternGradientTransform(s,r),s.fill(),s.createPattern(a,"no-repeat")},handleFiller:function(r,a,s){var u,C;return s.toLive?"percentage"===s.gradientUnits||s.gradientTransform||s.patternTransform?(r.translate(u=-this.width/2,C=-this.height/2),r[a]=this._applyPatternGradientTransformText(s),{offsetX:u,offsetY:C}):(r[a]=s.toLive(r,this),this._applyPatternGradientTransform(r,s)):(r[a]=s,{offsetX:0,offsetY:0})},_setStrokeStyles:function(r,a){return r.lineWidth=a.strokeWidth,r.lineCap=this.strokeLineCap,r.lineDashOffset=this.strokeDashOffset,r.lineJoin=this.strokeLineJoin,r.miterLimit=this.strokeMiterLimit,this.handleFiller(r,"strokeStyle",a.stroke)},_setFillStyles:function(r,a){return this.handleFiller(r,"fillStyle",a.fill)},_renderChar:function(r,a,s,u,C,d,x){var V,G,S=this._getStyleDeclaration(s,u),I=this.getCompleteStyleDeclaration(s,u),D="fillText"===r&&I.fill,H="strokeText"===r&&I.stroke&&I.strokeWidth;!H&&!D||(a.save(),D&&(V=this._setFillStyles(a,I)),H&&(G=this._setStrokeStyles(a,I)),a.font=this._getFontDeclaration(I),S&&S.textBackgroundColor&&this._removeShadow(a),S&&S.deltaY&&(x+=S.deltaY),D&&a.fillText(C,d-V.offsetX,x-V.offsetY),H&&a.strokeText(C,d-G.offsetX,x-G.offsetY),a.restore())},setSuperscript:function(r,a){return this._setScript(r,a,this.superscript)},setSubscript:function(r,a){return this._setScript(r,a,this.subscript)},_setScript:function(r,a,s){var u=this.get2DCursorLocation(r,!0),C=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"fontSize"),d=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"deltaY");return this.setSelectionStyles({fontSize:C*s.size,deltaY:d+C*s.baseline},r,a),this},_hasStyleChanged:function(r,a){return r.fill!==a.fill||r.stroke!==a.stroke||r.strokeWidth!==a.strokeWidth||r.fontSize!==a.fontSize||r.fontFamily!==a.fontFamily||r.fontWeight!==a.fontWeight||r.fontStyle!==a.fontStyle||r.deltaY!==a.deltaY},_hasStyleChangedForSvg:function(r,a){return this._hasStyleChanged(r,a)||r.overline!==a.overline||r.underline!==a.underline||r.linethrough!==a.linethrough},_getLineLeftOffset:function(r){var a=this.getLineWidth(r),s=this.width-a,u=this.textAlign,C=this.direction,d=0,x=this.isEndOfWrapping(r);return"justify"===u||"justify-center"===u&&!x||"justify-right"===u&&!x||"justify-left"===u&&!x?0:("center"===u&&(d=s/2),"right"===u&&(d=s),"justify-center"===u&&(d=s/2),"justify-right"===u&&(d=s),"rtl"===C&&(d-=s),d)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var r=this._forceClearCache;return r||(r=this.hasStateChanged("_dimensionAffectingProps")),r&&(this.dirty=!0,this._forceClearCache=!1),r},getLineWidth:function(r){return this.__lineWidths[r]?this.__lineWidths[r]:(a=""===this._textLines[r]?0:this.measureLine(r).width,this.__lineWidths[r]=a,a);var a},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(r,a,s){var u=this._getStyleDeclaration(r,a);return u&&typeof u[s]<"u"?u[s]:this[s]},_renderTextDecoration:function(r,a){if(this[a]||this.styleHas(a)){for(var s,u,C,d,x,S,I,D,G,W,ee,_e,ge,Re,le,Pe,H=this._getLeftOffset(),V=this._getTopOffset(),$=this.path,tt=this._getWidthOfCharSpacing(),Ae=this.offsets[a],it=0,he=this._textLines.length;it<he;it++)if(s=this.getHeightOfLine(it),this[a]||this.styleHas(a,it)){I=this._textLines[it],Re=s/this.lineHeight,d=this._getLineLeftOffset(it),W=0,ee=0,D=this.getValueOfPropertyAt(it,0,a),Pe=this.getValueOfPropertyAt(it,0,"fill"),G=V+Re*(1-this._fontSizeFraction),u=this.getHeightOfChar(it,0),x=this.getValueOfPropertyAt(it,0,"deltaY");for(var fe=0,se=I.length;fe<se;fe++)if(_e=this.__charBounds[it][fe],ge=this.getValueOfPropertyAt(it,fe,a),le=this.getValueOfPropertyAt(it,fe,"fill"),C=this.getHeightOfChar(it,fe),S=this.getValueOfPropertyAt(it,fe,"deltaY"),$&&ge&&le)r.save(),r.fillStyle=Pe,r.translate(_e.renderLeft,_e.renderTop),r.rotate(_e.angle),r.fillRect(-_e.kernedWidth/2,Ae*C+S,_e.kernedWidth,this.fontSize/15),r.restore();else if((ge!==D||le!==Pe||C!==u||S!==x)&&ee>0){var ie=H+d+W;"rtl"===this.direction&&(ie=this.width-ie-ee),D&&Pe&&(r.fillStyle=Pe,r.fillRect(ie,G+Ae*u+x,ee,this.fontSize/15)),W=_e.left,ee=_e.width,D=ge,Pe=le,u=C,x=S}else ee+=_e.kernedWidth;ie=H+d+W,"rtl"===this.direction&&(ie=this.width-ie-ee),r.fillStyle=le,ge&&le&&r.fillRect(ie,G+Ae*u+x,ee-tt,this.fontSize/15),V+=s}else V+=s;this._removeShadow(r)}},_getFontDeclaration:function(r,a){var s=r||this,u=this.fontFamily,C=h.Text.genericFonts.indexOf(u.toLowerCase())>-1,d=void 0===u||u.indexOf("'")>-1||u.indexOf(",")>-1||u.indexOf('"')>-1||C?s.fontFamily:'"'+s.fontFamily+'"';return[h.isLikelyNode?s.fontWeight:s.fontStyle,h.isLikelyNode?s.fontStyle:s.fontWeight,a?this.CACHE_FONT_SIZE+"px":s.fontSize+"px",d].join(" ")},render:function(r){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",r)))},_splitTextIntoLines:function(r){for(var a=r.split(this._reNewline),s=new Array(a.length),u=["\n"],C=[],d=0;d<a.length;d++)s[d]=h.util.string.graphemeSplit(a[d]),C=C.concat(s[d],u);return C.pop(),{_unwrappedLines:s,lines:a,graphemeText:C,graphemeLines:s}},toObject:function(r){var a=g.concat(r),s=this.callSuper("toObject",a);return s.styles=m(this.styles,!0),s.path&&(s.path=this.path.toObject()),s},set:function(r,a){this.callSuper("set",r,a);var s=!1,u=!1;if("object"==typeof r)for(var C in r)"path"===C&&this.setPathInfo(),s=s||-1!==this._dimensionAffectingProps.indexOf(C),u=u||"path"===C;else s=-1!==this._dimensionAffectingProps.indexOf(r),u="path"===r;return u&&this.setPathInfo(),s&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),h.Text.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),h.Text.DEFAULT_SVG_FONT_SIZE=16,h.Text.fromElement=function(r,a,s){if(!r)return a(null);var u=h.parseAttributes(r,h.Text.ATTRIBUTE_NAMES),C=u.textAnchor||"left";if((s=h.util.object.extend(s?m(s):{},u)).top=s.top||0,s.left=s.left||0,u.textDecoration){var d=u.textDecoration;-1!==d.indexOf("underline")&&(s.underline=!0),-1!==d.indexOf("overline")&&(s.overline=!0),-1!==d.indexOf("line-through")&&(s.linethrough=!0),delete s.textDecoration}"dx"in u&&(s.left+=u.dx),"dy"in u&&(s.top+=u.dy),"fontSize"in s||(s.fontSize=h.Text.DEFAULT_SVG_FONT_SIZE);var x="";"textContent"in r?x=r.textContent:"firstChild"in r&&null!==r.firstChild&&"data"in r.firstChild&&null!==r.firstChild.data&&(x=r.firstChild.data),x=x.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var S=s.strokeWidth;s.strokeWidth=0;var I=new h.Text(x,s),D=I.getScaledHeight()/I.height,V=((I.height+I.strokeWidth)*I.lineHeight-I.height)*D,G=I.getScaledHeight()+V,W=0;"center"===C&&(W=I.getScaledWidth()/2),"right"===C&&(W=I.getScaledWidth()),I.set({left:I.left-W,top:I.top-(G-I.fontSize*(.07+I._fontSizeFraction))/I.lineHeight,strokeWidth:typeof S<"u"?S:1}),a(I)},h.Text.fromObject=function(r,a){var s=m(r),u=r.path;return delete s.path,h.Object._fromObject("Text",s,function(C){u?h.Object._fromObject("Path",u,function(d){C.set("path",d),a(C)},"path"):a(C)},"text")},h.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],h.util.createAccessors&&h.util.createAccessors(h.Text)}}(R),y.util.object.extend(y.Text.prototype,{isEmptyStyles:function(b){if(!this.styles||typeof b<"u"&&!this.styles[b])return!0;var h=typeof b>"u"?this.styles:{line:this.styles[b]};for(var m in h)for(var g in h[m])for(var r in h[m][g])return!1;return!0},styleHas:function(b,h){if(!this.styles||!b||""===b||typeof h<"u"&&!this.styles[h])return!1;var m=typeof h>"u"?this.styles:{0:this.styles[h]};for(var g in m)for(var r in m[g])if(typeof m[g][r][b]<"u")return!0;return!1},cleanStyle:function(b){if(!this.styles||!b||""===b)return!1;var g,r,h=this.styles,m=0,a=!0,s=0;for(var C in h){for(var d in g=0,h[C]){var u;m++,(u=h[C][d]).hasOwnProperty(b)?(r?u[b]!==r&&(a=!1):r=u[b],u[b]===this[b]&&delete u[b]):a=!1,0!==Object.keys(u).length?g++:delete h[C][d]}0===g&&delete h[C]}for(var S=0;S<this._textLines.length;S++)s+=this._textLines[S].length;a&&m===s&&(this[b]=r,this.removeStyle(b))},removeStyle:function(b){if(this.styles&&b&&""!==b){var m,g,r,h=this.styles;for(g in h){for(r in m=h[g])delete m[r][b],0===Object.keys(m[r]).length&&delete m[r];0===Object.keys(m).length&&delete h[g]}}},_extendStyles:function(b,h){var m=this.get2DCursorLocation(b);this._getLineStyle(m.lineIndex)||this._setLineStyle(m.lineIndex),this._getStyleDeclaration(m.lineIndex,m.charIndex)||this._setStyleDeclaration(m.lineIndex,m.charIndex,{}),y.util.object.extend(this._getStyleDeclaration(m.lineIndex,m.charIndex),h)},get2DCursorLocation:function(b,h){typeof b>"u"&&(b=this.selectionStart);for(var m=h?this._unwrappedTextLines:this._textLines,g=m.length,r=0;r<g;r++){if(b<=m[r].length)return{lineIndex:r,charIndex:b};b-=m[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:m[r-1].length<b?m[r-1].length:b}},getSelectionStyles:function(b,h,m){typeof b>"u"&&(b=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||b);for(var g=[],r=b;r<h;r++)g.push(this.getStyleAtPosition(r,m));return g},getStyleAtPosition:function(b,h){var m=this.get2DCursorLocation(b);return(h?this.getCompleteStyleDeclaration(m.lineIndex,m.charIndex):this._getStyleDeclaration(m.lineIndex,m.charIndex))||{}},setSelectionStyles:function(b,h,m){typeof h>"u"&&(h=this.selectionStart||0),typeof m>"u"&&(m=this.selectionEnd||h);for(var g=h;g<m;g++)this._extendStyles(g,b);return this._forceClearCache=!0,this},_getStyleDeclaration:function(b,h){var m=this.styles&&this.styles[b];return m?m[h]:null},getCompleteStyleDeclaration:function(b,h){for(var r,m=this._getStyleDeclaration(b,h)||{},g={},a=0;a<this._styleProperties.length;a++)g[r=this._styleProperties[a]]=typeof m[r]>"u"?this[r]:m[r];return g},_setStyleDeclaration:function(b,h,m){this.styles[b][h]=m},_deleteStyleDeclaration:function(b,h){delete this.styles[b][h]},_getLineStyle:function(b){return!!this.styles[b]},_setLineStyle:function(b){this.styles[b]={}},_deleteLineStyle:function(b){delete this.styles[b]}}),function(){function b(h){h.textDecoration&&(h.textDecoration.indexOf("underline")>-1&&(h.underline=!0),h.textDecoration.indexOf("line-through")>-1&&(h.linethrough=!0),h.textDecoration.indexOf("overline")>-1&&(h.overline=!0),delete h.textDecoration)}y.IText=y.util.createClass(y.Text,y.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(h,m){this.callSuper("initialize",h,m),this.initBehavior()},setSelectionStart:function(h){h=Math.max(h,0),this._updateAndFire("selectionStart",h)},setSelectionEnd:function(h){h=Math.min(h,this.text.length),this._updateAndFire("selectionEnd",h)},_updateAndFire:function(h,m){this[h]!==m&&(this._fireSelectionChanged(),this[h]=m),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(h){this.clearContextTop(),this.callSuper("render",h),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(h){this.callSuper("_render",h)},clearContextTop:function(h){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var m=this.canvas.contextTop,g=this.canvas.viewportTransform;m.save(),m.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this.transform(m),this._clearTextArea(m),h||m.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var h=this._getCursorBoundaries(),m=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(h,m):this.renderSelection(h,m),m.restore()}},_clearTextArea:function(h){var m=this.width+4,g=this.height+4;h.clearRect(-m/2,-g/2,m,g)},_getCursorBoundaries:function(h){typeof h>"u"&&(h=this.selectionStart);var m=this._getLeftOffset(),g=this._getTopOffset(),r=this._getCursorBoundariesOffsets(h);return{left:m,top:g,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(h){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var m,g,r,u,a=0,s=0,C=this.get2DCursorLocation(h);r=C.charIndex,g=C.lineIndex;for(var d=0;d<g;d++)a+=this.getHeightOfLine(d);m=this._getLineLeftOffset(g);var x=this.__charBounds[g][r];return x&&(s=x.left),0!==this.charSpacing&&r===this._textLines[g].length&&(s-=this._getWidthOfCharSpacing()),u={top:a,left:m+(s>0?s:0)},"rtl"===this.direction&&(u.left*=-1),this.cursorOffsetCache=u,this.cursorOffsetCache},renderCursor:function(h,m){var g=this.get2DCursorLocation(),r=g.lineIndex,a=g.charIndex>0?g.charIndex-1:0,s=this.getValueOfPropertyAt(r,a,"fontSize"),u=this.scaleX*this.canvas.getZoom(),C=this.cursorWidth/u,d=h.topOffset,x=this.getValueOfPropertyAt(r,a,"deltaY");d+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-s*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(h,m),m.fillStyle=this.cursorColor||this.getValueOfPropertyAt(r,a,"fill"),m.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,m.fillRect(h.left+h.leftOffset-C/2,d+h.top+x,C,s)},renderSelection:function(h,m){for(var g=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,a=-1!==this.textAlign.indexOf("justify"),s=this.get2DCursorLocation(g),u=this.get2DCursorLocation(r),C=s.lineIndex,d=u.lineIndex,x=s.charIndex<0?0:s.charIndex,S=u.charIndex<0?0:u.charIndex,I=C;I<=d;I++){var V,D=this._getLineLeftOffset(I)||0,H=this.getHeightOfLine(I),G=0,W=0;if(I===C&&(G=this.__charBounds[C][x].left),I>=C&&I<d)W=a&&!this.isEndOfWrapping(I)?this.width:this.getLineWidth(I)||5;else if(I===d)if(0===S)W=this.__charBounds[d][S].left;else{var ee=this._getWidthOfCharSpacing();W=this.__charBounds[d][S-1].left+this.__charBounds[d][S-1].width-ee}V=H,(this.lineHeight<1||I===d&&this.lineHeight>1)&&(H/=this.lineHeight);var _e=h.left+D+G,ge=W-G,Re=H,le=0;this.inCompositionMode?(m.fillStyle=this.compositionColor||"black",Re=1,le=H):m.fillStyle=this.selectionColor,"rtl"===this.direction&&(_e=this.width-_e-ge),m.fillRect(_e,h.top+h.topOffset+le,ge,Re),h.topOffset+=V}},getCurrentCharFontSize:function(){var h=this._getCurrentCharIndex();return this.getValueOfPropertyAt(h.l,h.c,"fontSize")},getCurrentCharColor:function(){var h=this._getCurrentCharIndex();return this.getValueOfPropertyAt(h.l,h.c,"fill")},_getCurrentCharIndex:function(){var h=this.get2DCursorLocation(this.selectionStart,!0);return{l:h.lineIndex,c:h.charIndex>0?h.charIndex-1:0}}}),y.IText.fromObject=function(h,m){if(b(h),h.styles)for(var g in h.styles)for(var r in h.styles[g])b(h.styles[g][r]);y.Object._fromObject("IText",h,m,"text")}}(),function(){var b=y.util.object.clone;y.util.object.extend(y.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var h=this;this.on("added",function(){var m=h.canvas;m&&(m._hasITextHandlers||(m._hasITextHandlers=!0,h._initCanvasHandlers(m)),m._iTextInstances=m._iTextInstances||[],m._iTextInstances.push(h))})},initRemovedHandler:function(){var h=this;this.on("removed",function(){var m=h.canvas;m&&(m._iTextInstances=m._iTextInstances||[],y.util.removeFromArray(m._iTextInstances,h),0===m._iTextInstances.length&&(m._hasITextHandlers=!1,h._removeCanvasHandlers(m)))})},_initCanvasHandlers:function(h){h._mouseUpITextHandler=function(){h._iTextInstances&&h._iTextInstances.forEach(function(m){m.__isMousedown=!1})},h.on("mouse:up",h._mouseUpITextHandler)},_removeCanvasHandlers:function(h){h.off("mouse:up",h._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(h,m,g,r){var a;return a={isAborted:!1,abort:function(){this.isAborted=!0}},h.animate("_currentCursorOpacity",m,{duration:g,onComplete:function(){a.isAborted||h[r]()},onChange:function(){h.canvas&&h.selectionStart===h.selectionEnd&&h.renderCursorOrSelection()},abort:function(){return a.isAborted}}),a},_onTickComplete:function(){var h=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){h._currentTickCompleteState=h._animateCursor(h,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(h){var m=this,g=h?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){m._tick()},g)},abortCursorAnimation:function(){var h=this._currentTickState||this._currentTickCompleteState,m=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,h&&m&&m.clearContext(m.contextTop||m.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(h){var m=0,g=h-1;if(this._reSpace.test(this._text[g]))for(;this._reSpace.test(this._text[g]);)m++,g--;for(;/\S/.test(this._text[g])&&g>-1;)m++,g--;return h-m},findWordBoundaryRight:function(h){var m=0,g=h;if(this._reSpace.test(this._text[g]))for(;this._reSpace.test(this._text[g]);)m++,g++;for(;/\S/.test(this._text[g])&&g<this._text.length;)m++,g++;return h+m},findLineBoundaryLeft:function(h){for(var m=0,g=h-1;!/\n/.test(this._text[g])&&g>-1;)m++,g--;return h-m},findLineBoundaryRight:function(h){for(var m=0,g=h;!/\n/.test(this._text[g])&&g<this._text.length;)m++,g++;return h+m},searchWordBoundary:function(h,m){for(var g=this._text,r=this._reSpace.test(g[h])?h-1:h,a=g[r],s=y.reNonWord;!s.test(a)&&r>0&&r<g.length;)a=g[r+=m];return s.test(a)&&(r+=1===m?0:1),r},selectWord:function(h){var m=this.searchWordBoundary(h=h||this.selectionStart,-1),g=this.searchWordBoundary(h,1);this.selectionStart=m,this.selectionEnd=g,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(h){var m=this.findLineBoundaryLeft(h=h||this.selectionStart),g=this.findLineBoundaryRight(h);return this.selectionStart=m,this.selectionEnd=g,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(h){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(h),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(h){h._iTextInstances&&h._iTextInstances.forEach(function(m){m.selected=!1,m.isEditing&&m.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(h){if(this.__isMousedown&&this.isEditing){var m=this.getSelectionStartFromPointer(h.e),g=this.selectionStart,r=this.selectionEnd;(m!==this.__selectionStartOnMouseDown||g===r)&&(g===m||r===m)||(m>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=m):(this.selectionStart=m,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==g||this.selectionEnd!==r)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(h,m,g){var r=g.slice(0,h),a=y.util.string.graphemeSplit(r).length;if(h===m)return{selectionStart:a,selectionEnd:a};var s=g.slice(h,m);return{selectionStart:a,selectionEnd:a+y.util.string.graphemeSplit(s).length}},fromGraphemeToStringSelection:function(h,m,g){var a=g.slice(0,h).join("").length;return h===m?{selectionStart:a,selectionEnd:a}:{selectionStart:a,selectionEnd:a+g.slice(h,m).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var h=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=h.selectionStart,this.hiddenTextarea.selectionEnd=h.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var h=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=h.selectionEnd,this.inCompositionMode||(this.selectionStart=h.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var h=this._calcTextareaPosition();this.hiddenTextarea.style.left=h.left,this.hiddenTextarea.style.top=h.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var h=this.inCompositionMode?this.compositionStart:this.selectionStart,m=this._getCursorBoundaries(h),g=this.get2DCursorLocation(h),s=this.getValueOfPropertyAt(g.lineIndex,g.charIndex,"fontSize")*this.lineHeight,u=m.leftOffset,C=this.calcTransformMatrix(),d={x:m.left+u,y:m.top+m.topOffset+s},x=this.canvas.getRetinaScaling(),S=this.canvas.upperCanvasEl,I=S.width/x,D=S.height/x,H=I-s,V=D-s,G=S.clientWidth/I,W=S.clientHeight/D;return d=y.util.transformPoint(d,C),(d=y.util.transformPoint(d,this.canvas.viewportTransform)).x*=G,d.y*=W,d.x<0&&(d.x=0),d.x>H&&(d.x=H),d.y<0&&(d.y=0),d.y>V&&(d.y=V),d.x+=this.canvas._offset.left,d.y+=this.canvas._offset.top,{left:d.x+"px",top:d.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var h=this._textBeforeEdit!==this.text,m=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,m&&(m.blur&&m.blur(),m.parentNode&&m.parentNode.removeChild(m)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),h&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),h&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var h in this.styles)this._textLines[h]||delete this.styles[h]},removeStyleFromTo:function(h,m){var d,x,g=this.get2DCursorLocation(h,!0),r=this.get2DCursorLocation(m,!0),a=g.lineIndex,s=g.charIndex,u=r.lineIndex,C=r.charIndex;if(a!==u){if(this.styles[a])for(d=s;d<this._unwrappedTextLines[a].length;d++)delete this.styles[a][d];if(this.styles[u])for(d=C;d<this._unwrappedTextLines[u].length;d++)(x=this.styles[u][d])&&(this.styles[a]||(this.styles[a]={}),this.styles[a][s+d-C]=x);for(d=a+1;d<=u;d++)delete this.styles[d];this.shiftLineStyles(u,a-u)}else if(this.styles[a]){x=this.styles[a];var I,D,S=C-s;for(d=s;d<C;d++)delete x[d];for(D in this.styles[a])(I=parseInt(D,10))>=C&&(x[I-S]=x[D],delete x[D])}},shiftLineStyles:function(h,m){var g=b(this.styles);for(var r in this.styles){var a=parseInt(r,10);a>h&&(this.styles[a+m]=g[a],g[a-m]||delete this.styles[a])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(h,m,g,r){var a,s={},u=!1,C=this._unwrappedTextLines[h].length===m;for(var d in g||(g=1),this.shiftLineStyles(h,g),this.styles[h]&&(a=this.styles[h][0===m?m:m-1]),this.styles[h]){var x=parseInt(d,10);x>=m&&(u=!0,s[x-m]=this.styles[h][d],C&&0===m||delete this.styles[h][d])}var S=!1;for(u&&!C&&(this.styles[h+g]=s,S=!0),S&&g--;g>0;)r&&r[g-1]?this.styles[h+g]={0:b(r[g-1])}:a?this.styles[h+g]={0:b(a)}:delete this.styles[h+g],g--;this._forceClearCache=!0},insertCharStyleObject:function(h,m,g,r){this.styles||(this.styles={});var a=this.styles[h],s=a?b(a):{};for(var u in g||(g=1),s){var C=parseInt(u,10);C>=m&&(a[C+g]=s[C],s[C-g]||delete a[C])}if(this._forceClearCache=!0,r)for(;g--;)Object.keys(r[g]).length&&(this.styles[h]||(this.styles[h]={}),this.styles[h][m+g]=b(r[g]));else if(a)for(var d=a[m?m-1:1];d&&g--;)this.styles[h][m+g]=b(d)},insertNewStyleBlock:function(h,m,g){for(var r=this.get2DCursorLocation(m,!0),a=[0],s=0,u=0;u<h.length;u++)"\n"===h[u]?a[++s]=0:a[s]++;for(a[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,a[0],g),g=g&&g.slice(a[0]+1)),s&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+a[0],s),u=1;u<s;u++)a[u]>0?this.insertCharStyleObject(r.lineIndex+u,0,a[u],g):g&&(this.styles[r.lineIndex+u][0]=g[0]),g=g&&g.slice(a[u]+1);a[u]>0&&this.insertCharStyleObject(r.lineIndex+u,0,a[u],g)},setSelectionStartEndWithShift:function(h,m,g){g<=h?(m===h?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=h),this.selectionStart=g):g>h&&g<m?"right"===this._selectionDirection?this.selectionEnd=g:this.selectionStart=g:(m===h?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=m),this.selectionEnd=g)},setSelectionInBoundaries:function(){var h=this.text.length;this.selectionStart>h?this.selectionStart=h:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>h?this.selectionEnd=h:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),y.util.object.extend(y.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(b){if(this.canvas){this.__newClickTime=+new Date;var h=b.pointer;this.isTripleClick(h)&&(this.fire("tripleclick",b),this._stopEvent(b.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=h,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(b){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===b.x&&this.__lastPointer.y===b.y},_stopEvent:function(b){b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(b){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(b.e))},tripleClickHandler:function(b){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(b.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(b){!this.canvas||!this.editable||b.e.button&&1!==b.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(b.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(b){!this.canvas||!this.editable||b.e.button&&1!==b.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(b){if(this.__isMousedown=!1,!(!this.editable||this.group||b.transform&&b.transform.actionPerformed||b.e.button&&1!==b.e.button)){if(this.canvas){var h=this.canvas._activeObject;if(h&&h!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(b.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(b){var h=this.getSelectionStartFromPointer(b);b.shiftKey?this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,h):(this.selectionStart=h,this.selectionEnd=h),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(b){for(var C,h=this.getLocalPointer(b),m=0,g=0,r=0,a=0,s=0,d=0,x=this._textLines.length;d<x&&r<=h.y;d++)r+=this.getHeightOfLine(d)*this.scaleY,s=d,d>0&&(a+=this._textLines[d-1].length+this.missingNewlineOffset(d-1));g=this._getLineLeftOffset(s)*this.scaleX,C=this._textLines[s],"rtl"===this.direction&&(h.x=this.width*this.scaleX-h.x+g);for(var S=0,I=C.length;S<I&&(m=g,(g+=this.__charBounds[s][S].kernedWidth*this.scaleX)<=h.x);S++)a++;return this._getNewSelectionStartFromOffset(h,m,g,a,I)},_getNewSelectionStartFromOffset:function(b,h,m,g,r){var s=m-b.x,C=g+(s>b.x-h||s<0?0:1);return this.flipX&&(C=r-C),C>this._text.length&&(C=this._text.length),C}}),y.util.object.extend(y.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=y.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var b=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+b.top+"; left: "+b.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uff70top: "+b.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):y.document.body.appendChild(this.hiddenTextarea),y.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),y.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),y.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),y.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),y.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),y.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),y.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),y.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),y.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(y.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(b){if(this.isEditing){var h="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(b.keyCode in h)this[h[b.keyCode]](b);else{if(!(b.keyCode in this.ctrlKeysMapDown)||!b.ctrlKey&&!b.metaKey)return;this[this.ctrlKeysMapDown[b.keyCode]](b)}b.stopImmediatePropagation(),b.preventDefault(),b.keyCode>=33&&b.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(b){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:b.keyCode in this.ctrlKeysMapUp&&(b.ctrlKey||b.metaKey)&&(this[this.ctrlKeysMapUp[b.keyCode]](b),b.stopImmediatePropagation(),b.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(b){var h=this.fromPaste;if(this.fromPaste=!1,b&&b.stopPropagation(),this.isEditing){var a,s,S,I,D,m=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,g=this._text.length,r=m.length,u=r-g,C=this.selectionStart,d=this.selectionEnd,x=C!==d;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var H=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),V=C>H.selectionStart;x?(a=this._text.slice(C,d),u+=d-C):r<g&&(a=V?this._text.slice(d+u,d):this._text.slice(C,C-u)),s=m.slice(H.selectionEnd-u,H.selectionEnd),a&&a.length&&(s.length&&(S=this.getSelectionStyles(C,C+1,!1),S=s.map(function(){return S[0]})),x?(I=C,D=d):V?(I=d-a.length,D=d):(I=d,D=d+a.length),this.removeStyleFromTo(I,D)),s.length&&(h&&s.join("")===y.copiedText&&!y.disableStyleCopyPaste&&(S=y.copiedTextStyle),this.insertNewStyleBlock(s,C,S)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(b){this.compositionStart=b.target.selectionStart,this.compositionEnd=b.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(y.copiedText=this.getSelectedText(),y.copiedTextStyle=y.disableStyleCopyPaste?null:this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(b){return b&&b.clipboardData||y.window.clipboardData},_getWidthBeforeCursor:function(b,h){var g,m=this._getLineLeftOffset(b);return h>0&&(m+=(g=this.__charBounds[b][h-1]).left+g.width),m},getDownCursorOffset:function(b,h){var m=this._getSelectionForOffset(b,h),g=this.get2DCursorLocation(m),r=g.lineIndex;if(r===this._textLines.length-1||b.metaKey||34===b.keyCode)return this._text.length-m;var a=g.charIndex,s=this._getWidthBeforeCursor(r,a),u=this._getIndexOnLine(r+1,s);return this._textLines[r].slice(a).length+u+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(b,h){return b.shiftKey&&this.selectionStart!==this.selectionEnd&&h?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(b,h){var m=this._getSelectionForOffset(b,h),g=this.get2DCursorLocation(m),r=g.lineIndex;if(0===r||b.metaKey||33===b.keyCode)return-m;var a=g.charIndex,s=this._getWidthBeforeCursor(r,a),u=this._getIndexOnLine(r-1,s),C=this._textLines[r].slice(0,a),d=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+u-C.length+(1-d)},_getIndexOnLine:function(b,h){for(var s,u,m=this._textLines[b],r=this._getLineLeftOffset(b),a=0,C=0,d=m.length;C<d;C++)if((r+=s=this.__charBounds[b][C].width)>h){u=!0;var S=r,I=Math.abs(r-s-h);a=Math.abs(S-h)<I?C:C-1;break}return u||(a=m.length-1),a},moveCursorDown:function(b){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",b)},moveCursorUp:function(b){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",b)},_moveCursorUpOrDown:function(b,h){var g=this["get"+b+"CursorOffset"](h,"right"===this._selectionDirection);h.shiftKey?this.moveCursorWithShift(g):this.moveCursorWithoutShift(g),0!==g&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(b){return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,"left"===this._selectionDirection?this.selectionStart+b:this.selectionEnd+b),0!==b},moveCursorWithoutShift:function(b){return b<0?(this.selectionStart+=b,this.selectionEnd=this.selectionStart):(this.selectionEnd+=b,this.selectionStart=this.selectionEnd),0!==b},moveCursorLeft:function(b){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",b)},_move:function(b,h,m){var g;if(b.altKey)g=this["findWordBoundary"+m](this[h]);else{if(!b.metaKey&&35!==b.keyCode&&36!==b.keyCode)return this[h]+="Left"===m?-1:1,!0;g=this["findLineBoundary"+m](this[h])}if(void 0!==typeof g&&this[h]!==g)return this[h]=g,!0},_moveLeft:function(b,h){return this._move(b,h,"Left")},_moveRight:function(b,h){return this._move(b,h,"Right")},moveCursorLeftWithoutShift:function(b){var h=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(h=this._moveLeft(b,"selectionStart")),this.selectionEnd=this.selectionStart,h},moveCursorLeftWithShift:function(b){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(b,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(b,"selectionStart")):void 0},moveCursorRight:function(b){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",b)},_moveCursorLeftOrRight:function(b,h){var m="moveCursor"+b+"With";this._currentCursorOpacity=1,this[m+=h.shiftKey?"Shift":"outShift"](h)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(b){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(b,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(b,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(b){var h=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(h=this._moveRight(b,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,h},removeChars:function(b,h){typeof h>"u"&&(h=b+1),this.removeStyleFromTo(b,h),this._text.splice(b,h-b),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(b,h,m,g){typeof g>"u"&&(g=m),g>m&&this.removeStyleFromTo(m,g);var r=y.util.string.graphemeSplit(b);this.insertNewStyleBlock(r,m,h),this._text=[].concat(this._text.slice(0,m),r,this._text.slice(g)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var b=y.util.toFixed,h=/  +/g;y.util.object.extend(y.Text.prototype,{_toSVG:function(){var m=this._getSVGLeftTopOffsets(),g=this._getSVGTextAndBg(m.textTop,m.textLeft);return this._wrapSVGTextAndBg(g)},toSVG:function(m){return this._createBaseSVGMarkup(this._toSVG(),{reviver:m,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(m){var r=this.getSvgTextDecoration(this);return[m.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",r?'text-decoration="'+r+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",m.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(m,g){var u,r=[],a=[],s=m;this._setSVGBg(a);for(var C=0,d=this._textLines.length;C<d;C++)u=this._getLineLeftOffset(C),(this.textBackgroundColor||this.styleHas("textBackgroundColor",C))&&this._setSVGTextLineBg(a,C,g+u,s),this._setSVGTextLineText(r,C,g+u,s),s+=this.getHeightOfLine(C);return{textSpans:r,textBgRects:a}},_createTextCharSpan:function(m,g,r,a){var s=m!==m.trim()||m.match(h),u=this.getSvgSpanStyles(g,s),C=u?'style="'+u+'"':"",d=g.deltaY,x="",S=y.Object.NUM_FRACTION_DIGITS;return d&&(x=' dy="'+b(d,S)+'" '),['<tspan x="',b(r,S),'" y="',b(a,S),'" ',x,C,">",y.util.string.escapeXml(m),"</tspan>"].join("")},_setSVGTextLineText:function(m,g,r,a){var C,d,S,I,V,s=this.getHeightOfLine(g),u=-1!==this.textAlign.indexOf("justify"),x="",D=0,H=this._textLines[g];a+=s*(1-this._fontSizeFraction)/this.lineHeight;for(var G=0,W=H.length-1;G<=W;G++)V=G===W||this.charSpacing,x+=H[G],S=this.__charBounds[g][G],0===D?(r+=S.kernedWidth-S.width,D+=S.width):D+=S.kernedWidth,u&&!V&&this._reSpaceAndTab.test(H[G])&&(V=!0),V||(C=C||this.getCompleteStyleDeclaration(g,G),d=this.getCompleteStyleDeclaration(g,G+1),V=this._hasStyleChangedForSvg(C,d)),V&&(I=this._getStyleDeclaration(g,G)||{},m.push(this._createTextCharSpan(x,I,r,a)),x="",C=d,r+=D,D=0)},_pushTextBgRect:function(m,g,r,a,s,u){var C=y.Object.NUM_FRACTION_DIGITS;m.push("\t\t<rect ",this._getFillAttributes(g),' x="',b(r,C),'" y="',b(a,C),'" width="',b(s,C),'" height="',b(u,C),'"></rect>\n')},_setSVGTextLineBg:function(m,g,r,a){for(var x,S,s=this._textLines[g],u=this.getHeightOfLine(g)/this.lineHeight,C=0,d=0,I=this.getValueOfPropertyAt(g,0,"textBackgroundColor"),D=0,H=s.length;D<H;D++)x=this.__charBounds[g][D],(S=this.getValueOfPropertyAt(g,D,"textBackgroundColor"))!==I?(I&&this._pushTextBgRect(m,I,r+d,a,C,u),d=x.left,C=x.width,I=S):C+=x.kernedWidth;S&&this._pushTextBgRect(m,S,r+d,a,C,u)},_getFillAttributes:function(m){var g=m&&"string"==typeof m?new y.Color(m):"";return g&&g.getSource()&&1!==g.getAlpha()?'opacity="'+g.getAlpha()+'" fill="'+g.setAlpha(1).toRgb()+'"':'fill="'+m+'"'},_getSVGLineTopOffset:function(m){for(var r,g=0,a=0;a<m;a++)g+=this.getHeightOfLine(a);return r=this.getHeightOfLine(a),{lineTop:g,offset:(this._fontSizeMult-this._fontSizeFraction)*r/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(m){return y.Object.prototype.getSvgStyles.call(this,m)+" white-space: pre;"}})}(),function(b){"use strict";var h=b.fabric||(b.fabric={});h.Textbox=h.util.createClass(h.IText,h.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:h.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(m){for(var g=0,r=0,a=0,s={},u=0;u<m.graphemeLines.length;u++)"\n"===m.graphemeText[a]&&u>0?(r=0,a++,g++):!this.splitByGrapheme&&this._reSpaceAndTab.test(m.graphemeText[a])&&u>0&&(r++,a++),s[u]={line:g,offset:r},a+=m.graphemeLines[u].length,r+=m.graphemeLines[u].length;return s},styleHas:function(m,g){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[g];r&&(g=r.line)}return h.Text.prototype.styleHas.call(this,m,g)},isEmptyStyles:function(m){if(!this.styles)return!0;var a,s,g=0,u=!1,C=this._styleMap[m],d=this._styleMap[m+1];for(var x in C&&(m=C.line,g=C.offset),d&&(u=d.line===m,a=d.offset),s=typeof m>"u"?this.styles:{line:this.styles[m]})for(var S in s[x])if(S>=g&&(!u||S<a))for(var I in s[x][S])return!1;return!0},_getStyleDeclaration:function(m,g){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[m];if(!r)return null;m=r.line,g=r.offset+g}return this.callSuper("_getStyleDeclaration",m,g)},_setStyleDeclaration:function(m,g,r){var a=this._styleMap[m];this.styles[m=a.line][g=a.offset+g]=r},_deleteStyleDeclaration:function(m,g){var r=this._styleMap[m];delete this.styles[m=r.line][g=r.offset+g]},_getLineStyle:function(m){return!!this.styles[this._styleMap[m].line]},_setLineStyle:function(m){this.styles[this._styleMap[m].line]={}},_wrapText:function(m,g){var a,r=[];for(this.isWrapping=!0,a=0;a<m.length;a++)r=r.concat(this._wrapLine(m[a],a,g));return this.isWrapping=!1,r},_measureWord:function(m,g,r){var s,a=0;r=r||0;for(var C=0,d=m.length;C<d;C++)a+=this._getGraphemeBox(m[C],g,C+r,s,true).kernedWidth,s=m[C];return a},_wrapLine:function(m,g,r,_e){var s=0,u=this.splitByGrapheme,C=[],d=[],x=u?h.util.string.graphemeSplit(m):m.split(this._wordJoiners),S="",I=0,D=u?"":" ",H=0,V=0,G=0,W=!0,ee=this._getWidthOfCharSpacing();_e=_e||0,0===x.length&&x.push([]),r-=_e;for(var ge=0;ge<x.length;ge++)S=u?x[ge]:h.util.string.graphemeSplit(x[ge]),H=this._measureWord(S,g,I),I+=S.length,(s+=V+H-ee)>r&&!W?(C.push(d),d=[],s=H,W=!0):s+=ee,!W&&!u&&d.push(D),d=d.concat(S),V=u?0:this._measureWord([D],g,I),I++,W=!1,H>G&&(G=H);return ge&&C.push(d),G+_e>this.dynamicMinWidth&&(this.dynamicMinWidth=G-ee+_e),C},isEndOfWrapping:function(m){return!this._styleMap[m+1]||this._styleMap[m+1].line!==this._styleMap[m].line},missingNewlineOffset:function(m){return this.splitByGrapheme?this.isEndOfWrapping(m)?1:0:1},_splitTextIntoLines:function(m){for(var g=h.Text.prototype._splitTextIntoLines.call(this,m),r=this._wrapText(g.lines,this.width),a=new Array(r.length),s=0;s<r.length;s++)a[s]=r[s].join("");return g.lines=a,g.graphemeLines=r,g},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var m={};for(var g in this._styleMap)this._textLines[g]&&(m[this._styleMap[g].line]=1);for(var g in this.styles)m[g]||delete this.styles[g]},toObject:function(m){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(m))}}),h.Textbox.fromObject=function(m,g){return h.Object._fromObject("Textbox",m,g,"text")}}(R),function(){var b=y.controlsUtils,h=b.scaleSkewCursorStyleHandler,m=b.scaleCursorStyleHandler,g=b.scalingEqually,r=b.scalingYOrSkewingX,a=b.scalingXOrSkewingY,s=b.scaleOrSkewActionName,u=y.Object.prototype.controls;if(u.ml=new y.Control({x:-.5,y:0,cursorStyleHandler:h,actionHandler:a,getActionName:s}),u.mr=new y.Control({x:.5,y:0,cursorStyleHandler:h,actionHandler:a,getActionName:s}),u.mb=new y.Control({x:0,y:.5,cursorStyleHandler:h,actionHandler:r,getActionName:s}),u.mt=new y.Control({x:0,y:-.5,cursorStyleHandler:h,actionHandler:r,getActionName:s}),u.tl=new y.Control({x:-.5,y:-.5,cursorStyleHandler:m,actionHandler:g}),u.tr=new y.Control({x:.5,y:-.5,cursorStyleHandler:m,actionHandler:g}),u.bl=new y.Control({x:-.5,y:.5,cursorStyleHandler:m,actionHandler:g}),u.br=new y.Control({x:.5,y:.5,cursorStyleHandler:m,actionHandler:g}),u.mtr=new y.Control({x:0,y:-.5,actionHandler:b.rotationWithSnapping,cursorStyleHandler:b.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),y.Textbox){var C=y.Textbox.prototype.controls={};C.mtr=u.mtr,C.tr=u.tr,C.br=u.br,C.tl=u.tl,C.bl=u.bl,C.mt=u.mt,C.mb=u.mb,C.mr=new y.Control({x:.5,y:0,actionHandler:b.changeWidth,cursorStyleHandler:h,actionName:"resizing"}),C.ml=new y.Control({x:-.5,y:0,actionHandler:b.changeWidth,cursorStyleHandler:h,actionName:"resizing"})}}()},3053:function(T,R,z){"use strict";var y=z(602);T.exports=function P(N,B,j){var U,b;if(j=j||0,!y(B))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(B,N,j);for(b=B.length,U=j;j>=0&&U<b;U+=1)if(B[U]===N)return U;return-1}},8592:function(T,R,z){"use strict";var y=z(602),P=z(6092),N=z(5573);T.exports=function B(j,U,b){y(j)?P(j,U,b):N(j,U,b)}},6092:function(T){"use strict";T.exports=function R(z,y,P){var N=0,B=z.length;for(P=P||null;N<B&&!1!==y.call(P,z[N],N,z);N+=1);}},5573:function(T){"use strict";T.exports=function R(z,y,P){var N;for(N in P=P||null,z)if(z.hasOwnProperty(N)&&!1===y.call(P,z[N],N,z))break}},9052:function(T,R,z){"use strict";var y=z(961),P=z(9886),N=z(2560),B=z(5393),j=z(602),U=z(5183),b=z(8592),h=/\s+/g;function m(){this.events=null,this.contexts=null}m.mixin=function(g){y(g.prototype,m.prototype)},m.prototype._getHandlerItem=function(g,r){var a={handler:g};return r&&(a.context=r),a},m.prototype._safeEvent=function(g){var a,r=this.events;return r||(r=this.events={}),g&&((a=r[g])||(r[g]=a=[]),r=a),r},m.prototype._safeContext=function(){var g=this.contexts;return g||(g=this.contexts=[]),g},m.prototype._indexOfContext=function(g){for(var r=this._safeContext(),a=0;r[a];){if(g===r[a][0])return a;a+=1}return-1},m.prototype._memorizeContext=function(g){var r,a;P(g)&&(r=this._safeContext(),(a=this._indexOfContext(g))>-1?r[a][1]+=1:r.push([g,1]))},m.prototype._forgetContext=function(g){var r,a;P(g)&&(r=this._safeContext(),(a=this._indexOfContext(g))>-1&&(r[a][1]-=1,r[a][1]<=0&&r.splice(a,1)))},m.prototype._bindEvent=function(g,r,a){var s=this._safeEvent(g);this._memorizeContext(a),s.push(this._getHandlerItem(r,a))},m.prototype.on=function(g,r,a){var s=this;N(g)?(g=g.split(h),b(g,function(u){s._bindEvent(u,r,a)})):B(g)&&(a=r,b(g,function(u,C){s.on(C,u,a)}))},m.prototype.once=function(g,r,a){var s=this;if(B(g))return a=r,void b(g,function(C,d){s.once(d,C,a)});this.on(g,function u(){r.apply(a,arguments),s.off(g,u,a)},a)},m.prototype._spliceMatches=function(g,r){var s,a=0;if(j(g))for(s=g.length;a<s;a+=1)!0===r(g[a])&&(g.splice(a,1),s-=1,a-=1)},m.prototype._matchHandler=function(g){var r=this;return function(a){var s=g===a.handler;return s&&r._forgetContext(a.context),s}},m.prototype._matchContext=function(g){var r=this;return function(a){var s=g===a.context;return s&&r._forgetContext(a.context),s}},m.prototype._matchHandlerAndContext=function(g,r){var a=this;return function(s){var d=g===s.handler&&r===s.context;return d&&a._forgetContext(s.context),d}},m.prototype._offByEventName=function(g,r){var a=this,s=U(r),u=a._matchHandler(r);g=g.split(h),b(g,function(C){var d=a._safeEvent(C);s?a._spliceMatches(d,u):(b(d,function(x){a._forgetContext(x.context)}),a.events[C]=[])})},m.prototype._offByHandler=function(g){var r=this,a=this._matchHandler(g);b(this._safeEvent(),function(s){r._spliceMatches(s,a)})},m.prototype._offByObject=function(g,r){var s,a=this;this._indexOfContext(g)<0?b(g,function(u,C){a.off(C,u)}):N(r)?(s=this._matchContext(g),a._spliceMatches(this._safeEvent(r),s)):U(r)?(s=this._matchHandlerAndContext(r,g),b(this._safeEvent(),function(u){a._spliceMatches(u,s)})):(s=this._matchContext(g),b(this._safeEvent(),function(u){a._spliceMatches(u,s)}))},m.prototype.off=function(g,r){N(g)?this._offByEventName(g,r):arguments.length?U(g)?this._offByHandler(g):B(g)&&this._offByObject(g,r):(this.events={},this.contexts=[])},m.prototype.fire=function(g){this.invoke.apply(this,arguments)},m.prototype.invoke=function(g){var r,a,s,u;if(!this.hasListener(g))return!0;for(r=this._safeEvent(g),a=Array.prototype.slice.call(arguments,1),s=0;r[s];){if(!1===(u=r[s]).handler.apply(u.context,a))return!1;s+=1}return!0},m.prototype.hasListener=function(g){return this.getListenerLength(g)>0},m.prototype.getListenerLength=function(g){return this._safeEvent(g).length},T.exports=m},961:function(T){"use strict";T.exports=function R(z,y){var N,B,j,U,P=Object.prototype.hasOwnProperty;for(j=1,U=arguments.length;j<U;j+=1)for(B in N=arguments[j])P.call(N,B)&&(z[B]=N[B]);return z}},1610:function(T,R,z){"use strict";var y=z(5695),P=z(3778);T.exports=function N(B,j){for(var U=arguments,b=U[0],h=1,m=U.length;h<m;h+=1){if(y(b)||P(b))return;b=b[U[h]]}return b}},4564:function(T,R,z){"use strict";var y=z(5573);T.exports=function P(N,B){var j=document.createElement("img"),U="";return y(B,function(b,h){U+="&"+h+"="+b}),U=U.substring(1),j.src=N+"?"+U,j.style.display="none",document.body.appendChild(j),document.body.removeChild(j),j}},4729:function(T,R,z){"use strict";var y=z(5695),P=z(4564),N=6048e5;T.exports=function j(U,b){var m=location.hostname,a="TOAST UI "+U+" for "+m+": Statistics",s=window.localStorage.getItem(a);!y(window.tui)&&!1===window.tui.usageStatistics||s&&!function B(U){return(new Date).getTime()-U>N}(s)||(window.localStorage.setItem(a,(new Date).getTime()),setTimeout(function(){("interactive"===document.readyState||"complete"===document.readyState)&&P("https://www.google-analytics.com/collect",{v:1,t:"event",tid:b,cid:m,dp:m,dh:U,el:U,ec:"use"})},1e3))}},602:function(T){"use strict";T.exports=function R(z){return z instanceof Array}},9886:function(T,R,z){"use strict";var y=z(5695),P=z(3778);T.exports=function N(B){return!y(B)&&!P(B)}},5183:function(T){"use strict";T.exports=function R(z){return z instanceof Function}},3778:function(T){"use strict";T.exports=function R(z){return null===z}},5393:function(T){"use strict";T.exports=function R(z){return z===Object(z)}},2560:function(T){"use strict";T.exports=function R(z){return"string"==typeof z||z instanceof String}},5695:function(T){"use strict";T.exports=function R(z){return void 0===z}},4426:function(T,R,z){T.exports=z(4486)},9406:function(T,R,z){T.exports=z(4877)},789:function(T,R,z){T.exports=z(7178)},381:function(T,R,z){T.exports=z(5603)},7636:function(T,R,z){T.exports=z(1206)},1899:function(T,R,z){T.exports=z(6174)},899:function(T,R,z){T.exports=z(57)},8005:function(T,R,z){T.exports=z(4741)},6562:function(T,R,z){T.exports=z(8368)},9131:function(T,R,z){T.exports=z(3739)},4383:function(T,R,z){T.exports=z(172)},6065:function(T,R,z){T.exports=z(4963)},1734:function(T,R,z){T.exports=z(7820)},2461:function(T,R,z){T.exports=z(5636)},5214:function(T,R,z){T.exports=z(5059)},6397:function(T,R,z){T.exports=z(3969)},8189:function(T,R,z){T.exports=z(6618)},9146:function(T,R,z){T.exports=z(5279)},4496:function(T,R,z){T.exports=z(9562)},3972:function(T,R,z){T.exports=z(652)},7172:function(T,R,z){T.exports=z(2813)},1845:function(T,R,z){T.exports=z(8664)},662:function(T,R,z){T.exports=z(1457)},711:function(T,R,z){T.exports=z(2937)},6623:function(T,R,z){T.exports=z(9297)},7077:function(T,R,z){T.exports=z(8026)},9856:function(T,R,z){T.exports=z(2044)},4230:function(T,R,z){T.exports=z(2214)},184:function(T,R,z){T.exports=z(9256)},3742:function(T,R,z){T.exports=z(5659)},1801:function(T){var R={rect:1,circle:2,triangle:1},z={rect:{w:"width",h:"height"},circle:{w:"rx",h:"ry"},triangle:{w:"width",h:"height"}};function P(h,m,g){var r=h.x,a=h.y,s=m.x,u=m.y,C=g*Math.PI/180;return{originX:r>(s-r)*Math.cos(C)-(u-a)*Math.sin(C)+r?"right":"left",originY:a>(s-r)*Math.sin(C)+(u-a)*Math.cos(C)+a?"bottom":"top"}}T.exports={setOrigins:function(m){var g=m.getPointByOrigin("left","top"),r=m.getPointByOrigin("right","top"),a=m.getPointByOrigin("right","bottom"),s=m.getPointByOrigin("left","bottom");m.origins={lt:g,rt:r,rb:a,lb:s}},resize:function(m,g,r){(function N(h){return"center"===h.originX&&"center"===h.originY})(m)&&(function B(h,m){var g=m.getPointByOrigin("center","center"),a=P(g,h,-m.angle),s=a.originX,u=a.originY,C=m.getPointByOrigin(s,u);m.set({originX:s,originY:u,left:m.left-(g.x-C.x),top:m.top-(g.y-C.y)}),m.setCoords()}(g,m),function y(h){var g=h.originY,r=h.originX.substring(0,1)+g.substring(0,1);h.startPoint=h.origins[r]}(m)),r?function U(h){var g=h.scaleX,r=h.scaleY,a=z[h.type],s=h[a.w]*g,u=h[a.h]*r;if(h.isRegular){var C=Math.max(g,r);s=h[a.w]*C,u=h[a.h]*C}var d={hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1};d[a.w]=s,d[a.h]=u,h.set(d)}(m):function b(h,m){var g=m.type,r=m.strokeWidth,a=m.startPoint,s=R[g],u=z[g],C="triangle"===m.type,d={},x=Math.abs(a.x-h.x)/s,S=Math.abs(a.y-h.y)/s;x>r&&(x-=r/s),S>r&&(S-=r/s),m.isRegular&&(x=S=Math.max(x,S),C&&(S=Math.sqrt(3)/2*x)),d[u.w]=x,d[u.h]=S,m.set(d)}(g,m),function j(h,m){var g=m.startPoint,a=P(g,h,-m.angle);m.setPositionByOrigin(g,a.originX,a.originY),m.setCoords()}(g,m)},adjustOriginToCenter:function(m){var g=m.getPointByOrigin("center","center"),s=m.getPointByOrigin(m.originX,m.originY);m.set({hasControls:!0,hasBorders:!0,originX:"center",originY:"center",left:m.left+(g.x-s.x),top:m.top+(g.y-s.y)}),m.setCoords()}}},2221:function(T,R,z){z(5454),z(9173);var y=z(7545);T.exports=y.Array.from},5078:function(T,R,z){z(8118);var y=z(7545);T.exports=y.Array.isArray},6135:function(T,R,z){z(9106);var y=z(5607);T.exports=y("Array").concat},9510:function(T,R,z){z(1710);var y=z(5607);T.exports=y("Array").fill},3971:function(T,R,z){z(3436);var y=z(5607);T.exports=y("Array").filter},98:function(T,R,z){z(9823);var y=z(5607);T.exports=y("Array").forEach},2089:function(T,R,z){z(2276);var y=z(5607);T.exports=y("Array").indexOf},6209:function(T,R,z){z(3838);var y=z(5607);T.exports=y("Array").map},2671:function(T,R,z){z(5818);var y=z(5607);T.exports=y("Array").slice},1375:function(T,R,z){z(2178);var y=z(5607);T.exports=y("Array").splice},3528:function(T,R,z){z(665);var y=z(5607);T.exports=y("Function").bind},5739:function(T,R,z){z(8939),z(5454);var y=z(8703);T.exports=y},278:function(T,R,z){var y=z(3528),P=Function.prototype;T.exports=function(N){var B=N.bind;return N===P||N instanceof Function&&B===P.bind?y:B}},1484:function(T,R,z){var y=z(6135),P=Array.prototype;T.exports=function(N){var B=N.concat;return N===P||N instanceof Array&&B===P.concat?y:B}},7731:function(T,R,z){var y=z(9510),P=Array.prototype;T.exports=function(N){var B=N.fill;return N===P||N instanceof Array&&B===P.fill?y:B}},3669:function(T,R,z){var y=z(3971),P=Array.prototype;T.exports=function(N){var B=N.filter;return N===P||N instanceof Array&&B===P.filter?y:B}},2604:function(T,R,z){var y=z(2089),P=Array.prototype;T.exports=function(N){var B=N.indexOf;return N===P||N instanceof Array&&B===P.indexOf?y:B}},263:function(T,R,z){var y=z(6209),P=Array.prototype;T.exports=function(N){var B=N.map;return N===P||N instanceof Array&&B===P.map?y:B}},7663:function(T,R,z){var y=z(2671),P=Array.prototype;T.exports=function(N){var B=N.slice;return N===P||N instanceof Array&&B===P.slice?y:B}},5063:function(T,R,z){var y=z(1375),P=Array.prototype;T.exports=function(N){var B=N.splice;return N===P||N instanceof Array&&B===P.splice?y:B}},6813:function(T,R,z){var y=z(3842),P=String.prototype;T.exports=function(N){var B=N.trim;return"string"==typeof N||N===P||N instanceof String&&B===P.trim?y:B}},6285:function(T,R,z){z(2666);var y=z(7545);T.exports=y.Number.parseInt},3213:function(T,R,z){z(3113);var P=z(7545).Object;T.exports=function(B,j){return P.create(B,j)}},3512:function(T,R,z){z(297);var P=z(7545).Object,N=T.exports=function(j,U,b){return P.defineProperty(j,U,b)};P.defineProperty.sham&&(N.sham=!0)},8168:function(T,R,z){z(9234);var y=z(7545);T.exports=y.Object.getPrototypeOf},8651:function(T,R,z){z(2647);var y=z(7545);T.exports=y.Object.keys},3083:function(T,R,z){z(3222);var y=z(7545);T.exports=y.Object.setPrototypeOf},2987:function(T,R,z){z(4859);var y=z(7545);T.exports=y.parseFloat},2239:function(T,R,z){z(5706);var y=z(7545);T.exports=y.parseInt},3154:function(T,R,z){z(4242),z(8939),z(6663),z(9021),z(7884),z(8885),z(1868),z(5454);var y=z(7545);T.exports=y.Promise},6577:function(T,R,z){z(5397);var y=z(7545);T.exports=y.Reflect.construct},3842:function(T,R,z){z(957);var y=z(5607);T.exports=y("String").trim},5008:function(T,R,z){z(9106),z(6663),z(6187),z(9781),z(492),z(6681),z(9594),z(3665),z(9017),z(1250),z(9786),z(503),z(6565),z(9322),z(3610),z(6886),z(3514),z(8671),z(8556),z(1367);var y=z(7545);T.exports=y.Symbol},994:function(T,R,z){z(8939),z(6663),z(5454),z(3665);var y=z(9207);T.exports=y.f("iterator")},2813:function(T,R,z){var y=z(3822);T.exports=y},8664:function(T,R,z){var y=z(1434);T.exports=y},1457:function(T,R,z){var y=z(7710);T.exports=y},2937:function(T,R,z){var y=z(4741);T.exports=y},9297:function(T,R,z){var y=z(4963);T.exports=y},8026:function(T,R,z){var y=z(7820);T.exports=y},2044:function(T,R,z){var y=z(8980);T.exports=y},2214:function(T,R,z){var y=z(6672);T.exports=y},9256:function(T,R,z){var y=z(2285);z(177),z(9031),z(6658),z(1875),z(8658),z(4592),z(6680),T.exports=y},5659:function(T,R,z){var y=z(8535);T.exports=y},6235:function(T,R,z){var y=z(6447),P=z(9288);T.exports=function(N){if(y(N))return N;throw TypeError(P(N)+" is not a function")}},1404:function(T,R,z){var y=z(2091),P=z(9288);T.exports=function(N){if(y(N))return N;throw TypeError(P(N)+" is not a constructor")}},7757:function(T,R,z){var y=z(6447);T.exports=function(P){if("object"==typeof P||y(P))return P;throw TypeError("Can't set "+String(P)+" as a prototype")}},7423:function(T){T.exports=function(){}},6961:function(T){T.exports=function(R,z,y){if(R instanceof z)return R;throw TypeError("Incorrect "+(y?y+" ":"")+"invocation")}},1138:function(T,R,z){var y=z(5744);T.exports=function(P){if(y(P))return P;throw TypeError(String(P)+" is not an object")}},2724:function(T,R,z){"use strict";var y=z(1795),P=z(7739),N=z(4104);T.exports=function(j){for(var U=y(this),b=N(U),h=arguments.length,m=P(h>1?arguments[1]:void 0,b),g=h>2?arguments[2]:void 0,r=void 0===g?b:P(g,b);r>m;)U[m++]=j;return U}},7397:function(T,R,z){"use strict";var y=z(454).forEach,N=z(424)("forEach");T.exports=N?[].forEach:function(j){return y(this,j,arguments.length>1?arguments[1]:void 0)}},841:function(T,R,z){"use strict";var y=z(8043),P=z(1795),N=z(1635),B=z(6109),j=z(2091),U=z(4104),b=z(9361),h=z(1669),m=z(8703);T.exports=function(r){var a=P(r),s=j(this),u=arguments.length,C=u>1?arguments[1]:void 0,d=void 0!==C;d&&(C=y(C,u>2?arguments[2]:void 0,2));var I,D,H,V,G,W,x=m(a),S=0;if(!x||this==Array&&B(x))for(I=U(a),D=s?new this(I):Array(I);I>S;S++)W=d?C(a[S],S):a[S],b(D,S,W);else for(G=(V=h(a,x)).next,D=s?new this:[];!(H=G.call(V)).done;S++)W=d?N(V,C,[H.value,S],!0):H.value,b(D,S,W);return D.length=S,D}},8180:function(T,R,z){var y=z(101),P=z(7739),N=z(4104),B=function(j){return function(U,b,h){var a,m=y(U),g=N(m),r=P(h,g);if(j&&b!=b){for(;g>r;)if((a=m[r++])!=a)return!0}else for(;g>r;r++)if((j||r in m)&&m[r]===b)return j||r||0;return!j&&-1}};T.exports={includes:B(!0),indexOf:B(!1)}},454:function(T,R,z){var y=z(8043),P=z(2202),N=z(1795),B=z(4104),j=z(1321),U=[].push,b=function(h){var m=1==h,g=2==h,r=3==h,a=4==h,s=6==h,u=7==h,C=5==h||s;return function(d,x,S,I){for(var ge,Re,D=N(d),H=P(D),V=y(x,S,3),G=B(H),W=0,ee=I||j,_e=m?ee(d,G):g||u?ee(d,0):void 0;G>W;W++)if((C||W in H)&&(Re=V(ge=H[W],W,D),h))if(m)_e[W]=Re;else if(Re)switch(h){case 3:return!0;case 5:return ge;case 6:return W;case 2:U.call(_e,ge)}else switch(h){case 4:return!1;case 7:U.call(_e,ge)}return s?-1:r||a?a:_e}};T.exports={forEach:b(0),map:b(1),filter:b(2),some:b(3),every:b(4),find:b(5),findIndex:b(6),filterReject:b(7)}},242:function(T,R,z){var y=z(6192),P=z(8182),N=z(4218),B=P("species");T.exports=function(j){return N>=51||!y(function(){var U=[];return(U.constructor={})[B]=function(){return{foo:1}},1!==U[j](Boolean).foo})}},424:function(T,R,z){"use strict";var y=z(6192);T.exports=function(P,N){var B=[][P];return!!B&&y(function(){B.call(null,N||function(){throw 1},1)})}},3712:function(T,R,z){var y=z(4770),P=z(2091),N=z(5744),j=z(8182)("species");T.exports=function(U){var b;return y(U)&&(P(b=U.constructor)&&(b===Array||y(b.prototype))||N(b)&&null===(b=b[j]))&&(b=void 0),void 0===b?Array:b}},1321:function(T,R,z){var y=z(3712);T.exports=function(P,N){return new(y(P))(0===N?0:N)}},1635:function(T,R,z){var y=z(1138),P=z(6639);T.exports=function(N,B,j,U){try{return U?B(y(j)[0],j[1]):B(j)}catch(b){P(N,"throw",b)}}},9770:function(T,R,z){var P=z(8182)("iterator"),N=!1;try{var B=0,j={next:function(){return{done:!!B++}},return:function(){N=!0}};j[P]=function(){return this},Array.from(j,function(){throw 2})}catch{}T.exports=function(U,b){if(!b&&!N)return!1;var h=!1;try{var m={};m[P]=function(){return{next:function(){return{done:h=!0}}}},U(m)}catch{}return h}},9272:function(T){var R={}.toString;T.exports=function(z){return R.call(z).slice(8,-1)}},4696:function(T,R,z){var y=z(3471),P=z(6447),N=z(9272),j=z(8182)("toStringTag"),U="Arguments"==N(function(){return arguments}());T.exports=y?N:function(h){var m,g,r;return void 0===h?"Undefined":null===h?"Null":"string"==typeof(g=function(h,m){try{return h[m]}catch{}}(m=Object(h),j))?g:U?N(m):"Object"==(r=N(m))&&P(m.callee)?"Arguments":r}},4635:function(T,R,z){var y=z(6192);T.exports=!y(function(){function P(){}return P.prototype.constructor=null,Object.getPrototypeOf(new P)!==P.prototype})},5148:function(T,R,z){"use strict";var y=z(4413).IteratorPrototype,P=z(2853),N=z(774),B=z(1284),j=z(7771),U=function(){return this};T.exports=function(b,h,m){var g=h+" Iterator";return b.prototype=P(y,{next:N(1,m)}),B(b,g,!1,!0),j[g]=U,b}},8711:function(T,R,z){var y=z(69),P=z(2760),N=z(774);T.exports=y?function(B,j,U){return P.f(B,j,N(1,U))}:function(B,j,U){return B[j]=U,B}},774:function(T){T.exports=function(R,z){return{enumerable:!(1&R),configurable:!(2&R),writable:!(4&R),value:z}}},9361:function(T,R,z){"use strict";var y=z(77),P=z(2760),N=z(774);T.exports=function(B,j,U){var b=y(j);b in B?P.f(B,b,N(0,U)):B[b]=U}},7218:function(T,R,z){"use strict";var y=z(3085),P=z(5546),N=z(2282),B=z(6447),j=z(5148),U=z(9341),b=z(4469),h=z(1284),m=z(8711),g=z(9482),r=z(8182),a=z(7771),s=z(4413),u=N.PROPER,C=N.CONFIGURABLE,d=s.IteratorPrototype,x=s.BUGGY_SAFARI_ITERATORS,S=r("iterator"),I="keys",D="values",H="entries",V=function(){return this};T.exports=function(G,W,ee,_e,ge,Re,le){j(ee,W,_e);var se,ie,xe,Pe=function(K){if(K===ge&&he)return he;if(!x&&K in Ae)return Ae[K];switch(K){case I:case D:case H:return function(){return new ee(this,K)}}return function(){return new ee(this)}},$=W+" Iterator",tt=!1,Ae=G.prototype,it=Ae[S]||Ae["@@iterator"]||ge&&Ae[ge],he=!x&&it||Pe(ge),fe="Array"==W&&Ae.entries||it;if(fe&&(se=U(fe.call(new G)))!==Object.prototype&&se.next&&(!P&&U(se)!==d&&(b?b(se,d):B(se[S])||g(se,S,V)),h(se,$,!0,!0),P&&(a[$]=V)),u&&ge==D&&it&&it.name!==D&&(!P&&C?m(Ae,"name",D):(tt=!0,he=function(){return it.call(this)})),ge)if(ie={values:Pe(D),keys:Re?he:Pe(I),entries:Pe(H)},le)for(xe in ie)(x||tt||!(xe in Ae))&&g(Ae,xe,ie[xe]);else y({target:W,proto:!0,forced:x||tt},ie);return(!P||le)&&Ae[S]!==he&&g(Ae,S,he,{name:ge}),a[W]=he,ie}},1488:function(T,R,z){var y=z(7545),P=z(4500),N=z(9207),B=z(2760).f;T.exports=function(j){var U=y.Symbol||(y.Symbol={});P(U,j)||B(U,j,{value:N.f(j)})}},69:function(T,R,z){var y=z(6192);T.exports=!y(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},7449:function(T,R,z){var y=z(8576),P=z(5744),N=y.document,B=P(N)&&P(N.createElement);T.exports=function(j){return B?N.createElement(j):{}}},7365:function(T){T.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2957:function(T){T.exports="object"==typeof window},9347:function(T,R,z){var y=z(8989),P=z(8576);T.exports=/ipad|iphone|ipod/i.test(y)&&void 0!==P.Pebble},9536:function(T,R,z){var y=z(8989);T.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(y)},224:function(T,R,z){var y=z(9272),P=z(8576);T.exports="process"==y(P.process)},5914:function(T,R,z){var y=z(8989);T.exports=/web0s(?!.*chrome)/i.test(y)},8989:function(T,R,z){var y=z(150);T.exports=y("navigator","userAgent")||""},4218:function(T,R,z){var b,h,y=z(8576),P=z(8989),N=y.process,B=y.Deno,j=N&&N.versions||B&&B.version,U=j&&j.v8;U?h=(b=U.split("."))[0]<4?1:b[0]+b[1]:P&&(!(b=P.match(/Edge\/(\d+)/))||b[1]>=74)&&(b=P.match(/Chrome\/(\d+)/))&&(h=b[1]),T.exports=h&&+h},5607:function(T,R,z){var y=z(7545);T.exports=function(P){return y[P+"Prototype"]}},2952:function(T){T.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3085:function(T,R,z){"use strict";var y=z(8576),P=z(6447),N=z(5141).f,B=z(9245),j=z(7545),U=z(8043),b=z(8711),h=z(4500),m=function(g){var r=function(a,s,u){if(this instanceof g){switch(arguments.length){case 0:return new g;case 1:return new g(a);case 2:return new g(a,s)}return new g(a,s,u)}return g.apply(this,arguments)};return r.prototype=g.prototype,r};T.exports=function(g,r){var D,H,V,G,W,ee,_e,ge,a=g.target,s=g.global,u=g.stat,C=g.proto,d=s?y:u?y[a]:(y[a]||{}).prototype,x=s?j:j[a]||b(j,a,{})[a],S=x.prototype;for(V in r)D=!B(s?V:a+(u?".":"#")+V,g.forced)&&d&&h(d,V),W=x[V],D&&(ee=g.noTargetGet?(ge=N(d,V))&&ge.value:d[V]),G=D&&ee?ee:r[V],(!D||typeof W!=typeof G)&&(_e=g.bind&&D?U(G,y):g.wrap&&D?m(G):C&&P(G)?U(Function.call,G):G,(g.sham||G&&G.sham||W&&W.sham)&&b(_e,"sham",!0),b(x,V,_e),C&&(h(j,H=a+"Prototype")||b(j,H,{}),b(j[H],V,G),g.real&&S&&!S[V]&&b(S,V,G)))}},6192:function(T){T.exports=function(R){try{return!!R()}catch{return!0}}},8043:function(T,R,z){var y=z(6235);T.exports=function(P,N,B){if(y(P),void 0===N)return P;switch(B){case 0:return function(){return P.call(N)};case 1:return function(j){return P.call(N,j)};case 2:return function(j,U){return P.call(N,j,U)};case 3:return function(j,U,b){return P.call(N,j,U,b)}}return function(){return P.apply(N,arguments)}}},6782:function(T,R,z){"use strict";var y=z(6235),P=z(5744),N=[].slice,B={},j=function(U,b,h){if(!(b in B)){for(var m=[],g=0;g<b;g++)m[g]="a["+g+"]";B[b]=Function("C,a","return new C("+m.join(",")+")")}return B[b](U,h)};T.exports=Function.bind||function(b){var h=y(this),m=N.call(arguments,1),g=function(){var a=m.concat(N.call(arguments));return this instanceof g?j(h,a.length,a):h.apply(b,a)};return P(h.prototype)&&(g.prototype=h.prototype),g}},2282:function(T,R,z){var y=z(69),P=z(4500),N=Function.prototype,B=y&&Object.getOwnPropertyDescriptor,j=P(N,"name"),U=j&&"something"===function(){}.name,b=j&&(!y||y&&B(N,"name").configurable);T.exports={EXISTS:j,PROPER:U,CONFIGURABLE:b}},150:function(T,R,z){var y=z(7545),P=z(8576),N=z(6447),B=function(j){return N(j)?j:void 0};T.exports=function(j,U){return arguments.length<2?B(y[j])||B(P[j]):y[j]&&y[j][U]||P[j]&&P[j][U]}},8703:function(T,R,z){var y=z(4696),P=z(5037),N=z(7771),j=z(8182)("iterator");T.exports=function(U){if(null!=U)return P(U,j)||P(U,"@@iterator")||N[y(U)]}},1669:function(T,R,z){var y=z(6235),P=z(1138),N=z(8703);T.exports=function(B,j){var U=arguments.length<2?N(B):j;if(y(U))return P(U.call(B));throw TypeError(String(B)+" is not iterable")}},5037:function(T,R,z){var y=z(6235);T.exports=function(P,N){var B=P[N];return null==B?void 0:y(B)}},8576:function(T,R,z){var y=function(P){return P&&P.Math==Math&&P};T.exports=y("object"==typeof globalThis&&globalThis)||y("object"==typeof window&&window)||y("object"==typeof self&&self)||y("object"==typeof z.g&&z.g)||function(){return this}()||Function("return this")()},4500:function(T,R,z){var y=z(1795),P={}.hasOwnProperty;T.exports=Object.hasOwn||function(B,j){return P.call(y(B),j)}},4535:function(T){T.exports={}},3681:function(T,R,z){var y=z(8576);T.exports=function(P,N){var B=y.console;B&&B.error&&(1===arguments.length?B.error(P):B.error(P,N))}},7403:function(T,R,z){var y=z(150);T.exports=y("document","documentElement")},188:function(T,R,z){var y=z(69),P=z(6192),N=z(7449);T.exports=!y&&!P(function(){return 7!=Object.defineProperty(N("div"),"a",{get:function(){return 7}}).a})},2202:function(T,R,z){var y=z(6192),P=z(9272),N="".split;T.exports=y(function(){return!Object("z").propertyIsEnumerable(0)})?function(B){return"String"==P(B)?N.call(B,""):Object(B)}:Object},9516:function(T,R,z){var y=z(6447),P=z(6434),N=Function.toString;y(P.inspectSource)||(P.inspectSource=function(B){return N.call(B)}),T.exports=P.inspectSource},273:function(T,R,z){var y=z(5744),P=z(8711);T.exports=function(N,B){y(B)&&"cause"in B&&P(N,"cause",N.cause)}},3326:function(T,R,z){var r,a,s,y=z(8921),P=z(8576),N=z(5744),B=z(8711),j=z(4500),U=z(6434),b=z(9766),h=z(4535),m="Object already initialized";if(y||U.state){var d=U.state||(U.state=new(0,P.WeakMap)),x=d.get,S=d.has,I=d.set;r=function(H,V){if(S.call(d,H))throw new TypeError(m);return V.facade=H,I.call(d,H,V),V},a=function(H){return x.call(d,H)||{}},s=function(H){return S.call(d,H)}}else{var D=b("state");h[D]=!0,r=function(H,V){if(j(H,D))throw new TypeError(m);return V.facade=H,B(H,D,V),V},a=function(H){return j(H,D)?H[D]:{}},s=function(H){return j(H,D)}}T.exports={set:r,get:a,has:s,enforce:function(H){return s(H)?a(H):r(H,{})},getterFor:function(H){return function(V){var G;if(!N(V)||(G=a(V)).type!==H)throw TypeError("Incompatible receiver, "+H+" required");return G}}}},6109:function(T,R,z){var y=z(8182),P=z(7771),N=y("iterator"),B=Array.prototype;T.exports=function(j){return void 0!==j&&(P.Array===j||B[N]===j)}},4770:function(T,R,z){var y=z(9272);T.exports=Array.isArray||function(N){return"Array"==y(N)}},6447:function(T){T.exports=function(R){return"function"==typeof R}},2091:function(T,R,z){var y=z(6192),P=z(6447),N=z(4696),B=z(150),j=z(9516),U=[],b=B("Reflect","construct"),h=/^\s*(?:class|function)\b/,m=h.exec,g=!h.exec(function(){}),r=function(s){if(!P(s))return!1;try{return b(Object,U,s),!0}catch{return!1}};T.exports=!b||y(function(){var s;return r(r.call)||!r(Object)||!r(function(){s=!0})||s})?function(s){if(!P(s))return!1;switch(N(s)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return g||!!m.call(h,j(s))}:r},9245:function(T,R,z){var y=z(6192),P=z(6447),N=/#|\.prototype\./,B=function(m,g){var r=U[j(m)];return r==h||r!=b&&(P(g)?y(g):!!g)},j=B.normalize=function(m){return String(m).replace(N,".").toLowerCase()},U=B.data={},b=B.NATIVE="N",h=B.POLYFILL="P";T.exports=B},5744:function(T,R,z){var y=z(6447);T.exports=function(P){return"object"==typeof P?null!==P:y(P)}},5546:function(T){T.exports=!0},3236:function(T,R,z){var y=z(6447),P=z(150),N=z(615);T.exports=N?function(B){return"symbol"==typeof B}:function(B){var j=P("Symbol");return y(j)&&Object(B)instanceof j}},3442:function(T,R,z){var y=z(1138),P=z(6109),N=z(4104),B=z(8043),j=z(1669),U=z(8703),b=z(6639),h=function(m,g){this.stopped=m,this.result=g};T.exports=function(m,g,r){var x,S,I,D,H,V,G,s=!(!r||!r.AS_ENTRIES),u=!(!r||!r.IS_ITERATOR),C=!(!r||!r.INTERRUPTED),d=B(g,r&&r.that,1+s+C),W=function(_e){return x&&b(x,"normal",_e),new h(!0,_e)},ee=function(_e){return s?(y(_e),C?d(_e[0],_e[1],W):d(_e[0],_e[1])):C?d(_e,W):d(_e)};if(u)x=m;else{if(!(S=U(m)))throw TypeError(String(m)+" is not iterable");if(P(S)){for(I=0,D=N(m);D>I;I++)if((H=ee(m[I]))&&H instanceof h)return H;return new h(!1)}x=j(m,S)}for(V=x.next;!(G=V.call(x)).done;){try{H=ee(G.value)}catch(_e){b(x,"throw",_e)}if("object"==typeof H&&H&&H instanceof h)return H}return new h(!1)}},6639:function(T,R,z){var y=z(1138),P=z(5037);T.exports=function(N,B,j){var U,b;y(N);try{if(!(U=P(N,"return"))){if("throw"===B)throw j;return j}U=U.call(N)}catch(h){b=!0,U=h}if("throw"===B)throw j;if(b)throw U;return y(U),j}},4413:function(T,R,z){"use strict";var g,r,a,y=z(6192),P=z(6447),N=z(2853),B=z(9341),j=z(9482),U=z(8182),b=z(5546),h=U("iterator"),m=!1;[].keys&&("next"in(a=[].keys())?(r=B(B(a)))!==Object.prototype&&(g=r):m=!0),null==g||y(function(){var u={};return g[h].call(u)!==u})?g={}:b&&(g=N(g)),P(g[h])||j(g,h,function(){return this}),T.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:m}},7771:function(T){T.exports={}},4104:function(T,R,z){var y=z(8445);T.exports=function(P){return y(P.length)}},2950:function(T,R,z){var u,C,d,x,S,I,D,H,y=z(8576),P=z(5141).f,N=z(7160).set,B=z(9536),j=z(9347),U=z(5914),b=z(224),h=y.MutationObserver||y.WebKitMutationObserver,m=y.document,g=y.process,r=y.Promise,a=P(y,"queueMicrotask"),s=a&&a.value;s||(u=function(){var V,G;for(b&&(V=g.domain)&&V.exit();C;){G=C.fn,C=C.next;try{G()}catch(W){throw C?x():d=void 0,W}}d=void 0,V&&V.enter()},B||b||U||!h||!m?!j&&r&&r.resolve?((D=r.resolve(void 0)).constructor=r,H=D.then,x=function(){H.call(D,u)}):x=b?function(){g.nextTick(u)}:function(){N.call(y,u)}:(S=!0,I=m.createTextNode(""),new h(u).observe(I,{characterData:!0}),x=function(){I.data=S=!S})),T.exports=s||function(V){var G={fn:V,next:void 0};d&&(d.next=G),C||(C=G,x()),d=G}},4471:function(T,R,z){var y=z(8576);T.exports=y.Promise},3045:function(T,R,z){var y=z(4218),P=z(6192);T.exports=!!Object.getOwnPropertySymbols&&!P(function(){var N=Symbol();return!String(N)||!(Object(N)instanceof Symbol)||!Symbol.sham&&y&&y<41})},4551:function(T,R,z){var y=z(6192),P=z(8182),N=z(5546),B=P("iterator");T.exports=!y(function(){var j=new URL("b?a=1&b=2&c=3","http://a"),U=j.searchParams,b="";return j.pathname="c%20d",U.forEach(function(h,m){U.delete("b"),b+=m+h}),N&&!j.toJSON||!U.sort||"http://a/c%20d?a=1&c=3"!==j.href||"3"!==U.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!U[B]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==b||"x"!==new URL("http://x",void 0).host})},8921:function(T,R,z){var y=z(8576),P=z(6447),N=z(9516),B=y.WeakMap;T.exports=P(B)&&/native code/.test(N(B))},9438:function(T,R,z){"use strict";var y=z(6235),P=function(N){var B,j;this.promise=new N(function(U,b){if(void 0!==B||void 0!==j)throw TypeError("Bad Promise constructor");B=U,j=b}),this.resolve=y(B),this.reject=y(j)};T.exports.f=function(N){return new P(N)}},15:function(T,R,z){var y=z(8576),P=z(6192),N=z(4845),B=z(4277).trim,j=z(1450),U=y.parseFloat,b=y.Symbol,h=b&&b.iterator,m=1/U(j+"-0")!=-1/0||h&&!P(function(){U(Object(h))});T.exports=m?function(r){var a=B(N(r)),s=U(a);return 0===s&&"-"==a.charAt(0)?-0:s}:U},2558:function(T,R,z){var y=z(8576),P=z(6192),N=z(4845),B=z(4277).trim,j=z(1450),U=y.parseInt,b=y.Symbol,h=b&&b.iterator,m=/^[+-]?0[Xx]/,g=8!==U(j+"08")||22!==U(j+"0x16")||h&&!P(function(){U(Object(h))});T.exports=g?function(a,s){var u=B(N(a));return U(u,s>>>0||(m.test(u)?16:10))}:U},2503:function(T,R,z){"use strict";var y=z(69),P=z(6192),N=z(7653),B=z(4750),j=z(6007),U=z(1795),b=z(2202),h=Object.assign,m=Object.defineProperty;T.exports=!h||P(function(){if(y&&1!==h({b:1},h(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var g={},r={},a=Symbol(),s="abcdefghijklmnopqrst";return g[a]=7,s.split("").forEach(function(u){r[u]=u}),7!=h({},g)[a]||N(h({},r)).join("")!=s})?function(r,a){for(var s=U(r),u=arguments.length,C=1,d=B.f,x=j.f;u>C;)for(var V,S=b(arguments[C++]),I=d?N(S).concat(d(S)):N(S),D=I.length,H=0;D>H;)V=I[H++],(!y||x.call(S,V))&&(s[V]=S[V]);return s}:h},2853:function(T,R,z){var x,y=z(1138),P=z(1187),N=z(2952),B=z(4535),j=z(7403),U=z(7449),b=z(9766),g="prototype",r="script",a=b("IE_PROTO"),s=function(){},u=function(I){return"<"+r+">"+I+"</"+r+">"},C=function(I){I.write(u("")),I.close();var D=I.parentWindow.Object;return I=null,D},S=function(){try{x=new ActiveXObject("htmlfile")}catch{}S=typeof document<"u"?document.domain&&x?C(x):function(){var H,I=U("iframe"),D="java"+r+":";return I.style.display="none",j.appendChild(I),I.src=String(D),(H=I.contentWindow.document).open(),H.write(u("document.F=Object")),H.close(),H.F}():C(x);for(var I=N.length;I--;)delete S[g][N[I]];return S()};B[a]=!0,T.exports=Object.create||function(D,H){var V;return null!==D?(s[g]=y(D),V=new s,s[g]=null,V[a]=D):V=S(),void 0===H?V:P(V,H)}},1187:function(T,R,z){var y=z(69),P=z(2760),N=z(1138),B=z(7653);T.exports=y?Object.defineProperties:function(U,b){N(U);for(var r,h=B(b),m=h.length,g=0;m>g;)P.f(U,r=h[g++],b[r]);return U}},2760:function(T,R,z){var y=z(69),P=z(188),N=z(1138),B=z(77),j=Object.defineProperty;R.f=y?j:function(b,h,m){if(N(b),h=B(h),N(m),P)try{return j(b,h,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(b[h]=m.value),b}},5141:function(T,R,z){var y=z(69),P=z(6007),N=z(774),B=z(101),j=z(77),U=z(4500),b=z(188),h=Object.getOwnPropertyDescriptor;R.f=y?h:function(g,r){if(g=B(g),r=j(r),b)try{return h(g,r)}catch{}if(U(g,r))return N(!P.f.call(g,r),g[r])}},4052:function(T,R,z){var y=z(101),P=z(2092).f,N={}.toString,B="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];T.exports.f=function(b){return B&&"[object Window]"==N.call(b)?function(U){try{return P(U)}catch{return B.slice()}}(b):P(y(b))}},2092:function(T,R,z){var y=z(7934),N=z(2952).concat("length","prototype");R.f=Object.getOwnPropertyNames||function(j){return y(j,N)}},4750:function(T,R){R.f=Object.getOwnPropertySymbols},9341:function(T,R,z){var y=z(4500),P=z(6447),N=z(1795),B=z(9766),j=z(4635),U=B("IE_PROTO"),b=Object.prototype;T.exports=j?Object.getPrototypeOf:function(h){var m=N(h);if(y(m,U))return m[U];var g=m.constructor;return P(g)&&m instanceof g?g.prototype:m instanceof Object?b:null}},7934:function(T,R,z){var y=z(4500),P=z(101),N=z(8180).indexOf,B=z(4535);T.exports=function(j,U){var g,b=P(j),h=0,m=[];for(g in b)!y(B,g)&&y(b,g)&&m.push(g);for(;U.length>h;)y(b,g=U[h++])&&(~N(m,g)||m.push(g));return m}},7653:function(T,R,z){var y=z(7934),P=z(2952);T.exports=Object.keys||function(B){return y(B,P)}},6007:function(T,R){"use strict";var z={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,P=y&&!z.call({1:2},1);R.f=P?function(B){var j=y(this,B);return!!j&&j.enumerable}:z},4469:function(T,R,z){var y=z(1138),P=z(7757);T.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var j,N=!1,B={};try{(j=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(B,[]),N=B instanceof Array}catch{}return function(b,h){return y(b),P(h),N?j.call(b,h):b.__proto__=h,b}}():void 0)},158:function(T,R,z){"use strict";var y=z(3471),P=z(4696);T.exports=y?{}.toString:function(){return"[object "+P(this)+"]"}},380:function(T,R,z){var y=z(6447),P=z(5744);T.exports=function(N,B){var j,U;if("string"===B&&y(j=N.toString)&&!P(U=j.call(N))||y(j=N.valueOf)&&!P(U=j.call(N))||"string"!==B&&y(j=N.toString)&&!P(U=j.call(N)))return U;throw TypeError("Can't convert object to primitive value")}},7545:function(T){T.exports={}},892:function(T){T.exports=function(R){try{return{error:!1,value:R()}}catch(z){return{error:!0,value:z}}}},9126:function(T,R,z){var y=z(1138),P=z(5744),N=z(9438);T.exports=function(B,j){if(y(B),P(j)&&j.constructor===B)return j;var U=N.f(B);return(0,U.resolve)(j),U.promise}},533:function(T,R,z){var y=z(9482);T.exports=function(P,N,B){for(var j in N)B&&B.unsafe&&P[j]?P[j]=N[j]:y(P,j,N[j],B);return P}},9482:function(T,R,z){var y=z(8711);T.exports=function(P,N,B,j){j&&j.enumerable?P[N]=B:y(P,N,B)}},3209:function(T){T.exports=function(R){if(null==R)throw TypeError("Can't call method on "+R);return R}},7613:function(T,R,z){var y=z(8576);T.exports=function(P,N){try{Object.defineProperty(y,P,{value:N,configurable:!0,writable:!0})}catch{y[P]=N}return N}},3656:function(T,R,z){"use strict";var y=z(150),P=z(2760),N=z(8182),B=z(69),j=N("species");T.exports=function(U){var b=y(U);B&&b&&!b[j]&&(0,P.f)(b,j,{configurable:!0,get:function(){return this}})}},1284:function(T,R,z){var y=z(3471),P=z(2760).f,N=z(8711),B=z(4500),j=z(158),b=z(8182)("toStringTag");T.exports=function(h,m,g,r){if(h){var a=g?h:h.prototype;B(a,b)||P(a,b,{configurable:!0,value:m}),r&&!y&&N(a,"toString",j)}}},9766:function(T,R,z){var y=z(8717),P=z(2759),N=y("keys");T.exports=function(B){return N[B]||(N[B]=P(B))}},6434:function(T,R,z){var y=z(8576),P=z(7613),N="__core-js_shared__",B=y[N]||P(N,{});T.exports=B},8717:function(T,R,z){var y=z(5546),P=z(6434);(T.exports=function(N,B){return P[N]||(P[N]=void 0!==B?B:{})})("versions",[]).push({version:"3.18.2",mode:y?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},4743:function(T,R,z){var y=z(1138),P=z(1404),B=z(8182)("species");T.exports=function(j,U){var h,b=y(j).constructor;return void 0===b||null==(h=y(b)[B])?U:P(h)}},863:function(T,R,z){var y=z(1941),P=z(4845),N=z(3209),B=function(j){return function(U,b){var r,a,h=P(N(U)),m=y(b),g=h.length;return m<0||m>=g?j?"":void 0:(r=h.charCodeAt(m))<55296||r>56319||m+1===g||(a=h.charCodeAt(m+1))<56320||a>57343?j?h.charAt(m):r:j?h.slice(m,m+2):a-56320+(r-55296<<10)+65536}};T.exports={codeAt:B(!1),charAt:B(!0)}},7977:function(T){"use strict";var R=2147483647,h=/[^\0-\u007E]/,m=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,C=function(S){return S+22+75*(S<26)},d=function(S,I,D){var H=0;for(S=D?a(S/700):S>>1,S+=a(S/I);S>455;H+=36)S=a(S/35);return a(H+36*S/(S+38))},x=function(S){var W,ee,I=[],D=(S=function(S){for(var I=[],D=0,H=S.length;D<H;){var V=S.charCodeAt(D++);if(V>=55296&&V<=56319&&D<H){var G=S.charCodeAt(D++);56320==(64512&G)?I.push(((1023&V)<<10)+(1023&G)+65536):(I.push(V),D--)}else I.push(V)}return I}(S)).length,H=128,V=0,G=72;for(W=0;W<S.length;W++)(ee=S[W])<128&&I.push(s(ee));var _e=I.length,ge=_e;for(_e&&I.push("-");ge<D;){var Re=R;for(W=0;W<S.length;W++)(ee=S[W])>=H&&ee<Re&&(Re=ee);var le=ge+1;if(Re-H>a((R-V)/le))throw RangeError(g);for(V+=(Re-H)*le,H=Re,W=0;W<S.length;W++){if((ee=S[W])<H&&++V>R)throw RangeError(g);if(ee==H){for(var Pe=V,$=36;;$+=36){var tt=$<=G?1:$>=G+26?26:$-G;if(Pe<tt)break;var Ae=Pe-tt,it=36-tt;I.push(s(C(tt+Ae%it))),Pe=a(Ae/it)}I.push(s(C(Pe))),G=d(V,le,ge==_e),V=0,++ge}}++V,++H}return I.join("")};T.exports=function(S){var H,V,I=[],D=S.toLowerCase().replace(m,".").split(".");for(H=0;H<D.length;H++)I.push(h.test(V=D[H])?"xn--"+x(V):V);return I.join(".")}},6815:function(T,R,z){var y=z(2282).PROPER,P=z(6192),N=z(1450);T.exports=function(j){return P(function(){return!!N[j]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[j]()||y&&N[j].name!==j})}},4277:function(T,R,z){var y=z(3209),P=z(4845),B="["+z(1450)+"]",j=RegExp("^"+B+B+"*"),U=RegExp(B+B+"*$"),b=function(h){return function(m){var g=P(y(m));return 1&h&&(g=g.replace(j,"")),2&h&&(g=g.replace(U,"")),g}};T.exports={start:b(1),end:b(2),trim:b(3)}},7160:function(T,R,z){var x,S,I,D,y=z(8576),P=z(6447),N=z(6192),B=z(8043),j=z(7403),U=z(7449),b=z(9536),h=z(224),m=y.setImmediate,g=y.clearImmediate,r=y.process,a=y.MessageChannel,s=y.Dispatch,u=0,C={},d="onreadystatechange";try{x=y.location}catch{}var H=function(ee){if(C.hasOwnProperty(ee)){var _e=C[ee];delete C[ee],_e()}},V=function(ee){return function(){H(ee)}},G=function(ee){H(ee.data)},W=function(ee){y.postMessage(String(ee),x.protocol+"//"+x.host)};(!m||!g)&&(m=function(_e){for(var ge=[],Re=arguments.length,le=1;Re>le;)ge.push(arguments[le++]);return C[++u]=function(){(P(_e)?_e:Function(_e)).apply(void 0,ge)},S(u),u},g=function(_e){delete C[_e]},h?S=function(ee){r.nextTick(V(ee))}:s&&s.now?S=function(ee){s.now(V(ee))}:a&&!b?(D=(I=new a).port2,I.port1.onmessage=G,S=B(D.postMessage,D,1)):y.addEventListener&&P(y.postMessage)&&!y.importScripts&&x&&"file:"!==x.protocol&&!N(W)?(S=W,y.addEventListener("message",G,!1)):S=d in U("script")?function(ee){j.appendChild(U("script"))[d]=function(){j.removeChild(this),H(ee)}}:function(ee){setTimeout(V(ee),0)}),T.exports={set:m,clear:g}},7739:function(T,R,z){var y=z(1941),P=Math.max,N=Math.min;T.exports=function(B,j){var U=y(B);return U<0?P(U+j,0):N(U,j)}},101:function(T,R,z){var y=z(2202),P=z(3209);T.exports=function(N){return y(P(N))}},1941:function(T){var R=Math.ceil,z=Math.floor;T.exports=function(y){var P=+y;return P!=P||0===P?0:(P>0?z:R)(P)}},8445:function(T,R,z){var y=z(1941),P=Math.min;T.exports=function(N){return N>0?P(y(N),9007199254740991):0}},1795:function(T,R,z){var y=z(3209);T.exports=function(P){return Object(y(P))}},7888:function(T,R,z){var y=z(5744),P=z(3236),N=z(5037),B=z(380),U=z(8182)("toPrimitive");T.exports=function(b,h){if(!y(b)||P(b))return b;var g,m=N(b,U);if(m){if(void 0===h&&(h="default"),g=m.call(b,h),!y(g)||P(g))return g;throw TypeError("Can't convert object to primitive value")}return void 0===h&&(h="number"),B(b,h)}},77:function(T,R,z){var y=z(7888),P=z(3236);T.exports=function(N){var B=y(N,"string");return P(B)?B:String(B)}},3471:function(T,R,z){var N={};N[z(8182)("toStringTag")]="z",T.exports="[object z]"===String(N)},4845:function(T,R,z){var y=z(4696);T.exports=function(P){if("Symbol"===y(P))throw TypeError("Cannot convert a Symbol value to a string");return String(P)}},9288:function(T){T.exports=function(R){try{return String(R)}catch{return"Object"}}},2759:function(T){var R=0,z=Math.random();T.exports=function(y){return"Symbol("+String(void 0===y?"":y)+")_"+(++R+z).toString(36)}},615:function(T,R,z){var y=z(3045);T.exports=y&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9207:function(T,R,z){var y=z(8182);R.f=y},8182:function(T,R,z){var y=z(8576),P=z(8717),N=z(4500),B=z(2759),j=z(3045),U=z(615),b=P("wks"),h=y.Symbol,m=U?h:h&&h.withoutSetter||B;T.exports=function(g){return(!N(b,g)||!(j||"string"==typeof b[g]))&&(b[g]=j&&N(h,g)?h[g]:m("Symbol."+g)),b[g]}},1450:function(T){T.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},4242:function(T,R,z){"use strict";var y=z(3085),P=z(9341),N=z(4469),B=z(2853),j=z(8711),U=z(774),b=z(273),h=z(3442),m=z(4845),g=function(a,s){var u=this,C=arguments.length>2?arguments[2]:void 0;if(!(u instanceof g))return new g(a,s,C);N&&(u=N(new Error(void 0),P(u))),void 0!==s&&j(u,"message",m(s)),b(u,C);var d=[];return h(a,d.push,{that:d}),j(u,"errors",d),u};g.prototype=B(Error.prototype,{constructor:U(5,g),message:U(5,""),name:U(5,"AggregateError")}),y({global:!0},{AggregateError:g})},9106:function(T,R,z){"use strict";var y=z(3085),P=z(6192),N=z(4770),B=z(5744),j=z(1795),U=z(4104),b=z(9361),h=z(1321),m=z(242),g=z(8182),r=z(4218),a=g("isConcatSpreadable"),s=9007199254740991,u="Maximum allowed index exceeded",C=r>=51||!P(function(){var I=[];return I[a]=!1,I.concat()[0]!==I}),d=m("concat"),x=function(I){if(!B(I))return!1;var D=I[a];return void 0!==D?!!D:N(I)};y({target:"Array",proto:!0,forced:!C||!d},{concat:function(D){var W,ee,_e,ge,Re,H=j(this),V=h(H,0),G=0;for(W=-1,_e=arguments.length;W<_e;W++)if(x(Re=-1===W?H:arguments[W])){if(G+(ge=U(Re))>s)throw TypeError(u);for(ee=0;ee<ge;ee++,G++)ee in Re&&b(V,G,Re[ee])}else{if(G>=s)throw TypeError(u);b(V,G++,Re)}return V.length=G,V}})},1710:function(T,R,z){var y=z(3085),P=z(2724),N=z(7423);y({target:"Array",proto:!0},{fill:P}),N("fill")},3436:function(T,R,z){"use strict";var y=z(3085),P=z(454).filter;y({target:"Array",proto:!0,forced:!z(242)("filter")},{filter:function(U){return P(this,U,arguments.length>1?arguments[1]:void 0)}})},9823:function(T,R,z){"use strict";var y=z(3085),P=z(7397);y({target:"Array",proto:!0,forced:[].forEach!=P},{forEach:P})},9173:function(T,R,z){var y=z(3085),P=z(841);y({target:"Array",stat:!0,forced:!z(9770)(function(j){Array.from(j)})},{from:P})},2276:function(T,R,z){"use strict";var y=z(3085),P=z(8180).indexOf,N=z(424),B=[].indexOf,j=!!B&&1/[1].indexOf(1,-0)<0,U=N("indexOf");y({target:"Array",proto:!0,forced:j||!U},{indexOf:function(h){return j?B.apply(this,arguments)||0:P(this,h,arguments.length>1?arguments[1]:void 0)}})},8118:function(T,R,z){z(3085)({target:"Array",stat:!0},{isArray:z(4770)})},8939:function(T,R,z){"use strict";var y=z(101),P=z(7423),N=z(7771),B=z(3326),j=z(7218),U="Array Iterator",b=B.set,h=B.getterFor(U);T.exports=j(Array,"Array",function(m,g){b(this,{type:U,target:y(m),index:0,kind:g})},function(){var m=h(this),g=m.target,r=m.kind,a=m.index++;return!g||a>=g.length?(m.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:a,done:!1}:"values"==r?{value:g[a],done:!1}:{value:[a,g[a]],done:!1}},"values"),N.Arguments=N.Array,P("keys"),P("values"),P("entries")},3838:function(T,R,z){"use strict";var y=z(3085),P=z(454).map;y({target:"Array",proto:!0,forced:!z(242)("map")},{map:function(U){return P(this,U,arguments.length>1?arguments[1]:void 0)}})},5818:function(T,R,z){"use strict";var y=z(3085),P=z(4770),N=z(2091),B=z(5744),j=z(7739),U=z(4104),b=z(101),h=z(9361),m=z(8182),r=z(242)("slice"),a=m("species"),s=[].slice,u=Math.max;y({target:"Array",proto:!0,forced:!r},{slice:function(d,x){var V,G,W,S=b(this),I=U(S),D=j(d,I),H=j(void 0===x?I:x,I);if(P(S)&&((N(V=S.constructor)&&(V===Array||P(V.prototype))||B(V)&&null===(V=V[a]))&&(V=void 0),V===Array||void 0===V))return s.call(S,D,H);for(G=new(void 0===V?Array:V)(u(H-D,0)),W=0;D<H;D++,W++)D in S&&h(G,W,S[D]);return G.length=W,G}})},2178:function(T,R,z){"use strict";var y=z(3085),P=z(7739),N=z(1941),B=z(4104),j=z(1795),U=z(1321),b=z(9361),m=z(242)("splice"),g=Math.max,r=Math.min,a=9007199254740991,s="Maximum allowed length exceeded";y({target:"Array",proto:!0,forced:!m},{splice:function(C,d){var H,V,G,W,ee,_e,x=j(this),S=B(x),I=P(C,S),D=arguments.length;if(0===D?H=V=0:1===D?(H=0,V=S-I):(H=D-2,V=r(g(N(d),0),S-I)),S+H-V>a)throw TypeError(s);for(G=U(x,V),W=0;W<V;W++)(ee=I+W)in x&&b(G,W,x[ee]);if(G.length=V,H<V){for(W=I;W<S-V;W++)_e=W+H,(ee=W+V)in x?x[_e]=x[ee]:delete x[_e];for(W=S;W>S-V+H;W--)delete x[W-1]}else if(H>V)for(W=S-V;W>I;W--)_e=W+H-1,(ee=W+V-1)in x?x[_e]=x[ee]:delete x[_e];for(W=0;W<H;W++)x[W+I]=arguments[W+2];return x.length=S-V+H,G}})},665:function(T,R,z){z(3085)({target:"Function",proto:!0},{bind:z(6782)})},8671:function(T,R,z){var y=z(8576);z(1284)(y.JSON,"JSON",!0)},8556:function(){},2666:function(T,R,z){var y=z(3085),P=z(2558);y({target:"Number",stat:!0,forced:Number.parseInt!=P},{parseInt:P})},3113:function(T,R,z){z(3085)({target:"Object",stat:!0,sham:!z(69)},{create:z(2853)})},297:function(T,R,z){var y=z(3085),P=z(69);y({target:"Object",stat:!0,forced:!P,sham:!P},{defineProperty:z(2760).f})},9234:function(T,R,z){var y=z(3085),P=z(6192),N=z(1795),B=z(9341),j=z(4635);y({target:"Object",stat:!0,forced:P(function(){B(1)}),sham:!j},{getPrototypeOf:function(h){return B(N(h))}})},2647:function(T,R,z){var y=z(3085),P=z(1795),N=z(7653);y({target:"Object",stat:!0,forced:z(6192)(function(){N(1)})},{keys:function(b){return N(P(b))}})},3222:function(T,R,z){z(3085)({target:"Object",stat:!0},{setPrototypeOf:z(4469)})},6663:function(){},4859:function(T,R,z){var y=z(3085),P=z(15);y({global:!0,forced:parseFloat!=P},{parseFloat:P})},5706:function(T,R,z){var y=z(3085),P=z(2558);y({global:!0,forced:parseInt!=P},{parseInt:P})},7884:function(T,R,z){"use strict";var y=z(3085),P=z(6235),N=z(9438),B=z(892),j=z(3442);y({target:"Promise",stat:!0},{allSettled:function(b){var h=this,m=N.f(h),g=m.resolve,r=m.reject,a=B(function(){var s=P(h.resolve),u=[],C=0,d=1;j(b,function(x){var S=C++,I=!1;u.push(void 0),d++,s.call(h,x).then(function(D){I||(I=!0,u[S]={status:"fulfilled",value:D},--d||g(u))},function(D){I||(I=!0,u[S]={status:"rejected",reason:D},--d||g(u))})}),--d||g(u)});return a.error&&r(a.value),m.promise}})},8885:function(T,R,z){"use strict";var y=z(3085),P=z(6235),N=z(150),B=z(9438),j=z(892),U=z(3442),b="No one promise resolved";y({target:"Promise",stat:!0},{any:function(m){var g=this,r=B.f(g),a=r.resolve,s=r.reject,u=j(function(){var C=P(g.resolve),d=[],x=0,S=1,I=!1;U(m,function(D){var H=x++,V=!1;d.push(void 0),S++,C.call(g,D).then(function(G){V||I||(I=!0,a(G))},function(G){V||I||(V=!0,d[H]=G,--S||s(new(N("AggregateError"))(d,b)))})}),--S||s(new(N("AggregateError"))(d,b))});return u.error&&s(u.value),r.promise}})},1868:function(T,R,z){"use strict";var y=z(3085),P=z(5546),N=z(4471),B=z(6192),j=z(150),U=z(6447),b=z(4743),h=z(9126),m=z(9482);if(y({target:"Promise",proto:!0,real:!0,forced:!!N&&B(function(){N.prototype.finally.call({then:function(){}},function(){})})},{finally:function(a){var s=b(this,j("Promise")),u=U(a);return this.then(u?function(C){return h(s,a()).then(function(){return C})}:a,u?function(C){return h(s,a()).then(function(){throw C})}:a)}}),!P&&U(N)){var r=j("Promise").prototype.finally;N.prototype.finally!==r&&m(N.prototype,"finally",r,{unsafe:!0})}},9021:function(T,R,z){"use strict";var Ie,Xe,at,rt,y=z(3085),P=z(5546),N=z(8576),B=z(150),j=z(4471),U=z(9482),b=z(533),h=z(4469),m=z(1284),g=z(3656),r=z(6235),a=z(6447),s=z(5744),u=z(6961),C=z(9516),d=z(3442),x=z(9770),S=z(4743),I=z(7160).set,D=z(2950),H=z(9126),V=z(3681),G=z(9438),W=z(892),ee=z(3326),_e=z(9245),ge=z(8182),Re=z(2957),le=z(224),Pe=z(4218),$=ge("species"),tt="Promise",Ae=ee.get,it=ee.set,he=ee.getterFor(tt),fe=j&&j.prototype,se=j,ie=fe,xe=N.TypeError,K=N.document,te=N.process,ne=G.f,ae=ne,Te=!!(K&&K.createEvent&&N.dispatchEvent),be=a(N.PromiseRejectionEvent),Ne="unhandledrejection",Me=!1,Oe=_e(tt,function(){var Ve=C(se),je=Ve!==String(se);if(!je&&66===Pe||P&&!ie.finally)return!0;if(Pe>=51&&/native code/.test(Ve))return!1;var et=new se(function(Ue){Ue(1)}),nt=function(Ue){Ue(function(){},function(){})};return(et.constructor={})[$]=nt,!(Me=et.then(function(){})instanceof nt)||!je&&Re&&!be}),st=Oe||!x(function(Ve){se.all(Ve).catch(function(){})}),ht=function(Ve){var je;return!(!s(Ve)||!a(je=Ve.then))&&je},mt=function(Ve,je){if(!Ve.notified){Ve.notified=!0;var et=Ve.reactions;D(function(){for(var nt=Ve.value,ct=1==Ve.state,Ue=0;et.length>Ue;){var _t,Tt,di,Ht=et[Ue++],Wt=ct?Ht.ok:Ht.fail,lt=Ht.resolve,He=Ht.reject,Pt=Ht.domain;try{Wt?(ct||(2===Ve.rejection&&zt(Ve),Ve.rejection=1),!0===Wt?_t=nt:(Pt&&Pt.enter(),_t=Wt(nt),Pt&&(Pt.exit(),di=!0)),_t===Ht.promise?He(xe("Promise-chain cycle")):(Tt=ht(_t))?Tt.call(_t,lt,He):lt(_t)):He(nt)}catch(si){Pt&&!di&&Pt.exit(),He(si)}}Ve.reactions=[],Ve.notified=!1,je&&!Ve.rejection&&St(Ve)})}},Nt=function(Ve,je,et){var nt,ct;Te?((nt=K.createEvent("Event")).promise=je,nt.reason=et,nt.initEvent(Ve,!1,!0),N.dispatchEvent(nt)):nt={promise:je,reason:et},!be&&(ct=N["on"+Ve])?ct(nt):Ve===Ne&&V("Unhandled promise rejection",et)},St=function(Ve){I.call(N,function(){var ct,je=Ve.facade,et=Ve.value;if(At(Ve)&&(ct=W(function(){le?te.emit("unhandledRejection",et,je):Nt(Ne,je,et)}),Ve.rejection=le||At(Ve)?2:1,ct.error))throw ct.value})},At=function(Ve){return 1!==Ve.rejection&&!Ve.parent},zt=function(Ve){I.call(N,function(){var je=Ve.facade;le?te.emit("rejectionHandled",je):Nt("rejectionhandled",je,Ve.value)})},It=function(Ve,je,et){return function(nt){Ve(je,nt,et)}},Bt=function(Ve,je,et){Ve.done||(Ve.done=!0,et&&(Ve=et),Ve.value=je,Ve.state=2,mt(Ve,!0))},Gt=function(Ve,je,et){if(!Ve.done){Ve.done=!0,et&&(Ve=et);try{if(Ve.facade===je)throw xe("Promise can't be resolved itself");var nt=ht(je);nt?D(function(){var ct={done:!1};try{nt.call(je,It(Gt,ct,Ve),It(Bt,ct,Ve))}catch(Ue){Bt(ct,Ue,Ve)}}):(Ve.value=je,Ve.state=1,mt(Ve,!1))}catch(ct){Bt({done:!1},ct,Ve)}}};if(Oe&&(se=function(je){u(this,se,tt),r(je),Ie.call(this);var et=Ae(this);try{je(It(Gt,et),It(Bt,et))}catch(nt){Bt(et,nt)}},(Ie=function(je){it(this,{type:tt,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=b(ie=se.prototype,{then:function(je,et){var nt=he(this),ct=ne(S(this,se));return ct.ok=!a(je)||je,ct.fail=a(et)&&et,ct.domain=le?te.domain:void 0,nt.parent=!0,nt.reactions.push(ct),0!=nt.state&&mt(nt,!1),ct.promise},catch:function(Ve){return this.then(void 0,Ve)}}),Xe=function(){var Ve=new Ie,je=Ae(Ve);this.promise=Ve,this.resolve=It(Gt,je),this.reject=It(Bt,je)},G.f=ne=function(Ve){return Ve===se||Ve===at?new Xe(Ve):ae(Ve)},!P&&a(j)&&fe!==Object.prototype)){rt=fe.then,Me||(U(fe,"then",function(je,et){var nt=this;return new se(function(ct,Ue){rt.call(nt,ct,Ue)}).then(je,et)},{unsafe:!0}),U(fe,"catch",ie.catch,{unsafe:!0}));try{delete fe.constructor}catch{}h&&h(fe,ie)}y({global:!0,wrap:!0,forced:Oe},{Promise:se}),m(se,tt,!1,!0),g(tt),at=B(tt),y({target:tt,stat:!0,forced:Oe},{reject:function(je){var et=ne(this);return et.reject.call(void 0,je),et.promise}}),y({target:tt,stat:!0,forced:P||Oe},{resolve:function(je){return H(P&&this===at?se:this,je)}}),y({target:tt,stat:!0,forced:st},{all:function(je){var et=this,nt=ne(et),ct=nt.resolve,Ue=nt.reject,Ht=W(function(){var Wt=r(et.resolve),lt=[],He=0,Pt=1;d(je,function(_t){var Tt=He++,di=!1;lt.push(void 0),Pt++,Wt.call(et,_t).then(function(si){di||(di=!0,lt[Tt]=si,--Pt||ct(lt))},Ue)}),--Pt||ct(lt)});return Ht.error&&Ue(Ht.value),nt.promise},race:function(je){var et=this,nt=ne(et),ct=nt.reject,Ue=W(function(){var Ht=r(et.resolve);d(je,function(Wt){Ht.call(et,Wt).then(nt.resolve,ct)})});return Ue.error&&ct(Ue.value),nt.promise}})},5397:function(T,R,z){var y=z(3085),P=z(150),N=z(1404),B=z(1138),j=z(5744),U=z(2853),b=z(6782),h=z(6192),m=P("Reflect","construct"),g=h(function(){function s(){}return!(m(function(){},[],s)instanceof s)}),r=!h(function(){m(function(){})}),a=g||r;y({target:"Reflect",stat:!0,forced:a,sham:a},{construct:function(u,C){N(u),B(C);var d=arguments.length<3?u:N(arguments[2]);if(r&&!g)return m(u,C,d);if(u==d){switch(C.length){case 0:return new u;case 1:return new u(C[0]);case 2:return new u(C[0],C[1]);case 3:return new u(C[0],C[1],C[2]);case 4:return new u(C[0],C[1],C[2],C[3])}var x=[null];return x.push.apply(x,C),new(b.apply(u,x))}var S=d.prototype,I=U(j(S)?S:Object.prototype),D=Function.apply.call(u,I,C);return j(D)?D:I}})},1367:function(){},5454:function(T,R,z){"use strict";var y=z(863).charAt,P=z(4845),N=z(3326),B=z(7218),j="String Iterator",U=N.set,b=N.getterFor(j);B(String,"String",function(h){U(this,{type:j,string:P(h),index:0})},function(){var a,m=b(this),g=m.string,r=m.index;return r>=g.length?{value:void 0,done:!0}:(a=y(g,r),m.index+=a.length,{value:a,done:!1})})},957:function(T,R,z){"use strict";var y=z(3085),P=z(4277).trim;y({target:"String",proto:!0,forced:z(6815)("trim")},{trim:function(){return P(this)}})},9781:function(T,R,z){z(1488)("asyncIterator")},492:function(){},6681:function(T,R,z){z(1488)("hasInstance")},9594:function(T,R,z){z(1488)("isConcatSpreadable")},3665:function(T,R,z){z(1488)("iterator")},6187:function(T,R,z){"use strict";var y=z(3085),P=z(8576),N=z(150),B=z(5546),j=z(69),U=z(3045),b=z(6192),h=z(4500),m=z(4770),g=z(6447),r=z(5744),a=z(3236),s=z(1138),u=z(1795),C=z(101),d=z(77),x=z(4845),S=z(774),I=z(2853),D=z(7653),H=z(2092),V=z(4052),G=z(4750),W=z(5141),ee=z(2760),_e=z(6007),ge=z(9482),Re=z(8717),le=z(9766),Pe=z(4535),$=z(2759),tt=z(8182),Ae=z(9207),it=z(1488),he=z(1284),fe=z(3326),se=z(454).forEach,ie=le("hidden"),xe="Symbol",K="prototype",te=tt("toPrimitive"),ne=fe.set,ae=fe.getterFor(xe),Te=Object[K],be=P.Symbol,Ne=N("JSON","stringify"),De=W.f,ke=ee.f,me=V.f,ce=_e.f,de=Re("symbols"),ye=Re("op-symbols"),Me=Re("string-to-symbol-registry"),Ie=Re("symbol-to-string-registry"),Xe=Re("wks"),at=P.QObject,rt=!at||!at[K]||!at[K].findChild,Oe=j&&b(function(){return 7!=I(ke({},"a",{get:function(){return ke(this,"a",{value:7}).a}})).a})?function(Ve,je,et){var nt=De(Te,je);nt&&delete Te[je],ke(Ve,je,et),nt&&Ve!==Te&&ke(Te,je,nt)}:ke,st=function(Ve,je){var et=de[Ve]=I(be[K]);return ne(et,{type:xe,tag:Ve,description:je}),j||(et.description=je),et},ht=function(je,et,nt){je===Te&&ht(ye,et,nt),s(je);var ct=d(et);return s(nt),h(de,ct)?(nt.enumerable?(h(je,ie)&&je[ie][ct]&&(je[ie][ct]=!1),nt=I(nt,{enumerable:S(0,!1)})):(h(je,ie)||ke(je,ie,S(1,{})),je[ie][ct]=!0),Oe(je,ct,nt)):ke(je,ct,nt)},mt=function(je,et){s(je);var nt=C(et),ct=D(nt).concat(It(nt));return se(ct,function(Ue){(!j||St.call(nt,Ue))&&ht(je,Ue,nt[Ue])}),je},St=function(je){var et=d(je),nt=ce.call(this,et);return!(this===Te&&h(de,et)&&!h(ye,et))&&(!(nt||!h(this,et)||!h(de,et)||h(this,ie)&&this[ie][et])||nt)},At=function(je,et){var nt=C(je),ct=d(et);if(nt!==Te||!h(de,ct)||h(ye,ct)){var Ue=De(nt,ct);return Ue&&h(de,ct)&&!(h(nt,ie)&&nt[ie][ct])&&(Ue.enumerable=!0),Ue}},zt=function(je){var et=me(C(je)),nt=[];return se(et,function(ct){!h(de,ct)&&!h(Pe,ct)&&nt.push(ct)}),nt},It=function(je){var et=je===Te,nt=me(et?ye:C(je)),ct=[];return se(nt,function(Ue){h(de,Ue)&&(!et||h(Te,Ue))&&ct.push(de[Ue])}),ct};if(U||(be=function(){if(this instanceof be)throw TypeError("Symbol is not a constructor");var je=arguments.length&&void 0!==arguments[0]?x(arguments[0]):void 0,et=$(je),nt=function(ct){this===Te&&nt.call(ye,ct),h(this,ie)&&h(this[ie],et)&&(this[ie][et]=!1),Oe(this,et,S(1,ct))};return j&&rt&&Oe(Te,et,{configurable:!0,set:nt}),st(et,je)},ge(be[K],"toString",function(){return ae(this).tag}),ge(be,"withoutSetter",function(Ve){return st($(Ve),Ve)}),_e.f=St,ee.f=ht,W.f=At,H.f=V.f=zt,G.f=It,Ae.f=function(Ve){return st(tt(Ve),Ve)},j&&(ke(be[K],"description",{configurable:!0,get:function(){return ae(this).description}}),B||ge(Te,"propertyIsEnumerable",St,{unsafe:!0}))),y({global:!0,wrap:!0,forced:!U,sham:!U},{Symbol:be}),se(D(Xe),function(Ve){it(Ve)}),y({target:xe,stat:!0,forced:!U},{for:function(Ve){var je=x(Ve);if(h(Me,je))return Me[je];var et=be(je);return Me[je]=et,Ie[et]=je,et},keyFor:function(je){if(!a(je))throw TypeError(je+" is not a symbol");if(h(Ie,je))return Ie[je]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),y({target:"Object",stat:!0,forced:!U,sham:!j},{create:function(je,et){return void 0===et?I(je):mt(I(je),et)},defineProperty:ht,defineProperties:mt,getOwnPropertyDescriptor:At}),y({target:"Object",stat:!0,forced:!U},{getOwnPropertyNames:zt,getOwnPropertySymbols:It}),y({target:"Object",stat:!0,forced:b(function(){G.f(1)})},{getOwnPropertySymbols:function(je){return G.f(u(je))}}),Ne&&y({target:"JSON",stat:!0,forced:!U||b(function(){var Ve=be();return"[null]"!=Ne([Ve])||"{}"!=Ne({a:Ve})||"{}"!=Ne(Object(Ve))})},{stringify:function(je,et,nt){for(var Ht,ct=[je],Ue=1;arguments.length>Ue;)ct.push(arguments[Ue++]);if(Ht=et,(r(et)||void 0!==je)&&!a(je))return m(et)||(et=function(Wt,lt){if(g(Ht)&&(lt=Ht.call(this,Wt,lt)),!a(lt))return lt}),ct[1]=et,Ne.apply(null,ct)}}),!be[K][te]){var Gt=be[K].valueOf;ge(be[K],te,function(){return Gt.apply(this,arguments)})}he(be,xe),Pe[ie]=!0},1250:function(T,R,z){z(1488)("matchAll")},9017:function(T,R,z){z(1488)("match")},9786:function(T,R,z){z(1488)("replace")},503:function(T,R,z){z(1488)("search")},6565:function(T,R,z){z(1488)("species")},9322:function(T,R,z){z(1488)("split")},3610:function(T,R,z){z(1488)("toPrimitive")},6886:function(T,R,z){z(1488)("toStringTag")},3514:function(T,R,z){z(1488)("unscopables")},177:function(T,R,z){z(1488)("asyncDispose")},9031:function(T,R,z){z(1488)("dispose")},6658:function(T,R,z){z(1488)("matcher")},1875:function(T,R,z){z(1488)("metadata")},8658:function(T,R,z){z(1488)("observable")},4592:function(T,R,z){z(1488)("patternMatch")},6680:function(T,R,z){z(1488)("replaceAll")},162:function(T,R,z){z(8939);var y=z(7365),P=z(8576),N=z(4696),B=z(8711),j=z(7771),b=z(8182)("toStringTag");for(var h in y){var m=P[h],g=m&&m.prototype;g&&N(g)!==b&&B(g,b,h),j[h]=j.Array}},2906:function(T,R,z){var y=z(3085),P=z(8576),N=z(6447),B=z(8989),j=[].slice,b=function(h){return function(m,g){var r=arguments.length>2,a=r?j.call(arguments,2):void 0;return h(r?function(){(N(m)?m:Function(m)).apply(this,a)}:m,g)}};y({global:!0,bind:!0,forced:/MSIE .\./.test(B)},{setTimeout:b(P.setTimeout),setInterval:b(P.setInterval)})},9336:function(T,R,z){"use strict";z(8939);var y=z(3085),P=z(150),N=z(4551),B=z(9482),j=z(533),U=z(1284),b=z(5148),h=z(3326),m=z(6961),g=z(6447),r=z(4500),a=z(8043),s=z(4696),u=z(1138),C=z(5744),d=z(4845),x=z(2853),S=z(774),I=z(1669),D=z(8703),H=z(8182),V=P("fetch"),G=P("Request"),W=G&&G.prototype,ee=P("Headers"),_e=H("iterator"),ge="URLSearchParams",Re=ge+"Iterator",le=h.set,Pe=h.getterFor(ge),$=h.getterFor(Re),tt=/\+/g,Ae=Array(4),it=function(me){return Ae[me-1]||(Ae[me-1]=RegExp("((?:%[\\da-f]{2}){"+me+"})","gi"))},he=function(me){try{return decodeURIComponent(me)}catch{return me}},fe=function(me){var ce=me.replace(tt," "),de=4;try{return decodeURIComponent(ce)}catch{for(;de;)ce=ce.replace(it(de--),he);return ce}},se=/[!'()~]|%20/g,ie={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},xe=function(me){return ie[me]},K=function(me){return encodeURIComponent(me).replace(se,xe)},te=function(me,ce){if(ce)for(var Me,Ie,de=ce.split("&"),ye=0;ye<de.length;)(Me=de[ye++]).length&&(Ie=Me.split("="),me.push({key:fe(Ie.shift()),value:fe(Ie.join("="))}))},ne=function(me){this.entries.length=0,te(this.entries,me)},ae=function(me,ce){if(me<ce)throw TypeError("Not enough arguments")},Te=b(function(ce,de){le(this,{type:Re,iterator:I(Pe(ce).entries),kind:de})},"Iterator",function(){var ce=$(this),de=ce.kind,ye=ce.iterator.next(),Me=ye.value;return ye.done||(ye.value="keys"===de?Me.key:"values"===de?Me.value:[Me.key,Me.value]),ye}),be=function(){m(this,be,ge);var Me,Ie,Xe,at,rt,Oe,st,ht,mt,ce=arguments.length>0?arguments[0]:void 0,ye=[];if(le(this,{type:ge,entries:ye,updateURL:function(){},updateSearchParams:ne}),void 0!==ce)if(C(ce))if(Me=D(ce))for(Xe=(Ie=I(ce,Me)).next;!(at=Xe.call(Ie)).done;){if((st=(Oe=(rt=I(u(at.value))).next).call(rt)).done||(ht=Oe.call(rt)).done||!Oe.call(rt).done)throw TypeError("Expected sequence with length 2");ye.push({key:d(st.value),value:d(ht.value)})}else for(mt in ce)r(ce,mt)&&ye.push({key:mt,value:d(ce[mt])});else te(ye,"string"==typeof ce?"?"===ce.charAt(0)?ce.slice(1):ce:d(ce))},Ne=be.prototype;if(j(Ne,{append:function(ce,de){ae(arguments.length,2);var ye=Pe(this);ye.entries.push({key:d(ce),value:d(de)}),ye.updateURL()},delete:function(me){ae(arguments.length,1);for(var ce=Pe(this),de=ce.entries,ye=d(me),Me=0;Me<de.length;)de[Me].key===ye?de.splice(Me,1):Me++;ce.updateURL()},get:function(ce){ae(arguments.length,1);for(var de=Pe(this).entries,ye=d(ce),Me=0;Me<de.length;Me++)if(de[Me].key===ye)return de[Me].value;return null},getAll:function(ce){ae(arguments.length,1);for(var de=Pe(this).entries,ye=d(ce),Me=[],Ie=0;Ie<de.length;Ie++)de[Ie].key===ye&&Me.push(de[Ie].value);return Me},has:function(ce){ae(arguments.length,1);for(var de=Pe(this).entries,ye=d(ce),Me=0;Me<de.length;)if(de[Me++].key===ye)return!0;return!1},set:function(ce,de){ae(arguments.length,1);for(var Oe,ye=Pe(this),Me=ye.entries,Ie=!1,Xe=d(ce),at=d(de),rt=0;rt<Me.length;rt++)(Oe=Me[rt]).key===Xe&&(Ie?Me.splice(rt--,1):(Ie=!0,Oe.value=at));Ie||Me.push({key:Xe,value:at}),ye.updateURL()},sort:function(){var Me,Ie,Xe,ce=Pe(this),de=ce.entries,ye=de.slice();for(de.length=0,Xe=0;Xe<ye.length;Xe++){for(Me=ye[Xe],Ie=0;Ie<Xe;Ie++)if(de[Ie].key>Me.key){de.splice(Ie,0,Me);break}Ie===Xe&&de.push(Me)}ce.updateURL()},forEach:function(ce){for(var Ie,de=Pe(this).entries,ye=a(ce,arguments.length>1?arguments[1]:void 0,3),Me=0;Me<de.length;)ye((Ie=de[Me++]).value,Ie.key,this)},keys:function(){return new Te(this,"keys")},values:function(){return new Te(this,"values")},entries:function(){return new Te(this,"entries")}},{enumerable:!0}),B(Ne,_e,Ne.entries,{name:"entries"}),B(Ne,"toString",function(){for(var Me,ce=Pe(this).entries,de=[],ye=0;ye<ce.length;)Me=ce[ye++],de.push(K(Me.key)+"="+K(Me.value));return de.join("&")},{enumerable:!0}),U(be,ge),y({global:!0,forced:!N},{URLSearchParams:be}),!N&&g(ee)){var De=function(me){if(C(me)){var de,ce=me.body;if(s(ce)===ge)return(de=me.headers?new ee(me.headers):new ee).has("content-type")||de.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),x(me,{body:S(0,String(ce)),headers:S(0,de)})}return me};if(g(V)&&y({global:!0,enumerable:!0,forced:!0},{fetch:function(ce){return V(ce,arguments.length>1?De(arguments[1]):{})}}),g(G)){var ke=function(ce){return m(this,ke,"Request"),new G(ce,arguments.length>1?De(arguments[1]):{})};W.constructor=ke,ke.prototype=W,y({global:!0,forced:!0},{Request:ke})}}T.exports={URLSearchParams:be,getState:Pe}},4948:function(T,R,z){"use strict";z(5454);var xe,y=z(3085),P=z(69),N=z(4551),B=z(8576),j=z(1187),U=z(9482),b=z(6961),h=z(4500),m=z(2503),g=z(841),r=z(863).codeAt,a=z(7977),s=z(4845),u=z(1284),C=z(9336),d=z(3326),x=B.URL,S=C.URLSearchParams,I=C.getState,D=d.set,H=d.getterFor("URL"),V=Math.floor,G=Math.pow,ee="Invalid scheme",_e="Invalid host",ge="Invalid port",Re=/[A-Za-z]/,le=/[\d+-.A-Za-z]/,Pe=/\d/,$=/^0x/i,tt=/^[0-7]+$/,Ae=/^\d+$/,it=/^[\dA-Fa-f]+$/,he=/[\0\t\n\r #%/:<>?@[\\\]^|]/,fe=/[\0\t\n\r #/:<>?@[\\\]^|]/,se=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ie=/[\t\n\r]/g,K=function(oe,We){var Ye,$e,qe;if("["==We.charAt(0)){if("]"!=We.charAt(We.length-1)||!(Ye=ne(We.slice(1,-1))))return _e;oe.host=Ye}else if(de(oe)){if(We=a(We),he.test(We)||null===(Ye=te(We)))return _e;oe.host=Ye}else{if(fe.test(We))return _e;for(Ye="",$e=g(We),qe=0;qe<$e.length;qe++)Ye+=me($e[qe],be);oe.host=Ye}},te=function(oe){var Ye,$e,qe,bt,dt,Ct,Ft,We=oe.split(".");if(We.length&&""==We[We.length-1]&&We.pop(),(Ye=We.length)>4)return oe;for($e=[],qe=0;qe<Ye;qe++){if(""==(bt=We[qe]))return oe;if(dt=10,bt.length>1&&"0"==bt.charAt(0)&&(dt=$.test(bt)?16:8,bt=bt.slice(8==dt?1:2)),""===bt)Ct=0;else{if(!(10==dt?Ae:8==dt?tt:it).test(bt))return oe;Ct=parseInt(bt,dt)}$e.push(Ct)}for(qe=0;qe<Ye;qe++)if(Ct=$e[qe],qe==Ye-1){if(Ct>=G(256,5-Ye))return null}else if(Ct>255)return null;for(Ft=$e.pop(),qe=0;qe<$e.length;qe++)Ft+=$e[qe]*G(256,3-qe);return Ft},ne=function(oe){var bt,dt,Ct,Ft,Yt,ni,Je,We=[0,0,0,0,0,0,0,0],Ye=0,$e=null,qe=0,Zt=function(){return oe.charAt(qe)};if(":"==Zt()){if(":"!=oe.charAt(1))return;qe+=2,$e=++Ye}for(;Zt();){if(8==Ye)return;if(":"!=Zt()){for(bt=dt=0;dt<4&&it.test(Zt());)bt=16*bt+parseInt(Zt(),16),qe++,dt++;if("."==Zt()){if(0==dt||(qe-=dt,Ye>6))return;for(Ct=0;Zt();){if(Ft=null,Ct>0){if(!("."==Zt()&&Ct<4))return;qe++}if(!Pe.test(Zt()))return;for(;Pe.test(Zt());){if(Yt=parseInt(Zt(),10),null===Ft)Ft=Yt;else{if(0==Ft)return;Ft=10*Ft+Yt}if(Ft>255)return;qe++}We[Ye]=256*We[Ye]+Ft,(2==++Ct||4==Ct)&&Ye++}if(4!=Ct)return;break}if(":"==Zt()){if(qe++,!Zt())return}else if(Zt())return;We[Ye++]=bt}else{if(null!==$e)return;qe++,$e=++Ye}}if(null!==$e)for(ni=Ye-$e,Ye=7;0!=Ye&&ni>0;)Je=We[Ye],We[Ye--]=We[$e+ni-1],We[$e+--ni]=Je;else if(8!=Ye)return;return We},Te=function(oe){var We,Ye,$e,qe;if("number"==typeof oe){for(We=[],Ye=0;Ye<4;Ye++)We.unshift(oe%256),oe=V(oe/256);return We.join(".")}if("object"==typeof oe){for(We="",$e=function(oe){for(var We=null,Ye=1,$e=null,qe=0,bt=0;bt<8;bt++)0!==oe[bt]?(qe>Ye&&(We=$e,Ye=qe),$e=null,qe=0):(null===$e&&($e=bt),++qe);return qe>Ye&&(We=$e,Ye=qe),We}(oe),Ye=0;Ye<8;Ye++)qe&&0===oe[Ye]||(qe&&(qe=!1),$e===Ye?(We+=Ye?":":"::",qe=!0):(We+=oe[Ye].toString(16),Ye<7&&(We+=":")));return"["+We+"]"}return oe},be={},Ne=m({},be,{" ":1,'"':1,"<":1,">":1,"`":1}),De=m({},Ne,{"#":1,"?":1,"{":1,"}":1}),ke=m({},De,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),me=function(oe,We){var Ye=r(oe,0);return Ye>32&&Ye<127&&!h(We,oe)?oe:encodeURIComponent(oe)},ce={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(oe){return h(ce,oe.scheme)},ye=function(oe){return""!=oe.username||""!=oe.password},Me=function(oe){return!oe.host||oe.cannotBeABaseURL||"file"==oe.scheme},Ie=function(oe,We){var Ye;return 2==oe.length&&Re.test(oe.charAt(0))&&(":"==(Ye=oe.charAt(1))||!We&&"|"==Ye)},Xe=function(oe){var We;return oe.length>1&&Ie(oe.slice(0,2))&&(2==oe.length||"/"===(We=oe.charAt(2))||"\\"===We||"?"===We||"#"===We)},at=function(oe){var We=oe.path,Ye=We.length;Ye&&("file"!=oe.scheme||1!=Ye||!Ie(We[0],!0))&&We.pop()},rt=function(oe){return"."===oe||"%2e"===oe.toLowerCase()},Oe=function(oe){return".."===(oe=oe.toLowerCase())||"%2e."===oe||".%2e"===oe||"%2e%2e"===oe},st={},ht={},mt={},Nt={},St={},At={},zt={},It={},Bt={},Gt={},Ve={},je={},et={},nt={},ct={},Ue={},Ht={},Wt={},lt={},He={},Pt={},_t=function(oe,We,Ye,$e){var ni,Je,Zt,li,qe=Ye||st,bt=0,dt="",Ct=!1,Ft=!1,Yt=!1;for(Ye||(oe.scheme="",oe.username="",oe.password="",oe.host=null,oe.port=null,oe.path=[],oe.query=null,oe.fragment=null,oe.cannotBeABaseURL=!1,We=We.replace(se,"")),We=We.replace(ie,""),ni=g(We);bt<=ni.length;){switch(Je=ni[bt],qe){case st:if(!Je||!Re.test(Je)){if(Ye)return ee;qe=mt;continue}dt+=Je.toLowerCase(),qe=ht;break;case ht:if(Je&&(le.test(Je)||"+"==Je||"-"==Je||"."==Je))dt+=Je.toLowerCase();else{if(":"!=Je){if(Ye)return ee;dt="",qe=mt,bt=0;continue}if(Ye&&(de(oe)!=h(ce,dt)||"file"==dt&&(ye(oe)||null!==oe.port)||"file"==oe.scheme&&!oe.host))return;if(oe.scheme=dt,Ye)return void(de(oe)&&ce[oe.scheme]==oe.port&&(oe.port=null));dt="","file"==oe.scheme?qe=nt:de(oe)&&$e&&$e.scheme==oe.scheme?qe=Nt:de(oe)?qe=It:"/"==ni[bt+1]?(qe=St,bt++):(oe.cannotBeABaseURL=!0,oe.path.push(""),qe=lt)}break;case mt:if(!$e||$e.cannotBeABaseURL&&"#"!=Je)return ee;if($e.cannotBeABaseURL&&"#"==Je){oe.scheme=$e.scheme,oe.path=$e.path.slice(),oe.query=$e.query,oe.fragment="",oe.cannotBeABaseURL=!0,qe=Pt;break}qe="file"==$e.scheme?nt:At;continue;case Nt:if("/"!=Je||"/"!=ni[bt+1]){qe=At;continue}qe=Bt,bt++;break;case St:if("/"==Je){qe=Gt;break}qe=Wt;continue;case At:if(oe.scheme=$e.scheme,Je==xe)oe.username=$e.username,oe.password=$e.password,oe.host=$e.host,oe.port=$e.port,oe.path=$e.path.slice(),oe.query=$e.query;else if("/"==Je||"\\"==Je&&de(oe))qe=zt;else if("?"==Je)oe.username=$e.username,oe.password=$e.password,oe.host=$e.host,oe.port=$e.port,oe.path=$e.path.slice(),oe.query="",qe=He;else{if("#"!=Je){oe.username=$e.username,oe.password=$e.password,oe.host=$e.host,oe.port=$e.port,oe.path=$e.path.slice(),oe.path.pop(),qe=Wt;continue}oe.username=$e.username,oe.password=$e.password,oe.host=$e.host,oe.port=$e.port,oe.path=$e.path.slice(),oe.query=$e.query,oe.fragment="",qe=Pt}break;case zt:if(!de(oe)||"/"!=Je&&"\\"!=Je){if("/"!=Je){oe.username=$e.username,oe.password=$e.password,oe.host=$e.host,oe.port=$e.port,qe=Wt;continue}qe=Gt}else qe=Bt;break;case It:if(qe=Bt,"/"!=Je||"/"!=dt.charAt(bt+1))continue;bt++;break;case Bt:if("/"!=Je&&"\\"!=Je){qe=Gt;continue}break;case Gt:if("@"==Je){Ct&&(dt="%40"+dt),Ct=!0,Zt=g(dt);for(var an=0;an<Zt.length;an++){var ji=Zt[an];if(":"!=ji||Yt){var Qn=me(ji,ke);Yt?oe.password+=Qn:oe.username+=Qn}else Yt=!0}dt=""}else if(Je==xe||"/"==Je||"?"==Je||"#"==Je||"\\"==Je&&de(oe)){if(Ct&&""==dt)return"Invalid authority";bt-=g(dt).length+1,dt="",qe=Ve}else dt+=Je;break;case Ve:case je:if(Ye&&"file"==oe.scheme){qe=Ue;continue}if(":"!=Je||Ft){if(Je==xe||"/"==Je||"?"==Je||"#"==Je||"\\"==Je&&de(oe)){if(de(oe)&&""==dt)return _e;if(Ye&&""==dt&&(ye(oe)||null!==oe.port))return;if(li=K(oe,dt))return li;if(dt="",qe=Ht,Ye)return;continue}"["==Je?Ft=!0:"]"==Je&&(Ft=!1),dt+=Je}else{if(""==dt)return _e;if(li=K(oe,dt))return li;if(dt="",qe=et,Ye==je)return}break;case et:if(!Pe.test(Je)){if(Je==xe||"/"==Je||"?"==Je||"#"==Je||"\\"==Je&&de(oe)||Ye){if(""!=dt){var sn=parseInt(dt,10);if(sn>65535)return ge;oe.port=de(oe)&&sn===ce[oe.scheme]?null:sn,dt=""}if(Ye)return;qe=Ht;continue}return ge}dt+=Je;break;case nt:if(oe.scheme="file","/"==Je||"\\"==Je)qe=ct;else{if(!$e||"file"!=$e.scheme){qe=Wt;continue}if(Je==xe)oe.host=$e.host,oe.path=$e.path.slice(),oe.query=$e.query;else if("?"==Je)oe.host=$e.host,oe.path=$e.path.slice(),oe.query="",qe=He;else{if("#"!=Je){Xe(ni.slice(bt).join(""))||(oe.host=$e.host,oe.path=$e.path.slice(),at(oe)),qe=Wt;continue}oe.host=$e.host,oe.path=$e.path.slice(),oe.query=$e.query,oe.fragment="",qe=Pt}}break;case ct:if("/"==Je||"\\"==Je){qe=Ue;break}$e&&"file"==$e.scheme&&!Xe(ni.slice(bt).join(""))&&(Ie($e.path[0],!0)?oe.path.push($e.path[0]):oe.host=$e.host),qe=Wt;continue;case Ue:if(Je==xe||"/"==Je||"\\"==Je||"?"==Je||"#"==Je){if(!Ye&&Ie(dt))qe=Wt;else if(""==dt){if(oe.host="",Ye)return;qe=Ht}else{if(li=K(oe,dt))return li;if("localhost"==oe.host&&(oe.host=""),Ye)return;dt="",qe=Ht}continue}dt+=Je;break;case Ht:if(de(oe)){if(qe=Wt,"/"!=Je&&"\\"!=Je)continue}else if(Ye||"?"!=Je)if(Ye||"#"!=Je){if(Je!=xe&&(qe=Wt,"/"!=Je))continue}else oe.fragment="",qe=Pt;else oe.query="",qe=He;break;case Wt:if(Je==xe||"/"==Je||"\\"==Je&&de(oe)||!Ye&&("?"==Je||"#"==Je)){if(Oe(dt)?(at(oe),"/"!=Je&&!("\\"==Je&&de(oe))&&oe.path.push("")):rt(dt)?"/"!=Je&&!("\\"==Je&&de(oe))&&oe.path.push(""):("file"==oe.scheme&&!oe.path.length&&Ie(dt)&&(oe.host&&(oe.host=""),dt=dt.charAt(0)+":"),oe.path.push(dt)),dt="","file"==oe.scheme&&(Je==xe||"?"==Je||"#"==Je))for(;oe.path.length>1&&""===oe.path[0];)oe.path.shift();"?"==Je?(oe.query="",qe=He):"#"==Je&&(oe.fragment="",qe=Pt)}else dt+=me(Je,De);break;case lt:"?"==Je?(oe.query="",qe=He):"#"==Je?(oe.fragment="",qe=Pt):Je!=xe&&(oe.path[0]+=me(Je,be));break;case He:Ye||"#"!=Je?Je!=xe&&("'"==Je&&de(oe)?oe.query+="%27":oe.query+="#"==Je?"%23":me(Je,be)):(oe.fragment="",qe=Pt);break;case Pt:Je!=xe&&(oe.fragment+=me(Je,Ne))}bt++}},Tt=function(We){var dt,Ct,Ye=b(this,Tt,"URL"),$e=arguments.length>1?arguments[1]:void 0,qe=s(We),bt=D(Ye,{type:"URL"});if(void 0!==$e)if($e instanceof Tt)dt=H($e);else if(Ct=_t(dt={},s($e)))throw TypeError(Ct);if(Ct=_t(bt,qe,null,dt))throw TypeError(Ct);var Ft=bt.searchParams=new S,Yt=I(Ft);Yt.updateSearchParams(bt.query),Yt.updateURL=function(){bt.query=String(Ft)||null},P||(Ye.href=si.call(Ye),Ye.origin=Vt.call(Ye),Ye.protocol=ci.call(Ye),Ye.username=Dt.call(Ye),Ye.password=zn.call(Ye),Ye.host=Zn.call(Ye),Ye.hostname=Xi.call(Ye),Ye.port=yt.call(Ye),Ye.pathname=Xn.call(Ye),Ye.search=yi.call(Ye),Ye.searchParams=Qi.call(Ye),Ye.hash=ki.call(Ye))},di=Tt.prototype,si=function(){var oe=H(this),We=oe.scheme,Ye=oe.username,$e=oe.password,qe=oe.host,bt=oe.port,dt=oe.path,Ct=oe.query,Ft=oe.fragment,Yt=We+":";return null!==qe?(Yt+="//",ye(oe)&&(Yt+=Ye+($e?":"+$e:"")+"@"),Yt+=Te(qe),null!==bt&&(Yt+=":"+bt)):"file"==We&&(Yt+="//"),Yt+=oe.cannotBeABaseURL?dt[0]:dt.length?"/"+dt.join("/"):"",null!==Ct&&(Yt+="?"+Ct),null!==Ft&&(Yt+="#"+Ft),Yt},Vt=function(){var oe=H(this),We=oe.scheme,Ye=oe.port;if("blob"==We)try{return new Tt(We.path[0]).origin}catch{return"null"}return"file"!=We&&de(oe)?We+"://"+Te(oe.host)+(null!==Ye?":"+Ye:""):"null"},ci=function(){return H(this).scheme+":"},Dt=function(){return H(this).username},zn=function(){return H(this).password},Zn=function(){var oe=H(this),We=oe.host,Ye=oe.port;return null===We?"":null===Ye?Te(We):Te(We)+":"+Ye},Xi=function(){var oe=H(this).host;return null===oe?"":Te(oe)},yt=function(){var oe=H(this).port;return null===oe?"":String(oe)},Xn=function(){var oe=H(this),We=oe.path;return oe.cannotBeABaseURL?We[0]:We.length?"/"+We.join("/"):""},yi=function(){var oe=H(this).query;return oe?"?"+oe:""},Qi=function(){return H(this).searchParams},ki=function(){var oe=H(this).fragment;return oe?"#"+oe:""},fi=function(oe,We){return{get:oe,set:We,configurable:!0,enumerable:!0}};if(P&&j(di,{href:fi(si,function(oe){var We=H(this),Ye=s(oe),$e=_t(We,Ye);if($e)throw TypeError($e);I(We.searchParams).updateSearchParams(We.query)}),origin:fi(Vt),protocol:fi(ci,function(oe){var We=H(this);_t(We,s(oe)+":",st)}),username:fi(Dt,function(oe){var We=H(this),Ye=g(s(oe));if(!Me(We)){We.username="";for(var $e=0;$e<Ye.length;$e++)We.username+=me(Ye[$e],ke)}}),password:fi(zn,function(oe){var We=H(this),Ye=g(s(oe));if(!Me(We)){We.password="";for(var $e=0;$e<Ye.length;$e++)We.password+=me(Ye[$e],ke)}}),host:fi(Zn,function(oe){var We=H(this);We.cannotBeABaseURL||_t(We,s(oe),Ve)}),hostname:fi(Xi,function(oe){var We=H(this);We.cannotBeABaseURL||_t(We,s(oe),je)}),port:fi(yt,function(oe){var We=H(this);Me(We)||(""==(oe=s(oe))?We.port=null:_t(We,oe,et))}),pathname:fi(Xn,function(oe){var We=H(this);We.cannotBeABaseURL||(We.path=[],_t(We,s(oe),Ht))}),search:fi(yi,function(oe){var We=H(this);""==(oe=s(oe))?We.query=null:("?"==oe.charAt(0)&&(oe=oe.slice(1)),We.query="",_t(We,oe,He)),I(We.searchParams).updateSearchParams(We.query)}),searchParams:fi(Qi),hash:fi(ki,function(oe){var We=H(this);""!=(oe=s(oe))?("#"==oe.charAt(0)&&(oe=oe.slice(1)),We.fragment="",_t(We,oe,Pt)):We.fragment=null})}),U(di,"toJSON",function(){return si.call(this)},{enumerable:!0}),U(di,"toString",function(){return si.call(this)},{enumerable:!0}),x){var bn=x.createObjectURL,xn=x.revokeObjectURL;bn&&U(Tt,"createObjectURL",function(We){return bn.apply(x,arguments)}),xn&&U(Tt,"revokeObjectURL",function(We){return xn.apply(x,arguments)})}u(Tt,"URL"),y({global:!0,forced:!N,sham:!P},{URL:Tt})},9801:function(){},3822:function(T,R,z){var y=z(2221);T.exports=y},1434:function(T,R,z){var y=z(5078);T.exports=y},6899:function(T,R,z){var y=z(98);T.exports=y},7710:function(T,R,z){var y=z(5739);z(162),T.exports=y},4486:function(T,R,z){var y=z(278);T.exports=y},4877:function(T,R,z){var y=z(1484);T.exports=y},7178:function(T,R,z){var y=z(7731);T.exports=y},5603:function(T,R,z){var y=z(3669);T.exports=y},1206:function(T,R,z){z(162);var y=z(6899),P=z(4696),N=Array.prototype,B={DOMTokenList:!0,NodeList:!0};T.exports=function(j){var U=j.forEach;return j===N||j instanceof Array&&U===N.forEach||B.hasOwnProperty(P(j))?y:U}},6174:function(T,R,z){var y=z(2604);T.exports=y},57:function(T,R,z){var y=z(263);T.exports=y},4741:function(T,R,z){var y=z(7663);T.exports=y},8368:function(T,R,z){var y=z(5063);T.exports=y},3739:function(T,R,z){var y=z(6813);T.exports=y},172:function(T,R,z){var y=z(6285);T.exports=y},4963:function(T,R,z){var y=z(3213);T.exports=y},7820:function(T,R,z){var y=z(3512);T.exports=y},8980:function(T,R,z){var y=z(8168);T.exports=y},5636:function(T,R,z){var y=z(8651);T.exports=y},6672:function(T,R,z){var y=z(3083);T.exports=y},5059:function(T,R,z){var y=z(2987);T.exports=y},3969:function(T,R,z){var y=z(2239);T.exports=y},6618:function(T,R,z){var y=z(3154);z(162),T.exports=y},5279:function(T,R,z){var y=z(6577);T.exports=y},9562:function(T,R,z){z(2906);var y=z(7545);T.exports=y.setTimeout},2285:function(T,R,z){var y=z(5008);z(162),T.exports=y},8535:function(T,R,z){var y=z(994);z(162),T.exports=y},652:function(T,R,z){var y=z(5668);T.exports=y},5668:function(T,R,z){z(4948),z(9801),z(9336);var y=z(7545);T.exports=y.URL},2534:function(T){"use strict";T.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyBkaXNwbGF5PSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGRlZnMgaWQ9InR1aS1pbWFnZS1lZGl0b3Itc3ZnLWRlZmF1bHQtaWNvbnMiPgo8c3ltYm9sIGlkPSJpYy1hcHBseSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNNCAxMi4wMTFsNSA1TDIwLjAxMSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1jYW5jZWwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTYgNmwxMiAxMk0xOCA2TDYgMTgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIC8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik00IDBoMXYyMGExIDEgMCAwIDEtMS0xVjB6TTIwIDE3aC0xVjVoMXYxMnptMCAydjVoLTF2LTVoMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMTloMTl2MUg1ek00Ljc2MiA0djFIMFY0aDQuNzYyek03IDRoMTJhMSAxIDAgMCAxIDEgMUg3VjR6Ii8+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1yZXNpemUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIi8+CiAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNIDE4Ljk4ODI4MSAzLjAxMTcxOSBDIDE4LjgwMDc4MSAyLjgyNDIxOSAxOC41IDIuODI0MjE5IDE4LjMxMjUgMy4wMTE3MTkgTCAxMS42MjEwOTQgOS43MDcwMzEgQyAxMS40Mjk2ODggOS44OTQ1MzEgMTEuNDI5Njg4IDEwLjE5NTMxMiAxMS42MjEwOTQgMTAuMzc4OTA2IEMgMTEuNzEwOTM4IDEwLjQ3MjY1NiAxMS44MzU5MzggMTAuNTE5NTMxIDExLjk1NzAzMSAxMC41MTk1MzEgQyAxMi4wNzgxMjUgMTAuNTE5NTMxIDEyLjIwMzEyNSAxMC40NzI2NTYgMTIuMjkyOTY5IDEwLjM3ODkwNiBMIDE4Ljk4ODI4MSAzLjY4NzUgQyAxOS4xNzU3ODEgMy41IDE5LjE3NTc4MSAzLjE5OTIxOSAxOC45ODgyODEgMy4wMTE3MTkgWiBNIDE4Ljk4ODI4MSAzLjAxMTcxOSAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEMgMTguMzg2NzE5IDIuODY3MTg4IDE4LjE3MTg3NSAzLjA4MjAzMSAxOC4xNzE4NzUgMy4zNDc2NTYgTCAxOC4xNzE4NzUgOS4wODU5MzggQyAxOC4xNzE4NzUgOS4zNDc2NTYgMTguMzg2NzE5IDkuNTYyNSAxOC42NTIzNDQgOS41NjI1IEMgMTguOTE3OTY5IDkuNTYyNSAxOS4xMzI4MTIgOS4zNDc2NTYgMTkuMTMyODEyIDkuMDg1OTM4IEwgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEwgMTIuOTE0MDYyIDIuODY3MTg4IEMgMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjQzNzUgMy4wODIwMzEgMTIuNDM3NSAzLjM0NzY1NiBDIDEyLjQzNzUgMy42MTMyODEgMTIuNjUyMzQ0IDMuODI4MTI1IDEyLjkxNDA2MiAzLjgyODEyNSBMIDE4LjY1MjM0NCAzLjgyODEyNSBDIDE4LjkxNzk2OSAzLjgyODEyNSAxOS4xMzI4MTIgMy42MTMyODEgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTAuMzc4OTA2IDExLjYyMTA5NCBDIDEwLjE5NTMxMiAxMS40MzM1OTQgOS44OTA2MjUgMTEuNDMzNTk0IDkuNzAzMTI1IDExLjYyMTA5NCBMIDMuMDA3ODEyIDE4LjMxNjQwNiBDIDIuODIwMzEyIDE4LjUgMi44MjAzMTIgMTguODA0Njg4IDMuMDA3ODEyIDE4Ljk5MjE4OCBDIDMuMTA1NDY5IDE5LjA4NTkzOCAzLjIyNjU2MiAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy40Njg3NSAxOS4xMzI4MTIgMy41ODk4NDQgMTkuMDg1OTM4IDMuNjgzNTk0IDE4Ljk5MjE4OCBMIDEwLjM3ODkwNiAxMi4yOTY4NzUgQyAxMC41NjY0MDYgMTIuMTA5Mzc1IDEwLjU2NjQwNiAxMS44MDQ2ODggMTAuMzc4OTA2IDExLjYyMTA5NCBaIE0gMTAuMzc4OTA2IDExLjYyMTA5NCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMy4zNDc2NTYgMTIuNDM3NSBDIDMuMDgyMDMxIDEyLjQzNzUgMi44NjcxODggMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjkxNDA2MiBMIDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy42MTMyODEgMTkuMTMyODEyIDMuODI4MTI1IDE4LjkxNzk2OSAzLjgyODEyNSAxOC42NTIzNDQgTCAzLjgyODEyNSAxMi45MTQwNjIgQyAzLjgyODEyNSAxMi42NTIzNDQgMy42MTMyODEgMTIuNDM3NSAzLjM0NzY1NiAxMi40Mzc1IFogTSAzLjM0NzY1NiAxMi40Mzc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSA5LjA4NTkzOCAxOC4xNzE4NzUgTCAzLjM0NzY1NiAxOC4xNzE4NzUgQyAzLjA4MjAzMSAxOC4xNzE4NzUgMi44NjcxODggMTguMzg2NzE5IDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEwgOS4wODU5MzggMTkuMTMyODEyIEMgOS4zNDc2NTYgMTkuMTMyODEyIDkuNTYyNSAxOC45MTc5NjkgOS41NjI1IDE4LjY1MjM0NCBDIDkuNTYyNSAxOC4zODY3MTkgOS4zNDc2NTYgMTguMTcxODc1IDkuMDg1OTM4IDE4LjE3MTg3NSBaIE0gOS4wODU5MzggMTguMTcxODc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSAyMC41NjI1IDAgTCAxLjQzNzUgMCBDIDAuNjQ0NTMxIDAgMCAwLjY0NDUzMSAwIDEuNDM3NSBMIDAgMjAuNTYyNSBDIDAgMjEuMzU1NDY5IDAuNjQ0NTMxIDIyIDEuNDM3NSAyMiBMIDIwLjU2MjUgMjIgQyAyMS4zNTU0NjkgMjIgMjIgMjEuMzU1NDY5IDIyIDIwLjU2MjUgTCAyMiAxLjQzNzUgQyAyMiAwLjY0NDUzMSAyMS4zNTU0NjkgMCAyMC41NjI1IDAgWiBNIDIxLjA0Mjk2OSAyMC41NjI1IEMgMjEuMDQyOTY5IDIwLjgyODEyNSAyMC44MjgxMjUgMjEuMDQyOTY5IDIwLjU2MjUgMjEuMDQyOTY5IEwgMS40Mzc1IDIxLjA0Mjk2OSBDIDEuMTcxODc1IDIxLjA0Mjk2OSAwLjk1NzAzMSAyMC44MjgxMjUgMC45NTcwMzEgMjAuNTYyNSBMIDAuOTU3MDMxIDEuNDM3NSBDIDAuOTU3MDMxIDEuMTcxODc1IDEuMTcxODc1IDAuOTU3MDMxIDEuNDM3NSAwLjk1NzAzMSBMIDIwLjU2MjUgMC45NTcwMzEgQyAyMC44MjgxMjUgMC45NTcwMzEgMjEuMDQyOTY5IDEuMTcxODc1IDIxLjA0Mjk2OSAxLjQzNzUgWiBNIDIxLjA0Mjk2OSAyMC41NjI1ICIvPgo8L3N5bWJvbD4KPCEtLSAgLS0+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZS1hbGwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik01IDIzSDNhMSAxIDAgMCAxLTEtMVY2aDF2MTZoMnYxem0xNi0xMGgtMVY2aDF2N3pNOSAxM0g4di0zaDF2M3ptMyAwaC0xdi0zaDF2M3ptMyAwaC0xdi0zaDF2M3pNMTQuNzk0IDMuNzk0TDEzIDJoLTNMOC4yMDYgMy43OTRBLjk2My45NjMgMCAwIDEgOCAyLjVsLjcwMy0xLjA1NUExIDEgMCAwIDEgOS41MzUgMWgzLjkzYTEgMSAwIDAgMSAuODMyLjQ0NUwxNSAyLjVhLjk2NS45NjUgMCAwIDEtLjIwNiAxLjI5NHpNMTQuMTk3IDRIOC44MDNoNS4zOTR6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDNoMjN2MUgwek0xMS4yODYgMjFIOC43MTRMOCAyM0g3bDEtMi44VjIwaC4wNzFMOS41IDE2aDFsMS40MjkgNEgxMnYuMmwxIDIuOGgtMWwtLjcxNC0yem0tLjM1Ny0xTDEwIDE3LjQgOS4wNzEgMjBoMS44NTh6TTIwIDIyaDN2MWgtNHYtN2gxdjZ6bS01IDBoM3YxaC00di03aDF2NnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTMgNnYxNmgxN1Y2aDF2MTZhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNmgxek0xNC43OTQgMy43OTRMMTMgMmgtM0w4LjIwNiAzLjc5NEEuOTYzLjk2MyAwIDAgMSA4IDIuNWwuNzAzLTEuMDU1QTEgMSAwIDAgMSA5LjUzNSAxaDMuOTNhMSAxIDAgMCAxIC44MzIuNDQ1TDE1IDIuNWEuOTY1Ljk2NSAwIDAgMS0uMjA2IDEuMjk0ek0xNC4xOTcgNEg4LjgwM2g1LjM5NHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTAgM2gyM3YxSDB6TTggMTBoMXY2SDh2LTZ6bTMgMGgxdjZoLTF2LTZ6bTMgMGgxdjZoLTF2LTZ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1kcmF3LWZyZWUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMjAuOTI5QzIuNTk0IDEwLjk3NiA0LjMyMyA2IDcuNjg2IDZjNS44NzIgMCAyLjUyNCAxOSA3LjY5NyAxOXMxLjg5LTE0LjkyOSA2LjQxNC0xNC45MjkgMS4zNTcgMTAuODU4IDUuMTMgMTAuODU4YzEuODAyIDAgMi42NTctMi4yNjIgMi41NjYtNi43ODYiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRyYXctbGluZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIgMTUuNWgyOCIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZHJhdyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIuNSAyMS41SDVjLjI0NSAwIC40OC0uMDU4LjY5MS0uMTY4bC4xMjQtLjA2NS4xNC4wMWMuNDI5LjAyOC44NS0uMTI3IDEuMTYtLjQzN0wyMi41NSA1LjQwNWEuNS41IDAgMCAwIDAtLjcwN2wtMy4yNDYtMy4yNDVhLjUuNSAwIDAgMC0uNzA3IDBMMy4xNjIgMTYuODg4YTEuNDk1IDEuNDk1IDAgMCAwLS40MzcgMS4xNTVsLjAxLjE0LS4wNjUuMTIzYy0uMTExLjIxMi0uMTcuNDQ4LS4xNy42OTR2Mi41eiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTYuNDE0IDMuNzA3bDMuODkgMy44OS0uNzA4LjcwNi0zLjg4OS0zLjg4OXoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWZpbHRlciIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTEyIDd2MUgyVjdoMTB6bTYgMGg0djFoLTRWN3pNMTIgMTZ2MWgxMHYtMUgxMnptLTYgMEgydjFoNHYtMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTguNSAyMGEzLjUgMy41IDAgMSAxIDAtNyAzLjUgMy41IDAgMCAxIDAgN3ptMC0xYTIuNSAyLjUgMCAxIDAgMC01IDIuNSAyLjUgMCAwIDAgMCA1ek0xNS41IDExYTMuNSAzLjUgMCAxIDEgMC03IDMuNSAzLjUgMCAwIDEgMCA3em0wLTFhMi41IDIuNSAwIDEgMCAwLTUgMi41IDIuNSAwIDAgMCAwIDV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXJlc2V0IiB2aWV3Qm94PSIwIDAgMzEgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMzEgMEgwdjMyaDMxeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjggMTZhOCA4IDAgMCAxLTggOEgzdi0xaDF2LTdIM2E4IDggMCAwIDEgOC04aDE3djFoLTF2N2gxek0xMSA5YTcgNyAwIDAgMC03IDd2N2gxNmE3IDcgMCAwIDAgNy03VjlIMTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0yNCA1bDMuNSAzLjVMMjQgMTJNNyAyMGwtMy41IDMuNUw3IDI3Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXgiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGQ9Ik0zMiAzMkgwVjBoMzJ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNyAzMmgtMVYwaDF6TTI3LjE2NyAxMWwuNSAzaC0xLjAzbC0uNTQ2LTNoMS4wNzZ6bS0uNS0zaC0xLjEyMkwyNSA1aC01VjRoNS4xNTNhMSAxIDAgMCAxIC45ODYuODM2TDI2LjY2NyA4em0xLjUgOWwuNSAzaC0uOTRsLS41NDUtM2guOTg1em0xIDZsLjYzOSAzLjgzNkExIDEgMCAwIDEgMjguODE5IDI4SDI2di0xaDNsLS43MjYtNGguODk0ek0yMyAyOGgtM3YtMWgzdjF6TTEzIDR2MUg3TDMgMjdoMTB2MUgzLjE4YTEgMSAwIDAgMS0uOTg2LTEuMTY0bDMuNjY2LTIyQTEgMSAwIDAgMSA2Ljg0NyA0SDEzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZmxpcC15IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwdjMyaDMyVjB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDE2djFoMzJ2LTF6TTExIDI3LjE2N2wzIC41di0xLjAzbC0zLS41NDZ2MS4wNzZ6bS0zLS41di0xLjEyMkw1IDI1di01SDR2NS4xNTNhMSAxIDAgMCAwIC44MzYuOTg2TDggMjYuNjY3em05IDEuNWwzIC41di0uOTRsLTMtLjU0NXYuOTg1em02IDFsMy44MzYuNjM5QTEgMSAwIDAgMCAyOCAyOC44MlYyNmgtMXYzbC00LS43Mjd2Ljg5NHpNMjggMjN2LTNoLTF2M2gxek00IDEzaDFWN2wyMi00djEwaDFWMy4xOGExIDEgMCAwIDAtMS4xNjQtLjk4NmwtMjIgMy42NjdBMSAxIDAgMCAwIDQgNi44NDdWMTN6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgc3Ryb2tlPSJub25lIiBkPSJNMTEgMGgxdjI0aC0xek0xOSAyMXYtMWgydi0yaDF2MmExIDEgMCAwIDEtMSAxaC0yem0tMiAwaC0zdi0xaDN2MXptNS01aC0xdi0zaDF2M3ptMC01aC0xVjhoMXYzem0wLTVoLTFWNGgtMlYzaDJhMSAxIDAgMCAxIDEgMXYyem0tNS0zdjFoLTNWM2gzek05IDN2MUgydjE2aDd2MUgyYTEgMSAwIDAgMS0xLTFWNGExIDEgMCAwIDEgMS0xaDd6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwSDI0VjI0SDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzQwIC0xNikgdHJhbnNsYXRlKDU0NyA4KSB0cmFuc2xhdGUoMTkzIDgpIi8+CiAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBzdHJva2U9Im5vbmUiIGQ9Ik0xMi41IDFDMTguMjk5IDEgMjMgNS43MDEgMjMgMTEuNVMxOC4yOTkgMjIgMTIuNSAyMmMtNS4yOSAwLTkuNjY1LTMuOTExLTEwLjM5NC04Ljk5OWgxLjAxMkMzLjgzOCAxNy41MzQgNy43NjQgMjEgMTIuNSAyMWM1LjI0NyAwIDkuNS00LjI1MyA5LjUtOS41UzE3Ljc0NyAyIDEyLjUgMkM4LjQ5IDIgNS4wNiA0LjQ4NSAzLjY2NiA4SDNoNHYxSDJWNGgxdjMuMDIyQzQuNjggMy40NjIgOC4zMDMgMSAxMi41IDF6bS41IDVsLS4wMDEgNS4yOTEgMi41MzcgMi41MzctLjcwOC43MDhMMTIuMjkyIDEySDEyVjZoMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03NDAgLTE2KSB0cmFuc2xhdGUoNTQ3IDgpIHRyYW5zbGF0ZSgxOTMgOCkiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktY2hlY2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBzdHJva2U9IiM1NTU1NTUiIGQ9Ik00LjUgLTFMMS41IDIgNi41IDciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MCAtODA0KSB0cmFuc2xhdGUoNjAgODA0KSB0cmFuc2xhdGUoMiAzKSByb3RhdGUoLTkwIDQgMykiIC8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDBoMXYxMGMtLjU1MiAwLTEtLjQ0OC0xLTFWMHpNMTAgOXYzSDlWOWgxek05IDJoMXY2SDlWMnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDlIMTJWMTBIMnpNOSAyYy41MTMgMCAuOTM2LjM4Ni45OTMuODgzTDEwIDNIM1YyaDZ6TTIgM0gwVjJoMnYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg0IC04MDQpIHRyYW5zbGF0ZSg4NCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJlc2l6ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjQ5MjE4OCAxLjUwNzgxMiBDIDkuMzk4NDM4IDEuNDE0MDYyIDkuMjUgMS40MTQwNjIgOS4xNTYyNSAxLjUwNzgxMiBMIDUuODEyNSA0Ljg1MTU2MiBDIDUuNzE0ODQ0IDQuOTQ1MzEyIDUuNzE0ODQ0IDUuMDk3NjU2IDUuODEyNSA1LjE4NzUgQyA1Ljg1NTQ2OSA1LjIzNDM3NSA1LjkxNzk2OSA1LjI1NzgxMiA1Ljk3NjU2MiA1LjI1NzgxMiBDIDYuMDM5MDYyIDUuMjU3ODEyIDYuMTAxNTYyIDUuMjM0Mzc1IDYuMTQ4NDM4IDUuMTg3NSBMIDkuNDkyMTg4IDEuODQzNzUgQyA5LjU4NTkzOCAxLjc1IDkuNTg1OTM4IDEuNjAxNTYyIDkuNDkyMTg4IDEuNTA3ODEyIFogTSA5LjQ5MjE4OCAxLjUwNzgxMiAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gOS4zMjgxMjUgMS40MzM1OTQgQyA5LjE5NTMxMiAxLjQzMzU5NCA5LjA4NTkzOCAxLjUzOTA2MiA5LjA4NTkzOCAxLjY3MTg3NSBMIDkuMDg1OTM4IDQuNTQyOTY5IEMgOS4wODU5MzggNC42NzE4NzUgOS4xOTUzMTIgNC43ODEyNSA5LjMyODEyNSA0Ljc4MTI1IEMgOS40NjA5MzggNC43ODEyNSA5LjU2NjQwNiA0LjY3MTg3NSA5LjU2NjQwNiA0LjU0Mjk2OSBMIDkuNTY2NDA2IDEuNjcxODc1IEMgOS41NjY0MDYgMS41MzkwNjIgOS40NjA5MzggMS40MzM1OTQgOS4zMjgxMjUgMS40MzM1OTQgWiBNIDkuMzI4MTI1IDEuNDMzNTk0ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjMyODEyNSAxLjQzMzU5NCBMIDYuNDU3MDMxIDEuNDMzNTk0IEMgNi4zMjgxMjUgMS40MzM1OTQgNi4yMTg3NSAxLjUzOTA2MiA2LjIxODc1IDEuNjcxODc1IEMgNi4yMTg3NSAxLjgwNDY4OCA2LjMyODEyNSAxLjkxNDA2MiA2LjQ1NzAzMSAxLjkxNDA2MiBMIDkuMzI4MTI1IDEuOTE0MDYyIEMgOS40NjA5MzggMS45MTQwNjIgOS41NjY0MDYgMS44MDQ2ODggOS41NjY0MDYgMS42NzE4NzUgQyA5LjU2NjQwNiAxLjUzOTA2MiA5LjQ2MDkzOCAxLjQzMzU5NCA5LjMyODEyNSAxLjQzMzU5NCBaIE0gOS4zMjgxMjUgMS40MzM1OTQgIi8+CiAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNIDUuMTg3NSA1LjgxMjUgQyA1LjA5NzY1NiA1LjcxODc1IDQuOTQ1MzEyIDUuNzE4NzUgNC44NTE1NjIgNS44MTI1IEwgMS41MDM5MDYgOS4xNTYyNSBDIDEuNDEwMTU2IDkuMjUgMS40MTAxNTYgOS40MDIzNDQgMS41MDM5MDYgOS40OTYwOTQgQyAxLjU1NDY4OCA5LjU0Mjk2OSAxLjYxMzI4MSA5LjU2NjQwNiAxLjY3MTg3NSA5LjU2NjQwNiBDIDEuNzM0Mzc1IDkuNTY2NDA2IDEuNzk2ODc1IDkuNTQyOTY5IDEuODQzNzUgOS40OTYwOTQgTCA1LjE4NzUgNi4xNDg0MzggQyA1LjI4MTI1IDYuMDU0Njg4IDUuMjgxMjUgNS45MDIzNDQgNS4xODc1IDUuODEyNSBaIE0gNS4xODc1IDUuODEyNSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gMS42NzE4NzUgNi4yMTg3NSBDIDEuNTM5MDYyIDYuMjE4NzUgMS40MzM1OTQgNi4zMjgxMjUgMS40MzM1OTQgNi40NTcwMzEgTCAxLjQzMzU5NCA5LjMyODEyNSBDIDEuNDMzNTk0IDkuNDYwOTM4IDEuNTM5MDYyIDkuNTY2NDA2IDEuNjcxODc1IDkuNTY2NDA2IEMgMS44MDQ2ODggOS41NjY0MDYgMS45MTQwNjIgOS40NjA5MzggMS45MTQwNjIgOS4zMjgxMjUgTCAxLjkxNDA2MiA2LjQ1NzAzMSBDIDEuOTE0MDYyIDYuMzI4MTI1IDEuODA0Njg4IDYuMjE4NzUgMS42NzE4NzUgNi4yMTg3NSBaIE0gMS42NzE4NzUgNi4yMTg3NSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gNC41NDI5NjkgOS4wODU5MzggTCAxLjY3MTg3NSA5LjA4NTkzOCBDIDEuNTM5MDYyIDkuMDg1OTM4IDEuNDMzNTk0IDkuMTk1MzEyIDEuNDMzNTk0IDkuMzI4MTI1IEMgMS40MzM1OTQgOS40NjA5MzggMS41MzkwNjIgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgTCA0LjU0Mjk2OSA5LjU2NjQwNiBDIDQuNjcxODc1IDkuNTY2NDA2IDQuNzgxMjUgOS40NjA5MzggNC43ODEyNSA5LjMyODEyNSBDIDQuNzgxMjUgOS4xOTUzMTIgNC42NzE4NzUgOS4wODU5MzggNC41NDI5NjkgOS4wODU5MzggWiBNIDQuNTQyOTY5IDkuMDg1OTM4ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSAxMC4yODEyNSAwIEwgMC43MTg3NSAwIEMgMC4zMjAzMTIgMCAwIDAuMzIwMzEyIDAgMC43MTg3NSBMIDAgMTAuMjgxMjUgQyAwIDEwLjY3OTY4OCAwLjMyMDMxMiAxMSAwLjcxODc1IDExIEwgMTAuMjgxMjUgMTEgQyAxMC42Nzk2ODggMTEgMTEgMTAuNjc5Njg4IDExIDEwLjI4MTI1IEwgMTEgMC43MTg3NSBDIDExIDAuMzIwMzEyIDEwLjY3OTY4OCAwIDEwLjI4MTI1IDAgWiBNIDEwLjUyMzQzOCAxMC4yODEyNSBDIDEwLjUyMzQzOCAxMC40MTQwNjIgMTAuNDE0MDYyIDEwLjUyMzQzOCAxMC4yODEyNSAxMC41MjM0MzggTCAwLjcxODc1IDEwLjUyMzQzOCBDIDAuNTg1OTM4IDEwLjUyMzQzOCAwLjQ3NjU2MiAxMC40MTQwNjIgMC40NzY1NjIgMTAuMjgxMjUgTCAwLjQ3NjU2MiAwLjcxODc1IEMgMC40NzY1NjIgMC41ODU5MzggMC41ODU5MzggMC40NzY1NjIgMC43MTg3NSAwLjQ3NjU2MiBMIDEwLjI4MTI1IDAuNDc2NTYyIEMgMTAuNDE0MDYyIDAuNDc2NTYyIDEwLjUyMzQzOCAwLjU4NTkzOCAxMC41MjM0MzggMC43MTg3NSBaIE0gMTAuNTIzNDM4IDEwLjI4MTI1ICIvPgogIDwvZz4KPC9zeW1ib2w+CjwhLS0gIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWRyYXciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDFIMTJWMTNIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBkPSJNOS42MjIgMS41ODRsMS44MzUgMS42NTgtOC4zMSA4LjQwN0wuNSAxMi41VjExbDkuMTIyLTkuNDE2eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1NiAtODA0KSB0cmFuc2xhdGUoMTU2IDgwMykiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNNy42MjggMy43NTNMMTAuMzc4IDMuNzUzIDEwLjM3OCA0LjI1MyA3LjYyOCA0LjI1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIHJvdGF0ZSg0NSA5LjAwMyA0LjAwMykiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZmlsdGVyIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xMiAzdjFIOVYzaDN6TTcgNEgwVjNoN3YxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI3NiAtODA0KSB0cmFuc2xhdGUoMjc2IDgwNCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMTIgOHYxSDlWOGgzek03IDlIMFY4aDd2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzYgLTgwNCkgdHJhbnNsYXRlKDI3NiA4MDQpIG1hdHJpeCgtMSAwIDAgMSAxMiAwKSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik04IDFjMS4xMDUgMCAyIC44OTUgMiAycy0uODk1IDItMiAyLTItLjg5NS0yLTIgLjg5NS0yIDItMnptMCAxYy0uNTUyIDAtMSAuNDQ4LTEgMXMuNDQ4IDEgMSAxIDEtLjQ0OCAxLTEtLjQ0OC0xLTEtMXpNNCA3YzEuMTA1IDAgMiAuODk1IDIgMnMtLjg5NSAyLTIgMi0yLS44OTUtMi0yIC44OTUtMiAyLTJ6bTAgMWMtLjU1MiAwLTEgLjQ0OC0xIDFzLjQ0OCAxIDEgMSAxLS40NDggMS0xLS40NDgtMS0xLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA4IC04MDQpIHRyYW5zbGF0ZSgxMDggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik02IDBMNyAwIDcgMTIgNiAxMnpNMTEgMTBWOWgxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIMTB2LTFoMXpNNSAxdjFIMXY4aDR2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjV2LTljMC0uMjc2LjIyNC0uNS41LS41SDV6bTcgNXYyaC0xVjZoMXptMC0zdjJoLTFWM2gxek05IDF2MUg3VjFoMnptMi41IDBjLjI3NiAwIC41LjIyNC41LjVWMmgtMlYxaDEuNXpNOSAxMUg3di0xaDJ2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDggLTgwNCkgdHJhbnNsYXRlKDEwOCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWljb24iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS4xIiBkPSJNNiA5LjU2OEwyLjYwMSAxMSAyLjk3NSA3LjQ2NyAwLjUgNC44MiA0LjEzIDQuMDY4IDYgMSA3Ljg3IDQuMDY4IDExLjUgNC44MiA5LjAyNSA3LjQ2NyA5LjM5OSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LW1hc2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNTIgLTgwNCkgdHJhbnNsYXRlKDI1MiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI2IiBjeT0iNiIgcj0iMi41IiBzdHJva2U9IiM0NDQiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgMGMuMjc2IDAgLjUuMjI0LjUuNXYxMWMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41Vi41QzAgLjIyNC4yMjQgMCAuNSAwaDExek0xMSAxSDF2MTBoMTBWMXoiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGlkPSJyZm40cnlsZmZhIiBkPSJNNyAxMmMtLjMzNSAwLS42NjMtLjAyNS0uOTgzLS4wNzRDMy4xNzEgMTEuNDkyIDEgOS4yMDUgMSA2LjQ0NGMwLTEuMzYzLjUzNC0yLjYxMyAxLjQxNS0zLjU4Ii8+CiAgICAgICAgPG1hc2sgaWQ9IjZmOWduMmR5c2IiIHdpZHRoPSI2IiBoZWlnaHQ9IjkuMTM2IiB4PSIwIiB5PSIwIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij4KICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcmZuNHJ5bGZmYSIgc3Ryb2tlPSI0MzQzNDMiLz4KICAgICAgICA8L21hc2s+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzIgLTgwNCkgdHJhbnNsYXRlKDEzMiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMC41SDEyVjEyLjVIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTYuNSAxQzkuNTM4IDEgMTIgMy40NjIgMTIgNi41YzAgMi4zNy0xLjUgNC4zOS0zLjYgNS4xNjNsLS40MDctLjkxNkM5Ljc0NCAxMC4xMyAxMSA4LjQ2MiAxMSA2LjUgMTEgNC4wMTUgOC45ODUgMiA2LjUgMmMtLjc3NyAwLTEuNTA5LjE5Ny0yLjE0Ny41NDRMNCAxLjc1bC0uMjA1LS4wNEM0LjU5NCAxLjI1OCA1LjUxNyAxIDYuNSAxeiIvPgogICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzQzNDM0MyIgc3Ryb2tlLWRhc2hhcnJheT0iMiAxLjI1IiBzdHJva2Utd2lkdGg9IjEiIG1hc2s9InVybCgjNmY5Z24yZHlzYikiIHhsaW5rOmhyZWY9IiNyZm40cnlsZmZhIi8+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik00LjI3OSAwTDYgMS43NSA0LjI1IDMuNTcxIDMuNTQzIDIuODY0IDQuNTg2IDEuNzUgMy41NzIgMC43MDd6IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSA5LjU0MyAwKSIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3Rvcnktc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY3YzAgLjI3Ni0uMjI0LjUtLjUuNWgtN2MtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC44aDFWMTFoNlY1SDguMzQxbC0uNTY4LTFIMTEuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik00LjUgMC41TDguNSA3LjYxMSAwLjUgNy42MTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTgwIC04MDQpIHRyYW5zbGF0ZSgxODAgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDFoOGMuNTUyIDAgMSAuNDQ4IDEgMUgxYzAtLjU1Mi40NDgtMSAxLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xIDFIMlYzSDF6TTEwIDFIMTFWM0gxMHpNNS41IDFMNi41IDEgNi41IDExIDUuNSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjggLTgwNCkgdHJhbnNsYXRlKDIyOCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTQgMTBIOFYxMUg0eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktbG9hZCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzI0IC04MDUpIHRyYW5zbGF0ZSgzMjQgODA1KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik01IDBjLjU1MiAwIDEgLjQ0OCAxIDF2MWg1LjVjLjI3NiAwIC41LjIyNC41LjV2OGMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41VjFjMC0uNTUyLjQ0OC0xIDEtMWg0em0wIDFIMXY5aDEwVjNINVYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMSAyTDUgMiA1IDMgMSAzeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZGVsZXRlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGZpbGw9IiM0MzQzNDMiPgogICAgICAgICAgICA8cGF0aCBkPSJNMiA5aDhWMWgxdjguNWMwIC4yNzYtLjIyNC41LS41LjVoLTljLS4yNzYgMC0uNS0uMjI0LS41LS41VjFoMXY4ek0wIDBIMTJWMUgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgM0g1VjdINHpNNyAzSDhWN0g3eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgMWg0VjBoMXYxLjVjMCAuMjc2LS4yMjQuNS0uNS41aC01Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYwaDF2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDAgLTgwNCkgdHJhbnNsYXRlKDMwMCA4MDQpIG1hdHJpeCgxIDAgMCAtMSAwIDIpIi8+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1ncm91cCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzQ4IC04MDQpIHRyYW5zbGF0ZSgzNDggODA0KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEgOXYyaDF2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOWgxem0xMSAxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIOXYtMWgydi0xaDF6bS00IDF2MUg2di0xaDJ6bS0zIDB2MUgzdi0xaDJ6bTctNHYyaC0xVjdoMXpNMSA2djJIMFY2aDF6bTExLTJ2MmgtMVY0aDF6TTEgM3YySDBWM2gxem0xMC41LTNjLjI3NiAwIC41LjIyNC41LjVWM2gtMVYxaC0xVjBoMS41ek02IDB2MUg0VjBoMnptMyAwdjFIN1YwaDJ6TTAgLjVDMCAuMjI0LjIyNCAwIC41IDBIM3YxSDF2MUgwVi41ek05LjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY1YzAgLjI3Ni0uMjI0LjUtLjUuNWgtNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC4zNTVjLjMxNy4wOTQuNjUyLjE0NSAxIC4xNDVWOWg0VjVoLS41YzAtLjM0OC0uMDUtLjY4My0uMTQ1LTFIOS41eiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI1IiBjeT0iNSIgcj0iMi41IiBzdHJva2U9IiM0MzQzNDMiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWFycm93LTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIxLjc5MyAxOC41SDIuNXYtNWgxOC45MzVsLTcuNi04aDUuODcybDEwLjUgMTAuNS0xMC41IDEwLjVoLTUuOTE0bDgtOHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ctMyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMjUuMjg4IDE2LjQyTDE0LjIwOCAyNy41SDYuNzkybDExLjI5MS0xMS4yOTFMNi44MjYgNC41aDcuMzgxbDExLjY2MSAxMS42NjEtLjU4LjI1OHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMTEuNXY5aDE4djUuMjkzTDMwLjI5MyAxNiAyMC41IDYuMjA3VjExLjVoLTE4eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1idWJibGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIyLjIwNyAyNC41TDE2LjUgMzAuMjA3VjI0LjVIOEE2LjUgNi41IDAgMCAxIDEuNSAxOFY5QTYuNSA2LjUgMCAwIDEgOCAyLjVoMTZBNi41IDYuNSAwIDAgMSAzMC41IDl2OWE2LjUgNi41IDAgMCAxLTYuNSA2LjVoLTEuNzkzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1oZWFydCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTUuOTk2IDMwLjY3NWwxLjk4MS0xLjc5YzcuODk4LTcuMTc3IDEwLjM2NS05LjcxOCAxMi4xMzUtMTMuMDEyLjkyMi0xLjcxNiAxLjM3Ny0zLjM3IDEuMzc3LTUuMDc2IDAtNC42NS0zLjY0Ny04LjI5Ny04LjI5Ny04LjI5Ny0yLjMzIDAtNC44NiAxLjUyNy02LjgxNyAzLjgyNGwtLjM4LjQ0Ny0uMzgxLS40NDdDMTMuNjU4IDQuMDI3IDExLjEyNiAyLjUgOC43OTcgMi41IDQuMTQ3IDIuNS41IDYuMTQ3LjUgMTAuNzk3YzAgMS43MTQuNDYgMy4zNzUgMS4zODkgNS4wOTggMS43NzUgMy4yODggNC4yNiA1Ljg0MyAxMi4xMjMgMTIuOTc0bDEuOTg0IDEuODA2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1sb2FkIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0xNy4zMTQgMTguODY3bDEuOTUxLTIuNTMgNCA1LjE4NGgtMTdsNi41LTguODQgNC41NDkgNi4xODZ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC4wMSA0YTExLjc5OCAxMS43OTggMCAwIDAgMCAxSDN2MjRoMjRWMTQuOTg2YTguNzM4IDguNzM4IDAgMCAwIDEgMFYyOWExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVY1YTEgMSAwIDAgMSAxLTFoMTUuMDF6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yNSAzaDF2OWgtMXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIyIDZsMy41LTMuNUwyOSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWxvY2F0aW9uIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTYgMzEuMjhDMjMuNjc1IDIzLjMwMiAyNy41IDE3LjE4MSAyNy41IDEzYzAtNi4zNTEtNS4xNDktMTEuNS0xMS41LTExLjVTNC41IDYuNjQ5IDQuNSAxM2MwIDQuMTgxIDMuODI1IDEwLjMwMiAxMS41IDE4LjI4eiIvPgogICAgPGNpcmNsZSBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGN4PSIxNiIgY3k9IjEzIiByPSI0LjUiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tcG9seWdvbiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTS41NzYgMTZMOC4yOSAyOS41aDE1LjQyTDMxLjQyNCAxNiAyMy43MSAyLjVIOC4yOUwuNTc2IDE2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyLTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xOS40NDYgMzEuNTkybDIuMjY1LTMuMjcyIDMuOTQ2LjI1LjYzNi0zLjk0IDMuNjY1LTEuNTA1LTEuMTItMy44MzIgMi42NTUtMi45NjItMi42NTYtMi45NjIgMS4xMi0zLjgzMi0zLjY2NC0xLjUwNS0uNjM2LTMuOTQxLTMuOTQ2LjI1LTIuMjY1LTMuMjcxTDE2IDMuMDI0IDEyLjU1NCAxLjA3IDEwLjI4OSA0LjM0bC0zLjk0Ni0uMjUtLjYzNiAzLjk0MS0zLjY2NSAxLjUwNSAxLjEyIDMuODMyTC41MDggMTYuMzNsMi42NTYgMi45NjItMS4xMiAzLjgzMiAzLjY2NCAxLjUwNC42MzYgMy45NDIgMy45NDYtLjI1IDIuMjY1IDMuMjdMMTYgMjkuNjM4bDMuNDQ2IDEuOTU1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMjUuMjkyIDI5Ljg3OGwtMS43NzUtMTAuMzQ2IDcuNTE3LTcuMzI3LTEwLjM4OC0xLjUxTDE2IDEuMjgybC00LjY0NiA5LjQxMy0xMC4zODggMS41MSA3LjUxNyA3LjMyNy0xLjc3NSAxMC4zNDZMMTYgMjQuOTkzbDkuMjkyIDQuODg1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTEuOTIzIDE5LjEzNkw1LjQyNCAyMmwuNzE1LTcuMDY1LTQuNzMxLTUuMjk2IDYuOTQtMS41MDNMMTEuOTIzIDJsMy41NzQgNi4xMzYgNi45NCAxLjUwMy00LjczMSA1LjI5NkwxOC40MiAyMnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLW1hc2stbG9hZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTguMDEgNGExMS43OTggMTEuNzk4IDAgMCAwIDAgMUgzdjI0aDI0VjE0Ljk4NmE4LjczOCA4LjczOCAwIDAgMCAxIDBWMjlhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xaDE1LjAxek0xNSAyM2E2IDYgMCAxIDEgMC0xMiA2IDYgMCAwIDEgMCAxMnptMC0xYTUgNSAwIDEgMCAwLTEwIDUgNSAwIDAgMCAwIDEweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjUgM2gxdjloLTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yMiA2bDMuNS0zLjVMMjkgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtbWFzayIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjQuNSIgc3Ryb2tlPSJpbmhlcml0IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDFoMjBhMSAxIDAgMCAxIDEgMXYyMGExIDEgMCAwIDEtMSAxSDJhMSAxIDAgMCAxLTEtMVYyYTEgMSAwIDAgMSAxLTF6bTAgMXYyMGgyMFYySDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1yZWRvIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIxIDZIOWE2IDYgMCAxIDAgMCAxMmgxMnYxSDlBNyA3IDAgMCAxIDkgNWgxMnYxeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTkgM2wyLjUgMi41TDE5IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJlc2V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMiAxM3YtMWE3IDcgMCAwIDEgNy03aDEzdjFoLTF2NWgxdjFhNyA3IDAgMCAxLTcgN0gydi0xaDF2LTVIMnptNy03YTYgNiAwIDAgMC02IDZ2NmgxMmE2IDYgMCAwIDAgNi02VjZIOXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTE5IDNsMi41IDIuNUwxOSA4TTUgMTZsLTIuNSAyLjVMNSAyMSIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtcm90YXRlLWNsb2Nrd2lzZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTI5IDE3aC0uOTI0YzAgNi42MjctNS4zNzMgMTItMTIgMTItNi42MjggMC0xMi01LjM3My0xMi0xMkM0LjA3NiAxMC4zOTggOS40MDcgNS4wNDEgMTYgNVY0QzguODIgNCAzIDkuODIgMyAxN3M1LjgyIDEzIDEzIDEzIDEzLTUuODIgMTMtMTN6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsNCAzLTQgMyIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNiA0aDR2MWgtNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZS1jb3VudGVyY2xvY2t3aXNlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBkPSJNMyAxN2guOTI0YzAgNi42MjcgNS4zNzMgMTIgMTIgMTIgNi42MjggMCAxMi01LjM3MyAxMi0xMiAwLTYuNjAyLTUuMzMxLTExLjk2LTExLjkyNC0xMlY0YzcuMTggMCAxMyA1LjgyIDEzIDEzcy01LjgyIDEzLTEzIDEzUzMgMjQuMTggMyAxN3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIgNGg0djFoLTR6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsLTQgMyA0IDMiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIHN0cm9rZT0ibm9uZSIgZD0iTTguMzQ5IDIyLjI1NGExMC4wMDIgMTAuMDAyIDAgMCAxLTIuNzc4LTEuNzE5bC42NS0uNzZhOS4wMDIgOS4wMDIgMCAwIDAgMi40OTUgMS41NDhsLS4zNjcuOTMxem0yLjg3My43MDRsLjA3OC0uOTk3YTkgOSAwIDEgMC0uNTU3LTE3Ljg1MmwtLjE0LS45OUExMC4wNzYgMTAuMDc2IDAgMCAxIDEyLjE0NSAzYzUuNTIzIDAgMTAgNC40NzcgMTAgMTBzLTQuNDc3IDEwLTEwIDEwYy0uMzEyIDAtLjYyLS4wMTQtLjkyNC0uMDQyem0tNy41NTYtNC42NTVhOS45NDIgOS45NDIgMCAwIDEtMS4yNTMtMi45OTZsLjk3My0uMjM0YTguOTQ4IDguOTQ4IDAgMCAwIDEuMTI0IDIuNjkzbC0uODQ0LjUzN3ptLTEuNTAyLTUuOTFBOS45NDkgOS45NDkgMCAwIDEgMi44OCA5LjIzbC45MjUuMzgyYTguOTU0IDguOTU0IDAgMCAwLS42NDQgMi44NDRsLS45OTgtLjA2MnptMi4yMS01LjY4NmMuNjg3LS44NDggMS41MS0xLjU4IDIuNDM2LTIuMTY2bC41MjMuODUyYTkuMDQ4IDkuMDQ4IDAgMCAwLTIuMTg4IDEuOTVsLS43NzEtLjYzNnoiLz4KICAgIDxwYXRoIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTEzIDFsLTIuNSAyLjVMMTMgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUtY2lyY2xlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTQuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS1yZWN0YW5nbGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cmVjdCB3aWR0aD0iMjciIGhlaWdodD0iMjciIHg9IjIuNSIgeT0iMi41IiBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHJ4PSIxIi8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS10cmlhbmdsZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTE2IDIuNWwxNS41IDI3SC41eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNC43MDYgOEgyMWExIDEgMCAwIDEgMSAxdjEyYTEgMSAwIDAgMS0xIDFIOWExIDEgMCAwIDEtMS0xdi00aDF2NGgxMlY5aC01LjcwNmwtLjU4OC0xeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik04LjUgMS41bDcuNSAxM0gxeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC1hbGlnbi1jZW50ZXIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTggMTJoMTZ2MUg4ek0yIDE5aDI4djFIMnpNOCAyNmgxNnYxSDh6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLWxlZnQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTIgMTJoMTZ2MUgyek0yIDE5aDI4djFIMnpNMiAyNmgxNnYxSDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLXJpZ2h0IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIiBkPSJNMCAwaDMydjMySDB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDVoMjh2MUgyek0xNCAxMmgxNnYxSDE0ek0yIDE5aDI4djFIMnpNMTQgMjZoMTZ2MUgxNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXRleHQtYm9sZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNyAyaDJ2Mkg3ek03IDI4aDJ2Mkg3eiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik05IDN2MTJoOWE2IDYgMCAxIDAgMC0xMkg5ek05IDE1djE0aDEwYTcgNyAwIDAgMCAwLTE0SDl6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWl0YWxpYyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTUgMmg1djFoLTV6TTExIDI5aDV2MWgtNXpNMTcgM2gxbC00IDI2aC0xeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC11bmRlcmxpbmUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTggMnYxNGE4IDggMCAxIDAgMTYgMFYyaDF2MTRhOSA5IDAgMCAxLTE4IDBWMmgxek0zIDI5aDI2djFIM3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMmg1djFINXpNMjIgMmg1djFoLTV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNCAzaDE1YTEgMSAwIDAgMSAxIDFIM2ExIDEgMCAwIDEgMS0xek0zIDRoMXYxSDN6TTE5IDRoMXYxaC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTEgM2gxdjE4aC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTAgMjBoM3YxaC0zeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdW5kbyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0yNCAwSDB2MjRoMjR6IiBvcGFjaXR5PSIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMyA2aDEyYTYgNiAwIDEgMSAwIDEySDN2MWgxMmE3IDcgMCAwIDAgMC0xNEgzdjF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik01IDNMMi41IDUuNSA1IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20taW4iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI5IC0yOTApIHRyYW5zbGF0ZSgyMjkgMjkwKSI+CiAgICAgICAgPGNpcmNsZSBjeD0iMTAuNSIgY3k9IjEwLjUiIHI9IjkiIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC44MjggMTUuODI4SDE5LjgyOFYyMi44MjhIMTguODI4eiIgdHJhbnNmb3JtPSJyb3RhdGUoLTQ1IDE5LjMyOCAxOS4zMjgpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTcgMTBIMTRWMTFIN3oiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTAgN0gxMVYxNEgxMHoiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20tb3V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2MyAtMjkwKSB0cmFuc2xhdGUoMjYzIDI5MCkiPgogICAgICAgIDxjaXJjbGUgY3g9IjEwLjUiIGN5PSIxMC41IiByPSI5IiBzdHJva2U9ImluaGVyaXQiIGZpbGw9Im5vbmUiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTguODI4IDE1LjgyOEgxOS44MjhWMjIuODI4SDE4LjgyOHoiIHRyYW5zZm9ybT0icm90YXRlKC00NSAxOS4zMjggMTkuMzI4KSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik03IDEwSDE0VjExSDd6Ii8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oYW5kIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik04LjY3MiAzLjM2YzEuMzI4IDAgMi4xMTQuNzggMi4yOSAxLjg2OWwuMDE0LjEwMS4wMjMuMDA2djEuMDQybC0uNjM4LS4xODVjLS4xODctLjA1NS0uMzIzLS4yMTEtLjM1NC0uMzk5TDEwIDUuNzEzYzAtLjgyNS0uNDItMS4zNTMtMS4zMjgtMS4zNTNDNy42OTUgNC4zNiA3IDUuMDQxIDcgNS43MTN2Ny45NDFjMCAuNDM5LS41MjQuNjY1LS44NDMuMzY0bC0xLjg2OC0xLjc2MWMtLjU5NS0uNTI4LTEuMzE2LS42MTctMS45MTgtLjIxNi0uNTIyLjM0OC0uNTYyIDEuMjAzLS4xOCAxLjhMNy43MzggMjJoMTEuMDEzbC4yODUtLjUxOGMxLjI0Ny0yLjMyNiAxLjg5Ny00LjI1OSAxLjk2LTUuNzg1bC4wMDQtLjIzOVY4LjAzNWMwLS42NTYtLjUtMS4xNy0xLTEuMTctLjUwMyAwLTEgLjQ1Ni0xIDEuMTcgMCAuMzMzLS4zMi41NzMtLjY0LjQ4TDE4IDguNDFWNy4zNjhsLjA4Ni4wMjYuMDQyLS4xMzZjLjI3OS0uODA1Ljk3OC0xLjMzMiAxLjczOC0xLjM4OEwyMCA1Ljg2NWMxLjA1NyAwIDIgLjk2NyAyIDIuMTd2Ny40MjNjMCAxLjkyOS0uODQ1IDQuMzUyLTIuNTIxIDcuMjktLjA5LjE1Ni0uMjU1LjI1Mi0uNDM1LjI1Mkg3LjQ3NGMtLjE2NiAwLS4zMjEtLjA4Mi0uNDE0LS4yMTlsLTUuNzA0LTguMzljLS42NTMtMS4wMTktLjU4NC0yLjQ4Ni40Ni0zLjE4MiAxLS42NjYgMi4yMTYtLjUxNiAzLjE0OC4zMUw2IDEyLjQ5NVY1LjcxM2MwLTEuMTggMS4wNTgtMi4yNjMgMi40OS0yLjM0OHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIuNSAxLjVjMS4zMjUgMCAyLjQxIDEuMDMyIDIuNDk1IDIuMzM2TDE1IDR2Ny4yMmgtMVY0YzAtLjgyOC0uNjcyLTEuNS0xLjUtMS41LS43OCAwLTEuNDIuNTk1LTEuNDkzIDEuMzU2TDExIDR2Ny4yMmgtMVY0YzAtMS4zOCAxLjEyLTIuNSAyLjUtMi41eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI5NyAtMjkwKSB0cmFuc2xhdGUoMjk3IDI5MCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNi41IDMuNWMxLjMyNSAwIDIuNDEgMS4wMzIgMi40OTUgMi4zMzZMMTkgNnY2LjNoLTFWNmMwLS44MjgtLjY3Mi0xLjUtMS41LTEuNS0uNzggMC0xLjQyLjU5NS0xLjQ5MyAxLjM1NkwxNSA2djIuNDRoLTFWNmMwLTEuMzggMS4xMi0yLjUgMi41LTIuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8L2RlZnM+Cjwvc3ZnPgo="},4858:function(T){"use strict";T.exports=J},4960:function(){},6759:function(){},6272:function(){}},t={};function q(T){var R=t[T];if(void 0!==R)return R.exports;var z=t[T]={exports:{}};return ue[T](z,z.exports,q),z.exports}q.n=function(T){var R=T&&T.__esModule?function(){return T.default}:function(){return T};return q.d(R,{a:R}),R},q.d=function(T,R){for(var z in R)q.o(R,z)&&!q.o(T,z)&&Object.defineProperty(T,z,{enumerable:!0,get:R[z]})},q.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),q.o=function(T,R){return Object.prototype.hasOwnProperty.call(T,R)};var Ee={};return function(){"use strict";q.d(Ee,{default:function(){return D2}});var T=q(9131),R=q.n(T),z=q(1899),y=q.n(z),P=q(6562),N=q.n(P),B=q(1734),j=q.n(B),U=q(8005),b=q.n(U),h=q(6065),m=q.n(h),g=q(4496),r=q.n(g);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(O){var _=this;do{if(Element.prototype.matches.call(_,O))return _;_=_.parentElement||_.parentNode}while(null!==_&&1===_.nodeType);return null}),"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(O){if("Element"in O){var _="classList",l="prototype",f=O.Element[l],c=Object,p=R()(String[l])||function(){return this.replace(/^\s+|\s+$/g,"")},w=y()(Array[l])||function(ve){for(var we=0,ze=this.length;we<ze;we++)if(we in this&&this[we]===ve)return we;return-1},E=function(we,ze){this.name=we,this.code=DOMException[we],this.message=ze},L=function(we,ze){if(""===ze)throw new E("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(ze))throw new E("INVALID_CHARACTER_ERR","The token must not contain space characters.");return w.call(we,ze)},k=function(we){for(var ze=p.call(we.getAttribute("class")||""),Se=ze?ze.split(/\s+/):[],Ze=0,ft=Se.length;Ze<ft;Ze++)this.push(Se[Ze]);this._updateClassName=function(){we.setAttribute("class",this.toString())}},Y=k[l]=[],X=function(){return new k(this)};if(E[l]=Error[l],Y.item=function(ve){return this[ve]||null},Y.contains=function(ve){return~L(this,ve+"")},Y.add=function(){var Se,ve=arguments,we=0,ze=ve.length,Ze=!1;do{~L(this,Se=ve[we]+"")||(this.push(Se),Ze=!0)}while(++we<ze);Ze&&this._updateClassName()},Y.remove=function(){var Se,ft,ve=arguments,we=0,ze=ve.length,Ze=!1;do{for(ft=L(this,Se=ve[we]+"");~ft;){N()(this).call(this,ft,1),Ze=!0,ft=L(this,Se)}}while(++we<ze);Ze&&this._updateClassName()},Y.toggle=function(ve,we){var ze=this.contains(ve),Se=ze?!0!==we&&"remove":!1!==we&&"add";return Se&&this[Se](ve),!0===we||!1===we?we:!ze},Y.replace=function(ve,we){var ze=L(ve+"");~ze&&(N()(this).call(this,ze,1,we),this._updateClassName())},Y.toString=function(){return this.join(" ")},j()){var pe={get:X,enumerable:!0,configurable:!0};try{j()(f,_,pe)}catch(ve){(void 0===ve.number||-2146823252===ve.number)&&(pe.enumerable=!1,j()(f,_,pe))}}else c[l].__defineGetter__&&f.__defineGetter__(_,X)}}(self),function(){var O=document.createElement("_");if(O.classList.add("c1","c2"),!O.classList.contains("c2")){var _=function(c){var p=DOMTokenList.prototype[c];DOMTokenList.prototype[c]=function(w){var E,L=arguments.length;for(E=0;E<L;E++)p.call(this,w=arguments[E])}};_("add"),_("remove")}if(O.classList.toggle("c3",!1),O.classList.contains("c3")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,c){return 1 in arguments&&!this.contains(f)==!c?c:l.call(this,f)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(f,c){var p=this.toString().split(" "),w=y()(p).call(p,f+"");~w&&(p=b()(p).call(p,w),this.remove.apply(this,p),this.add(c),this.add.apply(this,b()(p).call(p,1)))}),O=null}()),function(){if(typeof window<"u"&&window.addEventListener){var _,l,L,O=m()(null),f=function(){clearTimeout(l),l=r()(_,100)},c=function(){},p=function(){var Y;window.addEventListener("resize",f,!1),window.addEventListener("orientationchange",f,!1),window.MutationObserver?((Y=new MutationObserver(f)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),c=function(){try{Y.disconnect(),window.removeEventListener("resize",f,!1),window.removeEventListener("orientationchange",f,!1)}catch{}}):(document.documentElement.addEventListener("DOMSubtreeModified",f,!1),c=function(){document.documentElement.removeEventListener("DOMSubtreeModified",f,!1),window.removeEventListener("resize",f,!1),window.removeEventListener("orientationchange",f,!1)})},w=function(Y){function X(ze){var Se;return void 0!==ze.protocol?Se=ze:(Se=document.createElement("a")).href=ze,Se.protocol.replace(/:/g,"")+Se.host}var pe,ve,we;return window.XMLHttpRequest&&(pe=new XMLHttpRequest,ve=X(location),we=X(Y),pe=void 0===pe.withCredentials&&""!==we&&we!==ve?XDomainRequest||void 0:XMLHttpRequest),pe},E="http://www.w3.org/1999/xlink";_=function(){var Y,X,ve,we,ze,Ze,ft,pt,vt,Ke,Se=0;function Ot(){0==(Se-=1)&&(c(),p())}function ei(Xt){return function(){!0!==O[Xt.base]&&(Xt.useEl.setAttributeNS(E,"xlink:href","#"+Xt.hash),Xt.useEl.hasAttribute("href")&&Xt.useEl.setAttribute("href","#"+Xt.hash))}}function vi(Xt){return function(){var mi,Gi=document.body,Wi=document.createElement("x");Xt.onload=null,Wi.innerHTML=Xt.responseText,(mi=Wi.getElementsByTagName("svg")[0])&&(mi.setAttribute("aria-hidden","true"),mi.style.position="absolute",mi.style.width=0,mi.style.height=0,mi.style.overflow="hidden",Gi.insertBefore(mi,Gi.firstChild)),Ot()}}function Ei(Xt){return function(){Xt.onerror=null,Xt.ontimeout=null,Ot()}}for(c(),vt=document.getElementsByTagName("use"),ze=0;ze<vt.length;ze+=1){try{X=vt[ze].getBoundingClientRect()}catch{X=!1}Y=(pt=(we=vt[ze].getAttribute("href")||vt[ze].getAttributeNS(E,"href")||vt[ze].getAttribute("xlink:href"))&&we.split?we.split("#"):["",""])[0],ve=pt[1],Ze=X&&0===X.left&&0===X.right&&0===X.top&&0===X.bottom,X&&0===X.width&&0===X.height&&!Ze?(vt[ze].hasAttribute("href")&&vt[ze].setAttributeNS(E,"xlink:href",we),Y.length&&(!0!==(Ke=O[Y])&&r()(ei({useEl:vt[ze],base:Y,hash:ve}),0),void 0===Ke&&void 0!==(ft=w(Y))&&(Ke=new ft,O[Y]=Ke,Ke.onload=vi(Ke),Ke.onerror=Ei(Ke),Ke.ontimeout=Ei(Ke),Ke.open("GET",Y),Ke.send(),Se+=1))):Ze?Y.length&&O[Y]&&r()(ei({useEl:vt[ze],base:Y,hash:ve}),0):void 0===O[Y]?O[Y]=!0:O[Y].onload&&(O[Y].abort(),delete O[Y].onload,O[Y]=!0)}vt="",Se+=1,Ot()},L=function(){window.removeEventListener("load",L,!1),l=r()(_,0)},"complete"!==document.readyState?window.addEventListener("load",L,!1):L()}}();var a=q(1845);function s(O,_){(null==_||_>O.length)&&(_=O.length);for(var l=0,f=new Array(_);l<_;l++)f[l]=O[l];return f}var C=q(184),d=q(662),x=q(7172);var I=q(711);function D(O,_){var l;if(O){if("string"==typeof O)return s(O,_);var f=I(l=Object.prototype.toString.call(O)).call(l,8,-1);if("Object"===f&&O.constructor&&(f=O.constructor.name),"Map"===f||"Set"===f)return x(O);if("Arguments"===f||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return s(O,_)}}function V(O){return function u(O){if(a(O))return s(O)}(O)||function S(O){if(typeof C<"u"&&null!=d(O)||null!=O["@@iterator"])return x(O)}(O)||D(O)||function H(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=q(7077);function W(O,_,l){return _ in O?G(O,_,{value:l,enumerable:!0,configurable:!0,writable:!0}):O[_]=l,O}function ee(O,_){if(!(O instanceof _))throw new TypeError("Cannot call a class as a function")}function _e(O,_){for(var l=0;l<_.length;l++){var f=_[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),G(O,f.key,f)}}function ge(O,_,l){return _&&_e(O.prototype,_),l&&_e(O,l),O}var Re=q(4426),le=q.n(Re),Pe=q(9406),$=q.n(Pe),tt=q(8189),Ae=q.n(tt),it=q(3972),he=q.n(it),fe=q(2777),se=q(961),ie=q.n(se),xe=q(5695),K=q.n(xe),te=q(8592),ne=q.n(te),ae=q(9052),Te=q.n(ae),be=q(2560),Ne=q.n(be),De=q(2461),ke=q.n(De);function ye(O,_){return function me(O){if(a(O))return O}(O)||function ce(O,_){var l=null==O?null:typeof C<"u"&&d(O)||O["@@iterator"];if(null!=l){var w,E,f=[],c=!0,p=!1;try{for(l=l.call(O);!(c=(w=l.next()).done)&&(f.push(w.value),!_||f.length!==_);c=!0);}catch(L){p=!0,E=L}finally{try{!c&&null!=l.return&&l.return()}finally{if(p)throw E}}return f}}(O,_)||D(O,_)||function de(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var zt,Me=q(6397),Ie=q.n(Me),Xe=q(7636),at=q.n(Xe),rt=q(789),Oe=q.n(rt),st=q(4729),ht=q.n(st),mt=q(1610),Nt=q.n(mt),St=q(3053),At=q.n(St),It=["zoomIn","zoomOut","hand"],Bt=["history","undo","redo","reset"],Gt=["delete","deleteAll"],Ve=$()(zt=[]).call(zt,It,Bt,Gt),je={FILTER:"filter",COLOR:"color"},et=["rect","circle","triangle"],nt_CROPZONE="cropzone",ct={VINTAGE:"vintage",SEPIA2:"sepia2",REMOVE_COLOR:"removeColor",COLOR_FILTER:"colorFilter",REMOVE_WHITE:"removeWhite",BLEND_COLOR:"blendColor",BLEND:"blend"},Ue=Ft("IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","TEXT","ICON","FILTER","SHAPE","ZOOM","RESIZE"),Wt={hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0},lt={CLEAR_OBJECTS:"clearObjects",LOAD_IMAGE:"loadImage",FLIP_IMAGE:"flip",ROTATE_IMAGE:"rotate",ADD_OBJECT:"addObject",REMOVE_OBJECT:"removeObject",APPLY_FILTER:"applyFilter",REMOVE_FILTER:"removeFilter",ADD_ICON:"addIcon",CHANGE_ICON_COLOR:"changeIconColor",ADD_SHAPE:"addShape",CHANGE_SHAPE:"changeShape",ADD_TEXT:"addText",CHANGE_TEXT:"changeText",CHANGE_TEXT_STYLE:"changeTextStyle",ADD_IMAGE_OBJECT:"addImageObject",RESIZE_CANVAS_DIMENSION:"resizeCanvasDimension",SET_OBJECT_PROPERTIES:"setObjectProperties",SET_OBJECT_POSITION:"setObjectPosition",CHANGE_SELECTION:"changeSelection",RESIZE_IMAGE:"resize"},He={OBJECT_ACTIVATED:"objectActivated",OBJECT_MOVED:"objectMoved",OBJECT_SCALED:"objectScaled",OBJECT_CREATED:"objectCreated",OBJECT_ROTATED:"objectRotated",OBJECT_ADDED:"objectAdded",OBJECT_MODIFIED:"objectModified",TEXT_EDITING:"textEditing",TEXT_CHANGED:"textChanged",ICON_CREATE_RESIZE:"iconCreateResize",ICON_CREATE_END:"iconCreateEnd",ADD_TEXT:"addText",ADD_OBJECT:"addObject",ADD_OBJECT_AFTER:"addObjectAfter",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",MOUSE_MOVE:"mousemove",REDO_STACK_CHANGED:"redoStackChanged",UNDO_STACK_CHANGED:"undoStackChanged",SELECTION_CLEARED:"selectionCleared",SELECTION_CREATED:"selectionCreated",EXECUTE_COMMAND:"executeCommand",AFTER_UNDO:"afterUndo",AFTER_REDO:"afterRedo",ZOOM_CHANGED:"zoomChanged",HAND_STARTED:"handStarted",HAND_STOPPED:"handStopped",KEY_DOWN:"keydown",KEY_UP:"keyup",INPUT_BOX_EDITING_STARTED:"inputBoxEditingStarted",INPUT_BOX_EDITING_STOPPED:"inputBoxEditingStopped",FOCUS:"focus",BLUR:"blur",IMAGE_RESIZED:"imageResized"},Pt={COLOR_PICKER_INPUT_BOX:".tui-colorpicker-palette-hex"},_t={LOAD_IMAGE:"Load",LOAD_MASK_IMAGE:"Mask",ADD_MASK_IMAGE:"Mask",ADD_IMAGE_OBJECT:"Mask",CROP:"Crop",RESIZE:"Resize",APPLY_FILTER:"Filter",REMOVE_FILTER:"Filter",CHANGE_SHAPE:"Shape",CHANGE_ICON_COLOR:"Icon",ADD_TEXT:"Text",CHANGE_TEXT_STYLE:"Text",REMOVE_OBJECT:"Delete",CLEAR_OBJECTS:"Delete"},Tt=Ft("NORMAL","CROPPER","FREE_DRAWING","LINE_DRAWING","TEXT","SHAPE","ICON","ZOOM","RESIZE"),di_TEXT="text",di_CROP="crop",di_RESIZE="resize",di_SHAPE="shape",di_ZOOM="zoom",si={DEFAULT:"normal",ZOOM:"zoom",HAND:"hand"},Vt_Z=90,Vt_Y=89,Vt_C=67,Vt_V=86,Vt_SHIFT=16,Vt_BACKSPACE=8,Vt_DEL=46,Vt_ARROW_DOWN=40,Vt_ARROW_UP=38,Vt_SPACE=32,Vt_DIGIT_0=48,Vt_DIGIT_9=57,ci_SELECTION_STYLE={borderColor:"red",cornerColor:"green",cornerSize:10,originX:"center",originY:"center",transparentCorners:!1},Dt={addedObject:"The object is already added.",flip:"The flipX and flipY setting values are not changed.",invalidDrawingMode:"This operation is not supported in the drawing mode.",invalidParameters:"Invalid parameters.",isLock:"The executing command state is locked.",loadImage:"The background image is empty.",loadingImageFailed:"Invalid image loaded.",noActiveObject:"There is no active object.",noObject:"The object is not in canvas.",redo:"The promise of redo command is reject.",rotation:"The current angle is same the old angle.",undo:"The promise of undo command is reject.",unsupportedOperation:"Unsupported operation.",unsupportedType:"Unsupported object type."},zn={"icon-arrow":"M40 12V0l24 24-24 24V36H0V12h40z","icon-arrow-2":"M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ","icon-arrow-3":"M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ","icon-star":"M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ","icon-star-2":"M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ","icon-polygon":"M3,31 L19,3 h32 l16,28 l-16,28 H19  z ","icon-location":"M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z","icon-heart":"M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ","icon-bubble":"M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z"},Zn={realTimeEvent:!0,min:-360,max:360,value:0},Xi={min:5,max:30,value:12},yt={realTimeEvent:!0,min:2,max:300,value:3},Xn={realTimeEvent:!0,min:10,max:100,value:50},yi={tintOpacityRange:{realTimeEvent:!0,min:0,max:1,value:.7,useDecimal:!0},removewhiteDistanceRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},brightnessRange:{realTimeEvent:!0,min:-1,max:1,value:0,useDecimal:!0},noiseRange:{realTimeEvent:!0,min:0,max:1e3,value:100},pixelateRange:{realTimeEvent:!0,min:2,max:20,value:4},colorfilterThresholdRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},blurFilterRange:{value:.1}},Qi={LEFT:0,TOP:0,WIDTH:.5,HEIGHT:.5},ki={realTimeEvent:!0,min:32,max:4088,value:800},fi=2,bn="tui-image-editor-",xn=Math.min,oe=Math.max,We=!1,Ye=0;function $e(O){return O.__fe_id||(O.__fe_id=Ye+=1),O.__fe_id}function dt(O){return"function"==typeof O}function Ct(O,_,l){if(_>l){var f=[l,_];_=f[0],l=f[1]}return oe(_,xn(O,l))}function Ft(){for(var O={},_=arguments.length,l=new Array(_),f=0;f<_;f++)l[f]=arguments[f];return ne()(l,function(c){O[c]=c}),O}function ni(O,_){var p,l={},f=_.length,c=0;for(c=0;c<f;c+=1)l[p=_[c]]=O[p];return l}function Je(O){return Ie()(O,10)}function Zt(O){return O.replace(/-([a-z])/g,function(_,l){return l.toUpperCase()})}function li(){return!!(window.File&&window.FileList&&window.FileReader)}function an(O,_){var l,f,c,p;4===O.length&&(O=$()(p="".concat(O)).call(p,b()(O).call(O,1,4)));var w=Ie()(b()(O).call(O,1,3),16),E=Ie()(b()(O).call(O,3,5),16),L=Ie()(b()(O).call(O,5,7),16),k=_||1;return $()(l=$()(f=$()(c="rgba(".concat(w,", ")).call(c,E,", ")).call(f,L,", ")).call(l,k,")")}function _i(O){ne()(O,function(_,l){O[l]=null})}function Ji(){var O,f,_=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"."===_.charAt(0)?$()(f=".".concat(bn).concat(l)).call(f,b()(_).call(_,1)):$()(O="".concat(bn).concat(l)).call(O,_)}function cn(O,_){O.customProps=O.customProps||{},ie()(O.customProps,_)}function Yi(O,_){var l={};return Ne()(_)&&(_=[_]),ne()(_,function(f){l[f]=O.customProps[f]}),l}function Mn(O,_){return y()(O).call(O,_)>=0}function Wo(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Nt()(O,"type")||je.COLOR}function ln(O){var _=Oe()(O);return(void 0===_?{}:_).source?je.FILTER:je.COLOR}function Sn(O){return At()(O.get("type"),et)>=0}function wn(O){if(Mn(et,O))return"Shape";switch(O){case"i-text":return"Text";case"path":case"line":return"Draw";case"activeSelection":return"Group";default:return Jn(O)}}function Ac(O){var pe,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=_.useAlpha,f=void 0===l||l,c=_.mode,L=ct.SEPIA2,k=ct.COLOR_FILTER,Y=ct.REMOVE_WHITE,X=ct.BLEND;switch(O){case ct.VINTAGE:pe=L;break;case ct.REMOVE_COLOR:pe=f?k:Y;break;case ct.BLEND_COLOR:pe="add"===c?X:c;break;default:pe=O}return Jn(pe)}function Jn(O){return O.replace(/[a-z]/,function(_){return _.toUpperCase()})}var Zo=Ft("UN_IMPLEMENTATION","NO_COMPONENT_NAME"),Tn_UN_IMPLEMENTATION="Should implement a method: ",Tn_NO_COMPONENT_NAME="Should set a component name",Xo={UN_IMPLEMENTATION:function(_){return Tn_UN_IMPLEMENTATION+_},NO_COMPONENT_NAME:function(){return Tn_NO_COMPONENT_NAME}},$i={types:ie()({},Zo),create:function(_){_=_.toLowerCase();for(var l=Xo[_],f=arguments.length,c=new Array(f>1?f-1:0),p=1;p<f;p++)c[p-1]=arguments[p];return l.apply(void 0,c)}},$n=$i.create,Kr=$i.types,hn=function(){function O(_,l){ee(this,O),this.name=_.name,this.args=l,this.execute=_.execute,this.undo=_.undo,this.executeCallback=_.executeCallback||null,this.undoCallback=_.undoCallback||null,this.undoData={}}return ge(O,[{key:"execute",value:function(){throw new Error($n(Kr.UN_IMPLEMENTATION,"execute"))}},{key:"undo",value:function(){throw new Error($n(Kr.UN_IMPLEMENTATION,"undo"))}},{key:"isRedo",get:function(){return ke()(this.undoData).length>0}},{key:"setUndoData",value:function(l,f,c){return f&&(l=f),c?f||(f=l):(ie()(this.undoData,l),f=null),f}},{key:"setExecuteCallback",value:function(l){return this.executeCallback=l,this}},{key:"setUndoCallback",value:function(l){return this.undoCallback=l,this}}]),O}(),Qo={};var Rt={create:function ea(O){var _=Qo[O];if(_){for(var l=arguments.length,f=new Array(l>1?l-1:0),c=1;c<l;c++)f[c-1]=arguments[c];return new hn(_,f)}return null},register:function ta(O){Qo[O.name]=O}},Kn=function(){function O(){ee(this,O),this._undoStack=[],this._redoStack=[],this._isLocked=!1,this._isSilent=!1}return ge(O,[{key:"_invokeExecution",value:function(l){var f=this,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.lock();var p=l.args;return p||(p=[]),l.execute.apply(l,V(p)).then(function(w){return f._isSilent||(f.pushUndoStack(l),f.fire(c?He.AFTER_REDO:He.EXECUTE_COMMAND,l)),f.unlock(),dt(l.executeCallback)&&l.executeCallback(w),w}).catch(function(w){return f.unlock(),Ae().reject(w)})}},{key:"_invokeUndo",value:function(l){var f=this;this.lock();var c=l.args;return c||(c=[]),l.undo.apply(l,V(c)).then(function(p){return f.pushRedoStack(l),f.fire(He.AFTER_UNDO,l),f.unlock(),dt(l.undoCallback)&&l.undoCallback(p),p}).catch(function(p){return f.unlock(),Ae().reject(p)})}},{key:"_fireRedoStackChanged",value:function(){this.fire(He.REDO_STACK_CHANGED,this._redoStack.length)}},{key:"_fireUndoStackChanged",value:function(){this.fire(He.UNDO_STACK_CHANGED,this._undoStack.length)}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"executeSilent",value:function(){var l=this;this._isSilent=!0;for(var f=arguments.length,c=new Array(f),p=0;p<f;p++)c[p]=arguments[p];return this.execute.apply(this,$()(c).call(c,[this._isSilent])).then(function(){l._isSilent=!1})}},{key:"execute",value:function(){var l=this;if(this._isLocked)return Ae().reject(Dt.isLock);for(var f=arguments.length,c=new Array(f),p=0;p<f;p++)c[p]=arguments[p];var w=c[0];return Ne()(w)&&(w=Rt.create.apply(Rt,c)),this._invokeExecution(w).then(function(E){return l.clearRedoStack(),E})}},{key:"undo",value:function(){var f,p,l=this._undoStack.pop(),c="";return l&&this._isLocked&&(this.pushUndoStack(l,!0),l=null),l?(this.isEmptyUndoStack()&&this._fireUndoStackChanged(),f=this._invokeUndo(l)):(c=Dt.undo,this._isLocked&&(c=$()(p="".concat(c," Because ")).call(p,Dt.isLock)),f=Ae().reject(c)),f}},{key:"redo",value:function(){var f,p,l=this._redoStack.pop(),c="";return l&&this._isLocked&&(this.pushRedoStack(l,!0),l=null),l?(this.isEmptyRedoStack()&&this._fireRedoStackChanged(),f=this._invokeExecution(l,!0)):(c=Dt.redo,this._isLocked&&(c=$()(p="".concat(c," Because ")).call(p,Dt.isLock)),f=Ae().reject(c)),f}},{key:"pushUndoStack",value:function(l,f){this._undoStack.push(l),f||this._fireUndoStackChanged()}},{key:"pushRedoStack",value:function(l,f){this._redoStack.push(l),f||this._fireRedoStackChanged()}},{key:"isEmptyRedoStack",value:function(){return 0===this._redoStack.length}},{key:"isEmptyUndoStack",value:function(){return 0===this._undoStack.length}},{key:"clearUndoStack",value:function(){this.isEmptyUndoStack()||(this._undoStack=[],this._fireUndoStackChanged())}},{key:"clearRedoStack",value:function(){this.isEmptyRedoStack()||(this._redoStack=[],this._fireRedoStackChanged())}}]),O}();Te().mixin(Kn);var Jo=Kn,Ci=q(5214),jt=q.n(Ci),zi=q(899),hi=q.n(zi),Nc={"common.bi.image":"https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png","common.bisize.width":"251px","common.bisize.height":"21px","common.backgroundImage":"none","common.backgroundColor":"#1e1e1e","common.border":"0px","header.backgroundImage":"none","header.backgroundColor":"transparent","header.border":"0px","loadButton.backgroundColor":"#fff","loadButton.border":"1px solid #ddd","loadButton.color":"#222","loadButton.fontFamily":"'Noto Sans', sans-serif","loadButton.fontSize":"12px","downloadButton.backgroundColor":"#fdba3b","downloadButton.border":"1px solid #fdba3b","downloadButton.color":"#fff","downloadButton.fontFamily":"'Noto Sans', sans-serif","downloadButton.fontSize":"12px","menu.normalIcon.color":"#8a8a8a","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#434343","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#8a8a8a","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#3c3c3c","submenu.normalLabel.color":"#8a8a8a","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"0px","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"},un=q(2534),ia=function(){function O(_){ee(this,O),this.styles=this._changeToObject(ie()({},Nc,_)),function Qn(O,_){var c=ye(document.getElementsByTagName("head"),1)[0],p=document.createElement("link"),w=encodeURIComponent(O);_&&(p.id=_),p.setAttribute("rel","stylesheet"),p.setAttribute("type","text/css"),p.setAttribute("href","data:text/css;charset=UTF-8,".concat(w)),c.appendChild(p)}(this._styleMaker()),this._loadDefaultSvgIcon()}return ge(O,[{key:"getStyle",value:function(l){var f=null,c=l.replace(/\..+$/,""),p=this.styles[l];switch(l){case"common.bi":f=this.styles[l].image;break;case"menu.icon":f={active:this.styles["".concat(c,".activeIcon")],normal:this.styles["".concat(c,".normalIcon")],hover:this.styles["".concat(c,".hoverIcon")],disabled:this.styles["".concat(c,".disabledIcon")]};break;case"submenu.icon":f={active:this.styles["".concat(c,".activeIcon")],normal:this.styles["".concat(c,".normalIcon")]};break;case"submenu.label":f={active:this._makeCssText(this.styles["".concat(c,".activeLabel")]),normal:this._makeCssText(this.styles["".concat(c,".normalLabel")])};break;case"submenu.partition":f={vertical:this._makeCssText(ie()({},p,{borderLeft:"1px solid ".concat(p.color)})),horizontal:this._makeCssText(ie()({},p,{borderBottom:"1px solid ".concat(p.color)}))};break;case"range.disabledPointer":case"range.disabledBar":case"range.disabledSubbar":case"range.pointer":case"range.bar":case"range.subbar":p.backgroundColor=p.color,f=this._makeCssText(p);break;default:f=this._makeCssText(p)}return f}},{key:"_styleMaker",value:function(){var l=this.getStyle("submenu.label"),f=this.getStyle("submenu.partition");return function(O){var _,l,f,c,p,w,E,L,k,Y,X,pe,ve,we,ze,Se,Ze,ft,pt,vt,Ke,Ot,ei,vi,Ei,Xt,Gi,Wi,mi,go=O.subMenuLabelActive,vo=O.subMenuLabelNormal,mo=O.subMenuRangeTitle,yo=O.submenuPartitionVertical,_o=O.submenuPartitionHorizontal,Co=O.submenuCheckbox,zo=O.submenuRangePointer,bo=O.submenuRangeValue,xo=O.submenuColorpickerTitle,Mo=O.submenuColorpickerButton,So=O.submenuRangeBar,wo=O.submenuRangeSubbar,To=O.submenuDisabledRangePointer,Io=O.submenuDisabledRangeBar,Eo=O.submenuDisabledRangeSubbar,Oo=O.submenuIconSize,Ao=O.menuIconSize,Do=O.biSize,Oi=O.menuIconStyle,qi=O.submenuIconStyle;return $()(_=$()(l=$()(f=$()(c=$()(p=$()(w=$()(E=$()(L=$()(k=$()(Y=$()(X=$()(pe=$()(ve=$()(we=$()(ze=$()(Se=$()(Ze=$()(ft=$()(pt=$()(vt=$()(Ke=$()(Ot=$()(ei=$()(vi=$()(Ei=$()(Xt=$()(Gi=$()(Wi=$()(mi='\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype="icon-heart"] label,\n    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype="icon-location"] label,\n    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype="icon-polygon"] label,\n    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype="icon-star"] label,\n    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype="icon-star-2"] label,\n    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype="icon-arrow-3"] label,\n    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype="icon-arrow-2"] label,\n    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype="icon-arrow"] label,\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-draw-line-select-button.line .tui-image-editor-button.line label,\n    .tie-draw-line-select-button.free .tui-image-editor-button.free label,\n    .tie-flip-button.flipX .tui-image-editor-button.flipX label,\n    .tie-flip-button.flipY .tui-image-editor-button.flipY label,\n    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,\n    .tie-crop-button .tui-image-editor-button.apply.active label,\n    .tie-crop-preset-button .tui-image-editor-button.preset.active label,\n    .tie-resize-button .tui-image-editor-button.apply.active label,\n    .tie-resize-preset-button .tui-image-editor-button.preset.active label,\n    .tie-shape-button.rect .tui-image-editor-button.rect label,\n    .tie-shape-button.circle .tui-image-editor-button.circle label,\n    .tie-shape-button.triangle .tui-image-editor-button.triangle label,\n    .tie-text-effect-button .tui-image-editor-button.active label,\n    .tie-text-align-button.tie-text-align-left .tui-image-editor-button.left label,\n    .tie-text-align-button.tie-text-align-center .tui-image-editor-button.center label,\n    .tie-text-align-button.tie-text-align-right .tui-image-editor-button.right label,\n    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,\n    .tui-image-editor-container .tui-image-editor-checkbox label > span {\n        '.concat(go,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {\n        ")).call(mi,vo,"\n    }\n    .tui-image-editor-container .tui-image-editor-range-wrap label > span {\n        ")).call(Wi,mo,"\n    }\n    .tui-image-editor-container .tui-image-editor-partition > div {\n        ")).call(Gi,yo,"\n    }\n    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,\n    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {\n        ")).call(Xt,_o,"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {\n        ")).call(Ei,Co,"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {\n        border: 0;\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {\n        ")).call(vi,zo,"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-bar {\n        ")).call(ei,So,"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {\n        ")).call(Ot,wo,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {\n        ")).call(Ke,To,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {\n        ")).call(vt,Eo,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {\n        ")).call(pt,Io,"\n    }\n    .tui-image-editor-container .tui-image-editor-range-value {\n        ")).call(ft,bo,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {\n        ")).call(Ze,xo,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {\n        ")).call(Se,Mo,"\n    }\n    .tui-image-editor-container .svg_ic-menu {\n        ")).call(ze,Ao,"\n    }\n    .tui-image-editor-container .svg_ic-submenu {\n        ")).call(we,Oo,"\n    }\n    .tui-image-editor-container .tui-image-editor-controls-logo > img,\n    .tui-image-editor-container .tui-image-editor-header-logo > img {\n        ")).call(ve,Do,"\n    }\n    .tui-image-editor-menu use.normal.use-default,\n    .tui-image-editor-help-menu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(pe,Oi.normal.color,";\n        stroke: ")).call(X,Oi.normal.color,";\n    }\n    .tui-image-editor-menu use.active.use-default,\n    .tui-image-editor-help-menu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(Y,Oi.active.color,";\n        stroke: ")).call(k,Oi.active.color,";\n    }\n    .tui-image-editor-menu use.hover.use-default,\n    .tui-image-editor-help-menu use.hover.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(L,Oi.hover.color,";\n        stroke: ")).call(E,Oi.hover.color,";\n    }\n    .tui-image-editor-menu use.disabled.use-default,\n    .tui-image-editor-help-menu use.disabled.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(w,Oi.disabled.color,";\n        stroke: ")).call(p,Oi.disabled.color,";\n    }\n    .tui-image-editor-submenu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(c,qi.normal.color,";\n        stroke: ")).call(f,qi.normal.color,";\n    }\n    .tui-image-editor-submenu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(l,qi.active.color,";\n        stroke: ")).call(_,qi.active.color,";\n    }\n")}({subMenuLabelActive:l.active,subMenuLabelNormal:l.normal,submenuPartitionVertical:f.vertical,submenuPartitionHorizontal:f.horizontal,biSize:this.getStyle("common.bisize"),subMenuRangeTitle:this.getStyle("range.title"),submenuRangePointer:this.getStyle("range.pointer"),submenuRangeBar:this.getStyle("range.bar"),submenuRangeSubbar:this.getStyle("range.subbar"),submenuDisabledRangePointer:this.getStyle("range.disabledPointer"),submenuDisabledRangeBar:this.getStyle("range.disabledBar"),submenuDisabledRangeSubbar:this.getStyle("range.disabledSubbar"),submenuRangeValue:this.getStyle("range.value"),submenuColorpickerTitle:this.getStyle("colorpicker.title"),submenuColorpickerButton:this.getStyle("colorpicker.button"),submenuCheckbox:this.getStyle("checkbox"),menuIconSize:this.getStyle("menu.iconSize"),submenuIconSize:this.getStyle("submenu.iconSize"),menuIconStyle:this.getStyle("menu.icon"),submenuIconStyle:this.getStyle("submenu.icon")})}},{key:"_changeToObject",value:function(l){var f={};return ne()(l,function(c,p){var E=ye(p.match(/^(.+)\.([a-z]+)$/i),3),L=E[1],k=E[2];f[L]||(f[L]={}),f[L][k]=c}),f}},{key:"_makeCssText",value:function(l){var f=this,c=[];return ne()(l,function(p,w){var E,L;y()(E=["backgroundImage"]).call(E,w)>-1&&"none"!==p&&(p="url(".concat(p,")")),c.push($()(L="".concat(f._toUnderScore(w),": ")).call(L,p))}),c.join(";")}},{key:"_toUnderScore",value:function(l){return l.replace(/([A-Z])/g,function(f,c){return"-".concat(c.toLowerCase())})}},{key:"_loadDefaultSvgIcon",value:function(){if(!document.getElementById("tui-image-editor-svg-default-icons")){var l=new DOMParser,f=un.replace(/data:image\/svg\+xml;base64,/,""),c=l.parseFromString(atob(f),"text/xml");document.body.appendChild(c.documentElement)}}},{key:"_makeIconClassName",value:function(l,f){var p=this.getStyle(f?"submenu.icon":"menu.icon")[l];return p.path&&p.name?l:"".concat(l," use-default")}},{key:"_makeSvgIconPrefix",value:function(l,f){var c,w=this.getStyle(f?"submenu.icon":"menu.icon")[l],E=w.path,L=w.name;return E&&L?$()(c="".concat(E,"#")).call(c,L,"-"):"#"}},{key:"_makeSvgItem",value:function(l,f,c){var p=this;return hi()(l).call(l,function(w){var E,L,k=p._makeSvgIconPrefix(w,c),Y=p._toUnderScore(f),X=p._makeIconClassName(w,c);return $()(E=$()(L='<use xlink:href="'.concat(k,"ic-")).call(L,Y,'" class="')).call(E,X,'"/>')}).join("")}},{key:"makeMenSvgIconSet",value:function(l,f){var c,p=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return $()(c='<svg class="svg_ic-'.concat(p?"submenu":"menu",'">')).call(c,this._makeSvgItem(l,f,p),"</svg>")}}]),O}(),Ko=ia,In=q(9146),Fe=q.n(In),qo=q(6623),Ki=q(4230);function dn(O,_){return(dn=Ki||function(f,c){return f.__proto__=c,f})(O,_)}function kt(O,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");O.prototype=qo(_&&_.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),_&&dn(O,_)}var na=q(3742);function eo(O){return(eo="function"==typeof C&&"symbol"==typeof na?function(l){return typeof l}:function(l){return l&&"function"==typeof C&&l.constructor===C&&l!==C.prototype?"symbol":typeof l})(O)}function Mt(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function Et(O,_){if(_&&("object"===eo(_)||"function"==typeof _))return _;if(void 0!==_)throw new TypeError("Derived constructors may only return object or undefined");return Mt(O)}var to=q(9856);function ut(O){return(ut=Ki?to:function(l){return l.__proto__||to(l)})(O)}var er=q(6092),fn=q.n(er),oa=q(4858),ra=q.n(oa),tr=["#000000","#2a2a2a","#545454","#7e7e7e","#a8a8a8","#d2d2d2","#ffffff","","#ff4040","#ff6518","#ffbb3b","#03bd9e","#00a9ff","#515ce6","#9e5fff","#ff5583"],io=function(){function O(_,l){var f=l.defaultColor,c=void 0===f?"#7e7e7e":f,p=l.toggleDirection,w=void 0===p?"up":p,E=l.usageStatistics;ee(this,O),this.colorpickerElement=_,this.usageStatistics=E,this._show=!1,this._colorpickerElement=_,this._toggleDirection=w,this._makePickerButtonElement(c),this._makePickerLayerElement(_,_.getAttribute("title")),this._color=c,this.picker=ra().create({container:this.pickerElement,preset:tr,color:c,usageStatistics:this.usageStatistics}),this._addEvent()}return ge(O,[{key:"destroy",value:function(){var l=this;this._removeEvent(),this.picker.destroy(),this.colorpickerElement.innerHTML="",ne()(this,function(f,c){l[c]=null})}},{key:"color",get:function(){return this._color},set:function(l){this._color=l,this._changeColorElement(l)}},{key:"_changeColorElement",value:function(l){l?(this.colorElement.classList.remove("transparent"),this.colorElement.style.backgroundColor=l):(this.colorElement.style.backgroundColor="#fff",this.colorElement.classList.add("transparent"))}},{key:"_makePickerButtonElement",value:function(l){this.colorpickerElement.classList.add("tui-image-editor-button"),this.colorElement=document.createElement("div"),this.colorElement.className="color-picker-value",l?this.colorElement.style.backgroundColor=l:this.colorElement.classList.add("transparent")}},{key:"_makePickerLayerElement",value:function(l,f){var c=document.createElement("label"),p=document.createElement("div");this.pickerControl=document.createElement("div"),this.pickerControl.className="color-picker-control",this.pickerElement=document.createElement("div"),this.pickerElement.className="color-picker",c.innerHTML=f,p.className="triangle",this.pickerControl.appendChild(this.pickerElement),this.pickerControl.appendChild(p),l.appendChild(this.pickerControl),l.appendChild(this.colorElement),l.appendChild(c)}},{key:"_addEvent",value:function(){var f,l=this;this.picker.on("selectColor",function(c){l._changeColorElement(c.color),l._color=c.color,l.fire("change",c.color)}),this.eventHandler={pickerToggle:le()(f=this._pickerToggleEventHandler).call(f,this),pickerHide:function(){return l.hide()}},this.colorpickerElement.addEventListener("click",this.eventHandler.pickerToggle),document.body.addEventListener("click",this.eventHandler.pickerHide)}},{key:"_removeEvent",value:function(){this.colorpickerElement.removeEventListener("click",this.eventHandler.pickerToggle),document.body.removeEventListener("click",this.eventHandler.pickerHide),this.picker.off()}},{key:"_pickerToggleEventHandler",value:function(l){var f=l.target,c=f&&this._isElementInColorPickerControl(f);(!c||c&&this._isPaletteButton(f))&&(this._show=!this._show,this.pickerControl.style.display=this._show?"block":"none",this._setPickerControlPosition(),this.fire("changeShow",this)),l.stopPropagation()}},{key:"_isPaletteButton",value:function(l){return"tui-colorpicker-palette-button"===l.className}},{key:"_isElementInColorPickerControl",value:function(l){for(var f=l;f!==document.body&&f;){if(f===this.pickerControl)return!0;f=f.parentNode}return!1}},{key:"hide",value:function(){this._show=!1,this.pickerControl.style.display="none"}},{key:"_setPickerControlPosition",value:function(){var l=this.pickerControl.style,c=this.pickerControl.offsetWidth/2-(this._colorpickerElement.clientWidth/2+2),p=-1*(this.pickerControl.offsetHeight+10);"down"===this._toggleDirection&&(p=30),l.top="".concat(p,"px"),l.left="-".concat(c,"px")}}]),O}();Te().mixin(io);var Bi=io,ir=/(-?)([0-9]*)[^0-9]*([0-9]*)/g,no=function(){function O(_){var l,f,c,p,w,E,L,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ee(this,O),this._value=k.value||0,this.rangeElement=_.slider,this.rangeInputElement=_.input,this._drawRangeElement(),this.rangeWidth=this._getRangeWidth(),this._min=k.min||0,this._max=k.max||100,this._useDecimal=k.useDecimal,this._absMax=-1*this._min+this._max,this.realTimeEvent=k.realTimeEvent||!1,this._userInputTimer=null,this.eventHandler={startChangingSlide:le()(l=this._startChangingSlide).call(l,this),stopChangingSlide:le()(f=this._stopChangingSlide).call(f,this),changeSlide:le()(c=this._changeSlide).call(c,this),changeSlideFinally:le()(p=this._changeSlideFinally).call(p,this),changeInput:le()(w=this._changeInput).call(w,this),changeInputFinally:le()(E=this._changeValueWithInput).call(E,this,!0),changeInputWithArrow:le()(L=this._changeValueWithInputKeyEvent).call(L,this)},this._addClickEvent(),this._addDragEvent(),this._addInputEvent(),this.value=k.value,this.trigger("change")}return ge(O,[{key:"destroy",value:function(){var l=this;this._removeClickEvent(),this._removeDragEvent(),this._removeInputEvent(),this.rangeElement.innerHTML="",ne()(this,function(f,c){l[c]=null})}},{key:"max",get:function(){return this._max},set:function(l){this._max=l,this._absMax=-1*this._min+this._max,this.value=this._value}},{key:"min",get:function(){return this._min},set:function(l){this._min=l,this.max=this._max}},{key:"value",get:function(){return this._value},set:function(l){var c=((l=this._useDecimal?l:Je(l))-this._min)*this.rangeWidth/this._absMax;this.rangeWidth<c&&(c=this.rangeWidth),this.pointer.style.left="".concat(c,"px"),this.subbar.style.right="".concat(this.rangeWidth-c,"px"),this._value=l,this.rangeInputElement&&(this.rangeInputElement.value=l)}},{key:"trigger",value:function(l){this.fire(l,this._value)}},{key:"_getRangeWidth",value:function(){var l=function(c){return Je(window.getComputedStyle(c,null).width)};return l(this.rangeElement)-l(this.pointer)}},{key:"_drawRangeElement",value:function(){this.rangeElement.classList.add("tui-image-editor-range"),this.bar=document.createElement("div"),this.bar.className="tui-image-editor-virtual-range-bar",this.subbar=document.createElement("div"),this.subbar.className="tui-image-editor-virtual-range-subbar",this.pointer=document.createElement("div"),this.pointer.className="tui-image-editor-virtual-range-pointer",this.bar.appendChild(this.subbar),this.bar.appendChild(this.pointer),this.rangeElement.appendChild(this.bar)}},{key:"_addInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.addEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_removeInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.removeEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_changeValueWithInputKeyEvent",value:function(l){var f,c=l.keyCode,p=l.target;if(!(y()(f=[Vt_ARROW_UP,Vt_ARROW_DOWN]).call(f,c)<0)){var w=Number(p.value);if(!((w=this._valueUpDownForKeyEvent(w,c))<this._min||w>this._max)){var L=Ct(w,this._min,this.max);this.value=L,this.fire("change",L,!1)}}}},{key:"_valueUpDownForKeyEvent",value:function(l,f){var c=this._useDecimal?.1:1;return f===Vt_ARROW_UP?l+=c:f===Vt_ARROW_DOWN&&(l-=c),l}},{key:"_changeInput",value:function(l){var f=this;clearTimeout(this._userInputTimer);var c=l.keyCode;c<Vt_DIGIT_0||c>Vt_DIGIT_9?l.preventDefault():this._userInputTimer=r()(function(){f._inputSetValue(l.target.value)},350)}},{key:"_inputSetValue",value:function(l){var f=this._useDecimal?Number(l):Je(l);f=Ct(f,this._min,this.max),this.value=f,this.fire("change",f,!0)}},{key:"_changeValueWithInput",value:function(l,f){var c,p=f.keyCode,w=f.target;if(!(y()(c=[Vt_ARROW_UP,Vt_ARROW_DOWN]).call(c,p)>=0)){var E=this._filterForInputText(w.value),L=!E||isNaN(E);w.value=E,L||this._inputSetValue(E)}}},{key:"_addClickEvent",value:function(){this.rangeElement.addEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_removeClickEvent",value:function(){this.rangeElement.removeEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_addDragEvent",value:function(){this.pointer.addEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_removeDragEvent",value:function(){this.pointer.removeEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_changeSlide",value:function(l){var p=this.firstLeft+(l.screenX-this.firstPosition);this.pointer.style.left="".concat(p=(p=p>this.rangeWidth?this.rangeWidth:p)<0?0:p,"px"),this.subbar.style.right="".concat(this.rangeWidth-p,"px");var E=this._absMax*(p/this.rangeWidth)+this._min,L=this._useDecimal?E:Je(E);this.value!==L&&(this.value=L,this.realTimeEvent&&this.fire("change",this._value,!1))}},{key:"_changeSlideFinally",value:function(l){if(l.stopPropagation(),"tui-image-editor-range"===l.target.className){var c=l.offsetX/this.rangeWidth,p=this._absMax*c+this._min;this.pointer.style.left="".concat(c*this.rangeWidth,"px"),this.subbar.style.right="".concat((1-c)*this.rangeWidth,"px"),this.value=p,this.fire("change",p,!0)}}},{key:"_startChangingSlide",value:function(l){this.firstPosition=l.screenX,this.firstLeft=Je(this.pointer.style.left)||0,document.addEventListener("mousemove",this.eventHandler.changeSlide),document.addEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_stopChangingSlide",value:function(){this.fire("change",this._value,!0),document.removeEventListener("mousemove",this.eventHandler.changeSlide),document.removeEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_filterForInputText",value:function(l){return l.replace(ir,"$1$2$3")}}]),O}();Te().mixin(no);var gi=no,En=function(){function O(_,l){var f=l.locale,c=l.name,p=l.makeSvgIcon,w=l.menuBarPosition,E=l.templateHtml,L=l.usageStatistics;ee(this,O),this.subMenuElement=_,this.menuBarPosition=w,this.toggleDirection="top"===w?"down":"up",this.colorPickerControls=[],this.usageStatistics=L,this.eventHandler={},this._makeSubMenuElement({locale:f,name:c,makeSvgIcon:p,templateHtml:E})}return ge(O,[{key:"selector",value:function(l){return this.subMenuElement.querySelector(l)}},{key:"colorPickerChangeShow",value:function(l){var f;at()(f=this.colorPickerControls).call(f,function(c){l!==c&&c.hide()})}},{key:"getButtonType",value:function(l,f){return l.className.match(RegExp("(".concat(f.join("|"),")")))[0]}},{key:"changeClass",value:function(l,f,c){l.classList.remove(f),l.classList.add(c)}},{key:"changeStandbyMode",value:function(){}},{key:"changeStartMode",value:function(){}},{key:"_makeSubMenuElement",value:function(l){var f=l.locale,c=l.name,p=l.iconStyle,w=l.makeSvgIcon,E=l.templateHtml,L=document.createElement("div");L.className="tui-image-editor-menu-".concat(c),L.innerHTML=E({locale:f,iconStyle:p,makeSvgIcon:w}),this.subMenuElement.appendChild(L)}},{key:"_onStartEditingInputBox",value:function(){this.fire(He.INPUT_BOX_EDITING_STARTED)}},{key:"_onStopEditingInputBox",value:function(){this.fire(He.INPUT_BOX_EDITING_STOPPED)}}]),O}();Te().mixin(En);var bi=En,oi=function(O){var _,l,f,c,p,w,E,L,k=O.locale,Y=O.makeSvgIcon;return $()(_=$()(l=$()(f=$()(c=$()(p=$()(w=$()(E=$()(L='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-shape-button">\n            <div class="tui-image-editor-button rect">\n                <div>\n                    '.concat(Y(["normal","active"],"shape-rectangle",!0),"\n                </div>\n                <label> ")).call(L,k.localize("Rectangle"),' </label>\n            </div>\n            <div class="tui-image-editor-button circle">\n                <div>\n                    ')).call(E,Y(["normal","active"],"shape-circle",!0),"\n                </div>\n                <label> ")).call(w,k.localize("Circle"),' </label>\n            </div>\n            <div class="tui-image-editor-button triangle">\n                <div>\n                    ')).call(p,Y(["normal","active"],"shape-triangle",!0),"\n                </div>\n                <label> ")).call(c,k.localize("Triangle"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-shape-color-button">\n            <div class="tie-color-fill" title="')).call(f,k.localize("Fill"),'"></div>\n            <div class="tie-color-stroke" title="')).call(l,k.localize("Stroke"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(_,k.localize("Stroke"),'</label>\n            <div class="tie-stroke-range"></div>\n            <input class="tie-stroke-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function oo(O){var _=function Hc(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var Pc={stroke:"#ffbb3b",fill:"",strokeWidth:3},Rc=function(O){kt(l,O);var _=oo(l);function l(f,c){var p,w=c.locale,E=c.makeSvgIcon,L=c.menuBarPosition,k=c.usageStatistics;return ee(this,l),(p=_.call(this,f,{locale:w,name:"shape",makeSvgIcon:E,menuBarPosition:L,templateHtml:oi,usageStatistics:k})).type=null,p.options=Pc,p._els={shapeSelectButton:p.selector(".tie-shape-button"),shapeColorButton:p.selector(".tie-shape-color-button"),strokeRange:new gi({slider:p.selector(".tie-stroke-range"),input:p.selector(".tie-stroke-range-value")},yt),fillColorpicker:new Bi(p.selector(".tie-color-fill"),{defaultColor:"",toggleDirection:p.toggleDirection,usageStatistics:p.usageStatistics}),strokeColorpicker:new Bi(p.selector(".tie-color-stroke"),{defaultColor:"#ffbb3b",toggleDirection:p.toggleDirection,usageStatistics:p.usageStatistics})},p.colorPickerControls.push(p._els.fillColorpicker),p.colorPickerControls.push(p._els.strokeColorpicker),p.colorPickerInputBoxes=[],p.colorPickerInputBoxes.push(p._els.fillColorpicker.colorpickerElement.querySelector(Pt.COLOR_PICKER_INPUT_BOX)),p.colorPickerInputBoxes.push(p._els.strokeColorpicker.colorpickerElement.querySelector(Pt.COLOR_PICKER_INPUT_BOX)),p}return ge(l,[{key:"destroy",value:function(){this._removeEvent(),this._els.strokeRange.destroy(),this._els.fillColorpicker.destroy(),this._els.strokeColorpicker.destroy(),_i(this)}},{key:"addEvent",value:function(c){var p,w,E,L,k,Y,X=this;this.eventHandler.shapeTypeSelected=le()(p=this._changeShapeHandler).call(p,this),this.actions=c,this._els.shapeSelectButton.addEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.on("change",le()(w=this._changeStrokeRangeHandler).call(w,this)),this._els.fillColorpicker.on("change",le()(E=this._changeFillColorHandler).call(E,this)),this._els.strokeColorpicker.on("change",le()(L=this._changeStrokeColorHandler).call(L,this)),this._els.fillColorpicker.on("changeShow",le()(k=this.colorPickerChangeShow).call(k,this)),this._els.strokeColorpicker.on("changeShow",le()(Y=this.colorPickerChangeShow).call(Y,this)),fn()(this.colorPickerInputBoxes,function(pe){var ve,we;pe.addEventListener(He.FOCUS,le()(ve=X._onStartEditingInputBox).call(ve,X)),pe.addEventListener(He.BLUR,le()(we=X._onStopEditingInputBox).call(we,X))},this)}},{key:"_removeEvent",value:function(){var c=this;this._els.shapeSelectButton.removeEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.off(),this._els.fillColorpicker.off(),this._els.strokeColorpicker.off(),fn()(this.colorPickerInputBoxes,function(p){var w,E;p.removeEventListener(He.FOCUS,le()(w=c._onStartEditingInputBox).call(w,c)),p.removeEventListener(He.BLUR,le()(E=c._onStopEditingInputBox).call(E,c))},this)}},{key:"setShapeStatus",value:function(c){var p=c.strokeWidth,w=c.strokeColor,E=c.fillColor;this._els.strokeRange.value=p,this._els.strokeColorpicker.color=w,this._els.fillColorpicker.color=E,this.options.stroke=w,this.options.fill=E,this.options.strokeWidth=p,this.actions.setDrawingShape(this.type,{strokeWidth:p})}},{key:"changeStartMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.changeSelectableAll(!0),this._els.shapeSelectButton.classList.remove("circle"),this._els.shapeSelectButton.classList.remove("triangle"),this._els.shapeSelectButton.classList.remove("rect")}},{key:"setMaxStrokeValue",value:function(c){var p=c;p<=0&&(p=yt.max),this._els.strokeRange.max=p}},{key:"setStrokeValue",value:function(c){this._els.strokeRange.value=c,this._els.strokeRange.trigger("change")}},{key:"getStrokeValue",value:function(){return this._els.strokeRange.value}},{key:"_changeShapeHandler",value:function(c){var p=c.target.closest(".tui-image-editor-button");if(p){this.actions.stopDrawingMode(),this.actions.discardSelection();var w=this.getButtonType(p,["circle","triangle","rect"]);if(this.type===w)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=w,c.currentTarget.classList.add(w),this.actions.changeSelectableAll(!1),this.actions.modeChange("shape")}}},{key:"_changeStrokeRangeHandler",value:function(c,p){this.options.strokeWidth=Je(c),this.actions.changeShape({strokeWidth:c},!p),this.actions.setDrawingShape(this.type,this.options)}},{key:"_changeFillColorHandler",value:function(c){this.options.fill=c=c||"transparent",this.actions.changeShape({fill:c})}},{key:"_changeStrokeColorHandler",value:function(c){this.options.stroke=c=c||"transparent",this.actions.changeShape({stroke:c})}}]),l}(bi),Bc=function(O){var _,l,f,c,p,w,E,L,k,Y,X,pe,ve,we,ze,Se,Ze,ft=O.locale,pt=O.makeSvgIcon;return $()(_=$()(l=$()(f=$()(c=$()(p=$()(w=$()(E=$()(L=$()(k=$()(Y=$()(X=$()(pe=$()(ve=$()(we=$()(ze=$()(Se=$()(Ze='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-crop-preset-button">\n            <div class="tui-image-editor-button preset preset-none active">\n                <div>\n                    '.concat(pt(["normal","active"],"shape-rectangle",!0),"\n                </div>\n                <label> ")).call(Ze,ft.localize("Custom"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-square">\n                <div>\n                    ')).call(Se,pt(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(ze,ft.localize("Square"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-3-2">\n                <div>\n                    ')).call(we,pt(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(ve,ft.localize("3:2"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-4-3">\n                <div>\n                    ')).call(pe,pt(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(X,ft.localize("4:3"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-5-4">\n                <div>\n                    ')).call(Y,pt(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(k,ft.localize("5:4"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-7-5">\n                <div>\n                    ')).call(L,pt(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(E,ft.localize("7:5"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-16-9">\n                <div>\n                    ')).call(w,pt(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(p,ft.localize("16:9"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline">\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-crop-button action">\n            <div class="tui-image-editor-button apply">\n                ')).call(c,pt(["normal","active"],"apply"),"\n                <label>\n                    ")).call(f,ft.localize("Apply"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                ')).call(l,pt(["normal","active"],"cancel"),"\n                <label>\n                    ")).call(_,ft.localize("Cancel"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function Vc(O){var _=function jc(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var Yc=function(O){kt(l,O);var _=Vc(l);function l(f,c){var p,w=c.locale,E=c.makeSvgIcon,L=c.menuBarPosition,k=c.usageStatistics;return ee(this,l),(p=_.call(this,f,{locale:w,name:"crop",makeSvgIcon:E,menuBarPosition:L,templateHtml:Bc,usageStatistics:k})).status="active",p._els={apply:p.selector(".tie-crop-button .apply"),cancel:p.selector(".tie-crop-button .cancel"),preset:p.selector(".tie-crop-preset-button")},p.defaultPresetButton=p._els.preset.querySelector(".preset-none"),p}return ge(l,[{key:"destroy",value:function(){this._removeEvent(),_i(this)}},{key:"addEvent",value:function(c){var p,w,E,L=le()(p=this._applyEventHandler).call(p,this),k=le()(w=this._cancelEventHandler).call(w,this),Y=le()(E=this._cropzonePresetEventHandler).call(E,this);this.eventHandler={apply:L,cancel:k,cropzonePreset:Y},this.actions=c,this._els.apply.addEventListener("click",L),this._els.cancel.addEventListener("click",k),this._els.preset.addEventListener("click",Y)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel),this._els.preset.removeEventListener("click",this.eventHandler.cropzonePreset)}},{key:"_applyEventHandler",value:function(){this.actions.crop(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.cancel(),this._els.apply.classList.remove("active")}},{key:"_cropzonePresetEventHandler",value:function(c){var p=c.target.closest(".tui-image-editor-button.preset");if(p){var L=ye(p.className.match(/preset-[^\s]+/),1)[0];this._setPresetButtonActive(p),this.actions.preset(L)}}},{key:"changeStartMode",value:function(){this.actions.modeChange("crop")}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this._setPresetButtonActive()}},{key:"changeApplyButtonStatus",value:function(c){c?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}},{key:"_setPresetButtonActive",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultPresetButton;ne()(this._els.preset.querySelectorAll(".preset"),function(p){p.classList.remove("active")}),c&&c.classList.add("active")}}]),l}(bi),Uc=Yc,Gc=function(O){var _,l,f,c,p,w,E=O.locale,L=O.makeSvgIcon;return $()(_=$()(l=$()(f=$()(c=$()(p=$()(w='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-range-wrap tui-image-editor-newline">\n                <label class="range">'.concat(E.localize("Width"),'&nbsp;</label>\n                <div class="tie-width-range"></div>\n                <input class="tie-width-range-value tui-image-editor-range-value" value="0" /> <label>px</label>\n                <div class="tui-image-editor-partition tui-image-editor-newline"></div>\n                <label class="range">')).call(w,E.localize("Height"),'</label>\n                <div class="tie-height-range"></div>\n                <input class="tie-height-range-value tui-image-editor-range-value" value="0" /> <label>px</label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-lock-aspect-ratio">\n                        <span>')).call(p,E.localize("Lock Aspect Ratio"),'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tie-resize-button action">\n            <div class="tui-image-editor-button apply">\n                ')).call(c,L(["normal","active"],"apply"),"\n                <label>\n                    ")).call(f,E.localize("Apply"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                ')).call(l,L(["normal","active"],"cancel"),"\n                <label>\n                    ")).call(_,E.localize("Cancel"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function Wc(O){var _=function Zc(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var Xc=function(O){kt(l,O);var _=Wc(l);function l(f,c){var p,w=c.locale,E=c.makeSvgIcon,L=c.menuBarPosition,k=c.usageStatistics;return ee(this,l),(p=_.call(this,f,{locale:w,name:"resize",makeSvgIcon:E,menuBarPosition:L,templateHtml:Gc,usageStatistics:k})).status="active",p._lockState=!1,p._originalDimensions=null,p._els={widthRange:new gi({slider:p.selector(".tie-width-range"),input:p.selector(".tie-width-range-value")},ki),heightRange:new gi({slider:p.selector(".tie-height-range"),input:p.selector(".tie-height-range-value")},ki),lockAspectRatio:p.selector(".tie-lock-aspect-ratio"),apply:p.selector(".tie-resize-button .apply"),cancel:p.selector(".tie-resize-button .cancel")},p}return ge(l,[{key:"changeStartMode",value:function(){this.actions.modeChange("resize");var c=this.actions.getCurrentDimensions();this._originalDimensions=c,this.setWidthValue(c.width),this.setHeightValue(c.height)}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this.actions.reset(!0)}},{key:"setLimit",value:function(c){this._els.widthRange.min=this.calcMinValue(c.minWidth),this._els.heightRange.min=this.calcMinValue(c.minHeight),this._els.widthRange.max=this.calcMaxValue(c.maxWidth),this._els.heightRange.max=this.calcMaxValue(c.maxHeight)}},{key:"calcMaxValue",value:function(c){return c<=0&&(c=ki.max),c}},{key:"calcMinValue",value:function(c){return c<=0&&(c=ki.min),c}},{key:"setWidthValue",value:function(c){var p=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.widthRange.value=c,p&&this._els.widthRange.trigger("change")}},{key:"setHeightValue",value:function(c){var p=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.heightRange.value=c,p&&this._els.heightRange.trigger("change")}},{key:"destroy",value:function(){this._removeEvent(),_i(this)}},{key:"addEvent",value:function(c){var p,w,E,L,k;this._els.widthRange.on("change",le()(p=this._changeWidthRangeHandler).call(p,this)),this._els.heightRange.on("change",le()(w=this._changeHeightRangeHandler).call(w,this)),this._els.lockAspectRatio.addEventListener("change",le()(E=this._changeLockAspectRatio).call(E,this));var Y=le()(L=this._applyEventHandler).call(L,this),X=le()(k=this._cancelEventHandler).call(k,this);this.eventHandler={apply:Y,cancel:X},this.actions=c,this._els.apply.addEventListener("click",Y),this._els.cancel.addEventListener("click",X)}},{key:"_changeWidthRangeHandler",value:function(c){this.actions.preview("width",Je(c),this._lockState)}},{key:"_changeHeightRangeHandler",value:function(c){this.actions.preview("height",Je(c),this._lockState)}},{key:"_changeLockAspectRatio",value:function(c){this._lockState=c.target.checked,this.actions.lockAspectRatio(this._lockState,ki.min,ki.max)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel)}},{key:"_applyEventHandler",value:function(){this.actions.resize(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.reset(),this._els.cancel.classList.remove("active")}},{key:"changeApplyButtonStatus",value:function(c){c?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}}]),l}(bi),ro=Xc,Li=function(O){var _,l,f,c,p,w=O.locale,E=O.makeSvgIcon;return $()(_=$()(l=$()(f=$()(c=$()(p='\n    <ul class="tie-flip-button tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button flipX">\n                <div>\n                    '.concat(E(["normal","active"],"flip-x",!0),"\n                </div>\n                <label>\n                    ")).call(p,w.localize("Flip X"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button flipY">\n                <div>\n                    ')).call(c,E(["normal","active"],"flip-y",!0),"\n                </div>\n                <label>\n                    ")).call(f,w.localize("Flip Y"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tui-image-editor-button resetFlip">\n                <div>\n                    ')).call(l,E(["normal","active"],"flip-reset",!0),"\n                </div>\n                <label>\n                    ")).call(_,w.localize("Reset"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function Ii(O){var _=function nr(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var aa=function(O){kt(l,O);var _=Ii(l);function l(f,c){var p,w=c.locale,E=c.makeSvgIcon,L=c.menuBarPosition,k=c.usageStatistics;return ee(this,l),(p=_.call(this,f,{locale:w,name:"flip",makeSvgIcon:E,menuBarPosition:L,templateHtml:Li,usageStatistics:k})).flipStatus=!1,p._els={flipButton:p.selector(".tie-flip-button")},p}return ge(l,[{key:"destroy",value:function(){this._removeEvent(),_i(this)}},{key:"addEvent",value:function(c){var p;this.eventHandler.changeFlip=le()(p=this._changeFlip).call(p,this),this._actions=c,this._els.flipButton.addEventListener("click",this.eventHandler.changeFlip)}},{key:"_removeEvent",value:function(){this._els.flipButton.removeEventListener("click",this.eventHandler.changeFlip)}},{key:"_changeFlip",value:function(c){var p=this,w=c.target.closest(".tui-image-editor-button");if(w){var E=this.getButtonType(w,["flipX","flipY","resetFlip"]);if(!this.flipStatus&&"resetFlip"===E)return;this._actions.flip(E).then(function(L){var k=p._els.flipButton.classList;p.flipStatus=!1,k.remove("resetFlip"),ne()(["flipX","flipY"],function(Y){k.remove(Y),L[Y]&&(k.add(Y),k.add("resetFlip"),p.flipStatus=!0)})})}}}]),l}(bi),rr=function(O){var _,l,f=O.locale,c=O.makeSvgIcon;return $()(_=$()(l='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-rotate-button">\n            <div class="tui-image-editor-button clockwise">\n                <div>\n                    '.concat(c(["normal","active"],"rotate-clockwise",!0),'\n                </div>\n                <label> 30 </label>\n            </div>\n            <div class="tui-image-editor-button counterclockwise">\n                <div>\n                    ')).call(l,c(["normal","active"],"rotate-counterclockwise",!0),'\n                </div>\n                <label> -30 </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(_,f.localize("Range"),'</label>\n            <div class="tie-rotate-range"></div>\n            <input class="tie-rotate-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function xi(O){var _=function ao(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var sr=function(O){kt(l,O);var _=xi(l);function l(f,c){var p,w=c.locale,E=c.makeSvgIcon,L=c.menuBarPosition,k=c.usageStatistics;return ee(this,l),(p=_.call(this,f,{locale:w,name:"rotate",makeSvgIcon:E,menuBarPosition:L,templateHtml:rr,usageStatistics:k}))._value=0,p._els={rotateButton:p.selector(".tie-rotate-button"),rotateRange:new gi({slider:p.selector(".tie-rotate-range"),input:p.selector(".tie-rotate-range-value")},Zn)},p}return ge(l,[{key:"destroy",value:function(){this._removeEvent(),this._els.rotateRange.destroy(),_i(this)}},{key:"setRangeBarAngle",value:function(c,p){var w=p;"rotate"===c&&(w=Ie()(this._els.rotateRange.value,10)+p),this._setRangeBarRatio(w)}},{key:"_setRangeBarRatio",value:function(c){this._els.rotateRange.value=c}},{key:"addEvent",value:function(c){var p,w;this.eventHandler.rotationAngleChanged=le()(p=this._changeRotateForButton).call(p,this),this.actions=c,this._els.rotateButton.addEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.on("change",le()(w=this._changeRotateForRange).call(w,this))}},{key:"_removeEvent",value:function(){this._els.rotateButton.removeEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.off()}},{key:"_changeRotateForRange",value:function(c,p){var w=Je(c);this.actions.setAngle(w,!p),this._value=w}},{key:"_changeRotateForButton",value:function(c){var p=c.target.closest(".tui-image-editor-button"),w=this._els.rotateRange.value;if(p){var L={clockwise:30,counterclockwise:-30}[this.getButtonType(p,["counterclockwise","clockwise"])],k=Ie()(w,10)+L;k>=-360&&k<=360&&this.actions.rotate(L)}}}]),l}(bi),On=function(O){var _,l,f,c,p,w,E,L,k,Y,X,pe,ve,we=O.locale,ze=O.makeSvgIcon;return $()(_=$()(l=$()(f=$()(c=$()(p=$()(w=$()(E=$()(L=$()(k=$()(Y=$()(X=$()(pe=$()(ve='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-text-effect-button">\n            <div class="tui-image-editor-button bold">\n                <div>\n                    '.concat(ze(["normal","active"],"text-bold",!0),"\n                </div>\n                <label> ")).call(ve,we.localize("Bold"),' </label>\n            </div>\n            <div class="tui-image-editor-button italic">\n                <div>\n                    ')).call(pe,ze(["normal","active"],"text-italic",!0),"\n                </div>\n                <label> ")).call(X,we.localize("Italic"),' </label>\n            </div>\n            <div class="tui-image-editor-button underline">\n                <div>\n                    ')).call(Y,ze(["normal","active"],"text-underline",!0),"\n                </div>\n                <label> ")).call(k,we.localize("Underline"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-text-align-button">\n            <div class="tui-image-editor-button left">\n                <div>\n                    ')).call(L,ze(["normal","active"],"text-align-left",!0),"\n                </div>\n                <label> ")).call(E,we.localize("Left"),' </label>\n            </div>\n            <div class="tui-image-editor-button center">\n                <div>\n                    ')).call(w,ze(["normal","active"],"text-align-center",!0),"\n                </div>\n                <label> ")).call(p,we.localize("Center"),' </label>\n            </div>\n            <div class="tui-image-editor-button right">\n                <div>\n                    ')).call(c,ze(["normal","active"],"text-align-right",!0),"\n                </div>\n                <label> ")).call(f,we.localize("Right"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-text-color" title="')).call(l,we.localize("Color"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(_,we.localize("Text size"),'</label>\n            <div class="tie-text-range"></div>\n            <input class="tie-text-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function ca(O){var _=function la(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var ha=function(O){kt(l,O);var _=ca(l);function l(f,c){var p,w=c.locale,E=c.makeSvgIcon,L=c.menuBarPosition,k=c.usageStatistics;return ee(this,l),(p=_.call(this,f,{locale:w,name:"text",makeSvgIcon:E,menuBarPosition:L,templateHtml:On,usageStatistics:k})).effect={bold:!1,italic:!1,underline:!1},p.align="tie-text-align-left",p._els={textEffectButton:p.selector(".tie-text-effect-button"),textAlignButton:p.selector(".tie-text-align-button"),textColorpicker:new Bi(p.selector(".tie-text-color"),{defaultColor:"#ffbb3b",toggleDirection:p.toggleDirection,usageStatistics:p.usageStatistics}),textRange:new gi({slider:p.selector(".tie-text-range"),input:p.selector(".tie-text-range-value")},Xn)},p.colorPickerInputBox=p._els.textColorpicker.colorpickerElement.querySelector(Pt.COLOR_PICKER_INPUT_BOX),p}return ge(l,[{key:"destroy",value:function(){this._removeEvent(),this._els.textColorpicker.destroy(),this._els.textRange.destroy(),_i(this)}},{key:"addEvent",value:function(c){var p,w,E,L,k,Y,X=le()(p=this._setTextEffectHandler).call(p,this),pe=le()(w=this._setTextAlignHandler).call(w,this);this.eventHandler={setTextEffect:X,setTextAlign:pe},this.actions=c,this._els.textEffectButton.addEventListener("click",X),this._els.textAlignButton.addEventListener("click",pe),this._els.textRange.on("change",le()(E=this._changeTextRnageHandler).call(E,this)),this._els.textColorpicker.on("change",le()(L=this._changeColorHandler).call(L,this)),this.colorPickerInputBox.addEventListener(He.FOCUS,le()(k=this._onStartEditingInputBox).call(k,this)),this.colorPickerInputBox.addEventListener(He.BLUR,le()(Y=this._onStopEditingInputBox).call(Y,this))}},{key:"_removeEvent",value:function(){var c,p,w=this.eventHandler,L=w.setTextAlign;this._els.textEffectButton.removeEventListener("click",w.setTextEffect),this._els.textAlignButton.removeEventListener("click",L),this._els.textRange.off(),this._els.textColorpicker.off(),this.colorPickerInputBox.removeEventListener(He.FOCUS,le()(c=this._onStartEditingInputBox).call(c,this)),this.colorPickerInputBox.removeEventListener(He.BLUR,le()(p=this._onStopEditingInputBox).call(p,this))}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStartMode",value:function(){this.actions.modeChange("text")}},{key:"textColor",get:function(){return this._els.textColorpicker.color},set:function(c){this._els.textColorpicker.color=c}},{key:"fontSize",get:function(){return this._els.textRange.value},set:function(c){this._els.textRange.value=c}},{key:"fontStyle",get:function(){return this.effect.italic?"italic":"normal"}},{key:"fontWeight",get:function(){return this.effect.bold?"bold":"normal"}},{key:"underline",get:function(){return this.effect.underline}},{key:"setTextStyleStateOnAction",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=Oe()(c),w=c.fontSize,E=c.fontStyle,L=c.fontWeight,k=c.textDecoration,Y=c.textAlign;this.textColor=p,this.fontSize=w,this.setEffectState("italic",E),this.setEffectState("bold",L),this.setEffectState("underline",k),this.setAlignState("tie-text-align-".concat(Y))}},{key:"setEffectState",value:function(c,p){var w="italic"===p||"bold"===p||"underline"===p,E=this._els.textEffectButton.querySelector(".tui-image-editor-button.".concat(c));this.effect[c]=w,E.classList[w?"add":"remove"]("active")}},{key:"setAlignState",value:function(c){var p=this._els.textAlignButton;p.classList.remove(this.align),p.classList.add(c),this.align=c}},{key:"_setTextEffectHandler",value:function(c){var p=c.target.closest(".tui-image-editor-button");if(p){var L=ye(p.className.match(/(bold|italic|underline)/),1)[0],k={bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},underline:{textDecoration:"underline"}}[L];this.effect[L]=!this.effect[L],p.classList.toggle("active"),this.actions.changeTextStyle(k)}}},{key:"_setTextAlignHandler",value:function(c){var p=c.target.closest(".tui-image-editor-button");if(p){var w=this.getButtonType(p,["left","center","right"]),E="tie-text-align-".concat(w);c.currentTarget.classList.remove(this.align),this.align!==E&&c.currentTarget.classList.add(E),this.actions.changeTextStyle({textAlign:w}),this.align=E}}},{key:"_changeTextRnageHandler",value:function(c,p){this.actions.changeTextStyle({fontSize:c},!p)}},{key:"_changeColorHandler",value:function(c){this.actions.changeTextStyle({fill:c=c||"transparent"})}}]),l}(bi),cr=ha,ua=function(O){var _,l,f,c=O.locale,p=O.makeSvgIcon;return $()(_=$()(l=$()(f='\n    <ul class="tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button">\n                <div>\n                    <input type="file" accept="image/*" class="tie-mask-image-file">\n                    '.concat(p(["normal","active"],"mask-load",!0),"\n                </div>\n                <label> ")).call(f,c.localize("Load Mask Image"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-mask-apply tui-image-editor-newline apply" style="margin-top: 22px;margin-bottom: 5px">\n            <div class="tui-image-editor-button apply">\n                ')).call(l,p(["normal","active"],"apply"),"\n                <label>\n                    ")).call(_,c.localize("Apply"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function da(O){var _=function fa(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var pa=function(O){kt(l,O);var _=da(l);function l(f,c){var p,w=c.locale,E=c.makeSvgIcon,L=c.menuBarPosition,k=c.usageStatistics;return ee(this,l),(p=_.call(this,f,{locale:w,name:"mask",makeSvgIcon:E,menuBarPosition:L,templateHtml:ua,usageStatistics:k}))._els={applyButton:p.selector(".tie-mask-apply"),maskImageButton:p.selector(".tie-mask-image-file")},p}return ge(l,[{key:"destroy",value:function(){this._removeEvent(),_i(this)}},{key:"addEvent",value:function(c){var p,w,E=le()(p=this._loadMaskFile).call(p,this),L=le()(w=this._applyMask).call(w,this);this.eventHandler={loadMaskFile:E,applyMask:L},this.actions=c,this._els.maskImageButton.addEventListener("change",E),this._els.applyButton.addEventListener("click",L)}},{key:"_removeEvent",value:function(){this._els.maskImageButton.removeEventListener("change",this.eventHandler.loadMaskFile),this._els.applyButton.removeEventListener("click",this.eventHandler.applyMask)}},{key:"_applyMask",value:function(){this.actions.applyFilter(),this._els.applyButton.classList.remove("active")}},{key:"_loadMaskFile",value:function(c){var p;li()||alert("This browser does not support file-api");var E=ye(c.target.files,1)[0];E&&(p=he().createObjectURL(E),this.actions.loadImageFromURL(p,E),this._els.applyButton.classList.add("active"))}}]),l}(bi),ga=function(O){var _,l,f,c,p,w,E,L,k,Y,X,pe,ve,we,ze,Se,Ze,ft,pt,vt,Ke=O.locale,Ot=O.makeSvgIcon;return $()(_=$()(l=$()(f=$()(c=$()(p=$()(w=$()(E=$()(L=$()(k=$()(Y=$()(X=$()(pe=$()(ve=$()(we=$()(ze=$()(Se=$()(Ze=$()(ft=$()(pt=$()(vt='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" data-icontype="icon-arrow">\n                <div>\n                    '.concat(Ot(["normal","active"],"icon-arrow",!0),"\n                </div>\n                <label>\n                    ")).call(vt,Ke.localize("Arrow"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-2">\n                <div>\n                    ')).call(pt,Ot(["normal","active"],"icon-arrow-2",!0),"\n                </div>\n                <label>\n                    ")).call(ft,Ke.localize("Arrow-2"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-3">\n                <div>\n                    ')).call(Ze,Ot(["normal","active"],"icon-arrow-3",!0),"\n                </div>\n                <label>\n                    ")).call(Se,Ke.localize("Arrow-3"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star">\n                <div>\n                    ')).call(ze,Ot(["normal","active"],"icon-star",!0),"\n                </div>\n                <label>\n                    ")).call(we,Ke.localize("Star-1"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star-2">\n                <div>\n                    ')).call(ve,Ot(["normal","active"],"icon-star-2",!0),"\n                </div>\n                <label>\n                    ")).call(pe,Ke.localize("Star-2"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-polygon">\n                <div>\n                    ')).call(X,Ot(["normal","active"],"icon-polygon",!0),"\n                </div>\n                <label>\n                    ")).call(Y,Ke.localize("Polygon"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-location">\n                <div>\n                    ')).call(k,Ot(["normal","active"],"icon-location",!0),"\n                </div>\n                <label>\n                    ")).call(L,Ke.localize("Location"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-heart">\n                <div>\n                    ')).call(E,Ot(["normal","active"],"icon-heart",!0),"\n                </div>\n                <label>\n                    ")).call(w,Ke.localize("Heart"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-bubble">\n                <div>\n                    ')).call(p,Ot(["normal","active"],"icon-bubble",!0),"\n                </div>\n                <label>\n                    ")).call(c,Ke.localize("Bubble"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" style="margin:0">\n                <div>\n                    <input type="file" accept="image/*" class="tie-icon-image-file">\n                    ')).call(f,Ot(["normal","active"],"icon-load",!0),"\n                </div>\n                <label>\n                    ")).call(l,Ke.localize("Custom icon"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-icon-color" title="')).call(_,Ke.localize("Color"),'"></div>\n        </li>\n    </ul>\n')};function lr(O){var _=function va(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var ya=function(O){kt(l,O);var _=lr(l);function l(f,c){var p,w=c.locale,E=c.makeSvgIcon,L=c.menuBarPosition,k=c.usageStatistics;return ee(this,l),(p=_.call(this,f,{locale:w,name:"icon",makeSvgIcon:E,menuBarPosition:L,templateHtml:ga,usageStatistics:k})).iconType=null,p._iconMap={},p._els={registerIconButton:p.selector(".tie-icon-image-file"),addIconButton:p.selector(".tie-icon-add-button"),iconColorpicker:new Bi(p.selector(".tie-icon-color"),{defaultColor:"#ffbb3b",toggleDirection:p.toggleDirection,usageStatistics:p.usageStatistics})},p.colorPickerInputBox=p._els.iconColorpicker.colorpickerElement.querySelector(Pt.COLOR_PICKER_INPUT_BOX),p}return ge(l,[{key:"destroy",value:function(){this._removeEvent(),this._els.iconColorpicker.destroy(),_i(this)}},{key:"addEvent",value:function(c){var p,w,E,L,k,Y=le()(p=this._registerIconHandler).call(p,this),X=le()(w=this._addIconHandler).call(w,this);this.eventHandler={registerIcon:Y,addIcon:X},this.actions=c,this._els.iconColorpicker.on("change",le()(E=this._changeColorHandler).call(E,this)),this._els.registerIconButton.addEventListener("change",Y),this._els.addIconButton.addEventListener("click",X),this.colorPickerInputBox.addEventListener(He.FOCUS,le()(L=this._onStartEditingInputBox).call(L,this)),this.colorPickerInputBox.addEventListener(He.BLUR,le()(k=this._onStopEditingInputBox).call(k,this))}},{key:"_removeEvent",value:function(){var c,p;this._els.iconColorpicker.off(),this._els.registerIconButton.removeEventListener("change",this.eventHandler.registerIcon),this._els.addIconButton.removeEventListener("click",this.eventHandler.addIcon),this.colorPickerInputBox.removeEventListener(He.FOCUS,le()(c=this._onStartEditingInputBox).call(c,this)),this.colorPickerInputBox.removeEventListener(He.BLUR,le()(p=this._onStopEditingInputBox).call(p,this))}},{key:"clearIconType",value:function(){this._els.addIconButton.classList.remove(this.iconType),this.iconType=null}},{key:"registerDefaultIcon",value:function(){var c=this;ne()(zn,function(p,w){c.actions.registerDefaultIcons(w,p)})}},{key:"setIconPickerColor",value:function(c){this._els.iconColorpicker.color=c}},{key:"changeStandbyMode",value:function(){this.clearIconType(),this.actions.cancelAddIcon()}},{key:"_changeColorHandler",value:function(c){this.actions.changeColor(c=c||"transparent")}},{key:"_addIconHandler",value:function(c){var p=c.target.closest(".tui-image-editor-button");if(p){var w=p.getAttribute("data-icontype"),E=this._els.iconColorpicker.color;this.actions.discardSelection(),this.actions.changeSelectableAll(!1),this._els.addIconButton.classList.remove(this.iconType),this._els.addIconButton.classList.add(w),this.iconType===w?this.changeStandbyMode():(this.actions.addIcon(w,E),this.iconType=w)}}},{key:"_registerIconHandler",value:function(c){var p;li||alert("This browser does not support file-api");var E=ye(c.target.files,1)[0];E&&(p=he().createObjectURL(E),this.actions.registerCustomIcon(p,E))}}]),l}(bi),_a=function(O){var _,l,f,c,p,w=O.locale,E=O.makeSvgIcon;return $()(_=$()(l=$()(f=$()(c=$()(p='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-draw-line-select-button">\n            <div class="tui-image-editor-button free">\n                <div>\n                    '.concat(E(["normal","active"],"draw-free",!0),"\n                </div>\n                <label>\n                    ")).call(p,w.localize("Free"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button line">\n                <div>\n                    ')).call(c,E(["normal","active"],"draw-line",!0),"\n                </div>\n                <label>\n                    ")).call(f,w.localize("Straight"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-draw-color" title="')).call(l,w.localize("Color"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(_,w.localize("Range"),'</label>\n            <div class="tie-draw-range"></div>\n            <input class="tie-draw-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function Ca(O){var _=function za(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var xa=function(O){kt(l,O);var _=Ca(l);function l(f,c){var p,w=c.locale,E=c.makeSvgIcon,L=c.menuBarPosition,k=c.usageStatistics;return ee(this,l),(p=_.call(this,f,{locale:w,name:"draw",makeSvgIcon:E,menuBarPosition:L,templateHtml:_a,usageStatistics:k}))._els={lineSelectButton:p.selector(".tie-draw-line-select-button"),drawColorPicker:new Bi(p.selector(".tie-draw-color"),{defaultColor:"#00a9ff",toggleDirection:p.toggleDirection,usageStatistics:p.usageStatistics}),drawRange:new gi({slider:p.selector(".tie-draw-range"),input:p.selector(".tie-draw-range-value")},Xi)},p.type=null,p.color=p._els.drawColorPicker.color,p.width=p._els.drawRange.value,p.colorPickerInputBox=p._els.drawColorPicker.colorpickerElement.querySelector(Pt.COLOR_PICKER_INPUT_BOX),p}return ge(l,[{key:"destroy",value:function(){this._removeEvent(),this._els.drawColorPicker.destroy(),this._els.drawRange.destroy(),_i(this)}},{key:"addEvent",value:function(c){var p,w,E,L,k;this.eventHandler.changeDrawType=le()(p=this._changeDrawType).call(p,this),this.actions=c,this._els.lineSelectButton.addEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.on("change",le()(w=this._changeDrawColor).call(w,this)),this._els.drawRange.on("change",le()(E=this._changeDrawRange).call(E,this)),this.colorPickerInputBox.addEventListener(He.FOCUS,le()(L=this._onStartEditingInputBox).call(L,this)),this.colorPickerInputBox.addEventListener(He.BLUR,le()(k=this._onStopEditingInputBox).call(k,this))}},{key:"_removeEvent",value:function(){var c,p;this._els.lineSelectButton.removeEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.off(),this._els.drawRange.off(),this.colorPickerInputBox.removeEventListener(He.FOCUS,le()(c=this._onStartEditingInputBox).call(c,this)),this.colorPickerInputBox.removeEventListener(He.BLUR,le()(p=this._onStopEditingInputBox).call(p,this))}},{key:"setDrawMode",value:function(){this.actions.setDrawMode(this.type,{width:this.width,color:an(this.color,.7)})}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.stopDrawingMode(),this.actions.changeSelectableAll(!0),this._els.lineSelectButton.classList.remove("free"),this._els.lineSelectButton.classList.remove("line")}},{key:"changeStartMode",value:function(){this.type="free",this._els.lineSelectButton.classList.add("free"),this.setDrawMode()}},{key:"_changeDrawType",value:function(c){var p=c.target.closest(".tui-image-editor-button");if(p){var w=this.getButtonType(p,["free","line"]);if(this.actions.discardSelection(),this.type===w)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=w,this._els.lineSelectButton.classList.add(w),this.setDrawMode()}}},{key:"_changeDrawColor",value:function(c){this.color=c||"transparent",this.type?this.setDrawMode():this.changeStartMode()}},{key:"_changeDrawRange",value:function(c){this.width=c,this.type?this.setDrawMode():this.changeStartMode()}}]),l}(bi),Qc=q(9886),Ma=q.n(Qc),Jc=function(O){var _,l,f,c,p,w,E,L,k,Y,X,pe,ve,we,ze,Se,Ze=O.locale;return $()(_=$()(l=$()(f=$()(c=$()(p=$()(w=$()(E=$()(L=$()(k=$()(Y=$()(X=$()(pe=$()(ve=$()(we=$()(ze=$()(Se='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap fixed-width">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-grayscale">\n                        <span>'.concat(Ze.localize("Grayscale"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-invert">\n                        <span>')).call(Se,Ze.localize("Invert"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sepia">\n                        <span>')).call(ze,Ze.localize("Sepia"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-vintage">\n                        <span>')).call(we,Ze.localize("Sepia2"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blur">\n                        <span>')).call(ve,Ze.localize("Blur"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sharpen">\n                        <span>')).call(pe,Ze.localize("Sharpen"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-emboss">\n                        <span>')).call(X,Ze.localize("Emboss"),'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">\n                <div class="tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-remove-white">\n                            <span>')).call(Y,Ze.localize("Remove White"),'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>')).call(k,Ze.localize("Distance"),'</label>\n                    <div class="tie-removewhite-distance-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-brightness">\n                        <span>')).call(L,Ze.localize("Brightness"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-brightness-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-noise">\n                        <span>')).call(E,Ze.localize("Noise"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-noise-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-pixelate">\n                        <span>')).call(w,Ze.localize("Pixelate"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-pixelate-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-color-filter">\n                            <span>')).call(p,Ze.localize("Color Filter"),'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>')).call(c,Ze.localize("Threshold"),'</label>\n                    <div class="tie-colorfilter-threshold-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="filter-color-item">\n                <div class="tie-filter-tint-color" title="')).call(f,Ze.localize("Tint"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-tint">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-multiply-color" title="')).call(l,Ze.localize("Multiply"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-multiply">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-blend-color" title="')).call(_,Ze.localize("Blend"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blend">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n        </li>\n    </ul>\n')};function $c(O){var _=function Kc(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var qc=["add","diff","subtract","multiply","screen","lighten","darken"],wa=["grayscale","invert","sepia","vintage","blur","sharpen","emboss","remove-white","brightness","noise","pixelate","color-filter","tint","multiply","blend"],e1={grayscale:"grayscale",invert:"invert",sepia:"sepia",blur:"blur",sharpen:"sharpen",emboss:"emboss",removeWhite:"removeColor",brightness:"brightness",contrast:"contrast",saturation:"saturation",vintage:"vintage",polaroid:"polaroid",noise:"noise",pixelate:"pixelate",colorFilter:"removeColor",tint:"blendColor",multiply:"blendColor",blend:"blendColor",hue:"hue",gamma:"gamma"},Ta=["removewhiteDistanceRange","colorfilterThresholdRange","pixelateRange","noiseRange","brightnessRange","tintOpacity"],Ia=["filterBlendColor","filterMultiplyColor","filterTintColor"],t1=function(O){kt(l,O);var _=$c(l);function l(f,c){var p,w=c.locale,E=c.menuBarPosition,L=c.usageStatistics;return ee(this,l),(p=_.call(this,f,{locale:w,name:"filter",menuBarPosition:E,templateHtml:Jc,usageStatistics:L})).selectBoxShow=!1,p.checkedMap={},p._makeControlElement(),p}return ge(l,[{key:"destroy",value:function(){this._removeEvent(),this._destroyToolInstance(),_i(this)}},{key:"_removeEvent",value:function(){var p,c=this;ne()(wa,function(w){var E=c.selector(".tie-".concat(w)),L=Zt(w);E.removeEventListener("change",c.eventHandler[L])}),ne()($()(p=[]).call(p,Ta,Ia),function(w){c._els[w].off()}),this._els.blendType.removeEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.removeEventListener("click",this.eventHandler.changeBlendFilter),fn()(this.colorPickerInputBoxes,function(w){var E,L;w.removeEventListener(He.FOCUS,le()(E=c._onStartEditingInputBox).call(E,c)),w.removeEventListener(He.BLUR,le()(L=c._onStopEditingInputBox).call(L,c))},this)}},{key:"_destroyToolInstance",value:function(){var c,p=this;ne()($()(c=[]).call(c,Ta,Ia),function(w){p._els[w].destroy()})}},{key:"addEvent",value:function(c){var w,E,L,p=this,k=c.applyFilter,Y=function(ve){var we;return le()(we=p._changeFilterState).call(we,p,k,ve)},X=function(ve){return function(we,ze){return p._changeFilterState(k,ve,ze)}};this.eventHandler={changeBlendFilter:Y("blend"),blandTypeClick:function(ve){return ve.stopPropagation()}},ne()(wa,function(pe){var ve=p.selector(".tie-".concat(pe)),we=Zt(pe);p.checkedMap[we]=ve,p.eventHandler[we]=Y(we),ve.addEventListener("change",p.eventHandler[we])}),this._els.removewhiteDistanceRange.on("change",X("removeWhite")),this._els.colorfilterThresholdRange.on("change",X("colorFilter")),this._els.pixelateRange.on("change",X("pixelate")),this._els.noiseRange.on("change",X("noise")),this._els.brightnessRange.on("change",X("brightness")),this._els.filterBlendColor.on("change",this.eventHandler.changeBlendFilter),this._els.filterMultiplyColor.on("change",Y("multiply")),this._els.filterTintColor.on("change",Y("tint")),this._els.tintOpacity.on("change",X("tint")),this._els.filterMultiplyColor.on("changeShow",le()(w=this.colorPickerChangeShow).call(w,this)),this._els.filterTintColor.on("changeShow",le()(E=this.colorPickerChangeShow).call(E,this)),this._els.filterBlendColor.on("changeShow",le()(L=this.colorPickerChangeShow).call(L,this)),this._els.blendType.addEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.addEventListener("click",this.eventHandler.blandTypeClick),fn()(this.colorPickerInputBoxes,function(pe){var ve,we;pe.addEventListener(He.FOCUS,le()(ve=p._onStartEditingInputBox).call(ve,p)),pe.addEventListener(He.BLUR,le()(we=p._onStopEditingInputBox).call(we,p))},this)}},{key:"setFilterState",value:function(c){var w=c.options,E=c.action,L=this._getFilterNameFromOptions(c.type,w),k="remove"===E;k||this._setFilterState(L,w),this.checkedMap[L].checked=!k}},{key:"initFilterCheckBoxState",value:function(){ne()(this.checkedMap,function(c){c.checked=!1},this)}},{key:"_setFilterState",value:function(c,p){"colorFilter"===c?this._els.colorfilterThresholdRange.value=p.distance:"removeWhite"===c?this._els.removewhiteDistanceRange.value=p.distance:"pixelate"===c?this._els.pixelateRange.value=p.blocksize:"brightness"===c?this._els.brightnessRange.value=p.brightness:"noise"===c?this._els.noiseRange.value=p.noise:"tint"===c?(this._els.tintOpacity.value=p.alpha,this._els.filterTintColor.color=p.color):"blend"===c?this._els.filterBlendColor.color=p.color:"multiply"===c&&(this._els.filterMultiplyColor.color=p.color)}},{key:"_getFilterNameFromOptions",value:function(c,p){var w=c;return"removeColor"===c?w=Ma()(p.useAlpha)?"removeWhite":"colorFilter":"blendColor"===c&&(w={add:"blend",multiply:"multiply",tint:"tint"}[p.mode]),w}},{key:"_changeFilterState",value:function(c,p){var w=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],E=this.checkedMap[p].checked,L=e1[p],k=this.checkedMap[p].closest(".tui-image-editor-checkbox-group");k&&(E?k.classList.remove("tui-image-editor-disabled"):k.classList.add("tui-image-editor-disabled")),c(E,L,this._getFilterOption(p),!w)}},{key:"_getFilterOption",value:function(c){var p={};switch(c){case"removeWhite":p.color="#FFFFFF",p.useAlpha=!1,p.distance=jt()(this._els.removewhiteDistanceRange.value);break;case"colorFilter":p.color="#FFFFFF",p.distance=jt()(this._els.colorfilterThresholdRange.value);break;case"pixelate":p.blocksize=Je(this._els.pixelateRange.value);break;case"noise":p.noise=Je(this._els.noiseRange.value);break;case"brightness":p.brightness=jt()(this._els.brightnessRange.value);break;case"blend":p.mode="add",p.color=this._els.filterBlendColor.color,p.mode=this._els.blendType.value;break;case"multiply":p.mode="multiply",p.color=this._els.filterMultiplyColor.color;break;case"tint":p.mode="tint",p.color=this._els.filterTintColor.color,p.alpha=this._els.tintOpacity.value;break;case"blur":p.blur=this._els.blurRange.value}return p}},{key:"_makeControlElement",value:function(){this._els={removewhiteDistanceRange:new gi({slider:this.selector(".tie-removewhite-distance-range")},yi.removewhiteDistanceRange),brightnessRange:new gi({slider:this.selector(".tie-brightness-range")},yi.brightnessRange),noiseRange:new gi({slider:this.selector(".tie-noise-range")},yi.noiseRange),pixelateRange:new gi({slider:this.selector(".tie-pixelate-range")},yi.pixelateRange),colorfilterThresholdRange:new gi({slider:this.selector(".tie-colorfilter-threshold-range")},yi.colorfilterThresholdRange),filterTintColor:new Bi(this.selector(".tie-filter-tint-color"),{defaultColor:"#03bd9e",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterMultiplyColor:new Bi(this.selector(".tie-filter-multiply-color"),{defaultColor:"#515ce6",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterBlendColor:new Bi(this.selector(".tie-filter-blend-color"),{defaultColor:"#ffbb3b",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),blurRange:yi.blurFilterRange},this._els.tintOpacity=this._pickerWithRange(this._els.filterTintColor.pickerControl),this._els.blendType=this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl),this.colorPickerControls.push(this._els.filterTintColor),this.colorPickerControls.push(this._els.filterMultiplyColor),this.colorPickerControls.push(this._els.filterBlendColor),this.colorPickerInputBoxes=[],this.colorPickerInputBoxes.push(this._els.filterTintColor.colorpickerElement.querySelector(Pt.COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterMultiplyColor.colorpickerElement.querySelector(Pt.COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterBlendColor.colorpickerElement.querySelector(Pt.COLOR_PICKER_INPUT_BOX))}},{key:"_pickerWithRange",value:function(c){var p=document.createElement("div"),w=document.createElement("label"),E=document.createElement("div");return E.id="tie-filter-tint-opacity",w.innerHTML="Opacity",p.appendChild(w),p.appendChild(E),c.appendChild(p),c.style.height="130px",new gi({slider:E},yi.tintOpacityRange)}},{key:"_pickerWithSelectbox",value:function(c){var p=document.createElement("div"),w=document.createElement("select"),E=document.createElement("ul");return p.className="tui-image-editor-selectlist-wrap",E.className="tui-image-editor-selectlist",p.appendChild(w),p.appendChild(E),this._makeSelectOptionList(w),c.appendChild(p),c.style.height="130px",this._drawSelectOptionList(w,E),this._pickerWithSelectboxForAddEvent(w,E),w}},{key:"_drawSelectOptionList",value:function(c,p){var w=c.querySelectorAll("option");ne()(w,function(E){var L=document.createElement("li");L.innerHTML=E.innerHTML,L.setAttribute("data-item",E.value),p.appendChild(L)})}},{key:"_pickerWithSelectboxForAddEvent",value:function(c,p){var w=this;p.addEventListener("click",function(E){var L=E.target.getAttribute("data-item"),k=document.createEvent("HTMLEvents");c.querySelector('[value="'.concat(L,'"]')).selected=!0,k.initEvent("change",!0,!0),c.dispatchEvent(k),w.selectBoxShow=!1,p.style.display="none"}),c.addEventListener("mousedown",function(E){E.preventDefault(),w.selectBoxShow=!w.selectBoxShow,p.style.display=w.selectBoxShow?"block":"none",p.setAttribute("data-selectitem",c.value),p.querySelector("[data-item='".concat(c.value,"']")).classList.add("active")})}},{key:"_makeSelectOptionList",value:function(c){ne()(qc,function(p){var w=document.createElement("option");w.setAttribute("value",p),w.innerHTML=p.replace(/^[a-z]/,function(E){return E.toUpperCase()}),c.appendChild(w)})}}]),l}(bi),n1=t1,o1=q(4383),r1=q.n(o1);function l1(O){var _=function h1(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var Ea="selected-item",Oa="disabled-item",f1=function(O){kt(l,O);var _=l1(l);function l(f,c){var p,w=c.locale,E=c.makeSvgIcon;return ee(this,l),p=_.call(this,f,{name:"history"}),f.classList.add("enabled"),p.locale=w,p.makeSvgIcon=E,p._eventHandler={},p._historyIndex=p.getListLength(),p}return ge(l,[{key:"add",value:function(c){var p=c.name,w=c.detail;this._hasDisabledItem()&&this.deleteListItemElement(this._historyIndex+1,this.getListLength());var E=function(O){var _,l,f,c=O.locale,p=O.makeSvgIcon,w=O.name,E=O.detail;return $()(_=$()(l=$()(f='\n    <div class="tui-image-editor-history-item history">\n        <div class="history-item-icon">\n            '.concat(p(["normal","active"],"history-".concat(w.toLowerCase()),!0),"\n        </div>\n        <span>\n            ")).call(f,c.localize(w),"\n            ")).call(l,E?"(".concat(c.localize(E),")"):"",'\n        </span>\n        <div class="history-item-checkbox">\n            ')).call(_,p(["normal"],"history-check",!0),"\n        </div>\n    </div>\n")}({locale:this.locale,makeSvgIcon:this.makeSvgIcon,name:p,detail:w}),L=this.makeListItemElement(E);this.pushListItemElement(L),this._historyIndex=this.getListLength()-1,this._selectItem(this._historyIndex)}},{key:"init",value:function(){this.deleteListItemElement(1,this.getListLength()),this._historyIndex=0,this._selectItem(this._historyIndex)}},{key:"clear",value:function(){this.deleteListItemElement(0,this.getListLength()),this._historyIndex=-1}},{key:"prev",value:function(){this._historyIndex-=1,this._selectItem(this._historyIndex)}},{key:"next",value:function(){this._historyIndex+=1,this._selectItem(this._historyIndex)}},{key:"_hasDisabledItem",value:function(){return this.getListLength()-1>this._historyIndex}},{key:"_addHistoryEventListener",value:function(){var c=this;this._eventHandler.history=function(p){return c._clickHistoryItem(p)},this.listElement.addEventListener("click",this._eventHandler.history)}},{key:"_removeHistoryEventListener",value:function(){this.listElement.removeEventListener("click",this._eventHandler.history)}},{key:"_clickHistoryItem",value:function(c){var w=c.target.closest(".".concat("history-item"));if(w){var E=r1()(w.getAttribute("data-index"),10);if(E!==this._historyIndex){var L=Math.abs(E-this._historyIndex);E<this._historyIndex?this._actions.undo(L):this._actions.redo(L)}}}},{key:"_selectItem",value:function(c){for(var p=0;p<this.getListLength();p+=1)this.removeClass(p,Ea),this.removeClass(p,Oa),p>c&&this.addClass(p,Oa);this.addClass(c,Ea)}},{key:"destroy",value:function(){this.removeEvent(),_i(this)}},{key:"addEvent",value:function(c){this._actions=c,this._addHistoryEventListener()}},{key:"removeEvent",value:function(){this._removeHistoryEventListener()}}]),l}(function(){function O(_,l){var f=l.name;ee(this,O),this.name=f,this.items=[],this.panelElement=this._makePanelElement(),this.listElement=this._makeListElement(),this.panelElement.appendChild(this.listElement),_.appendChild(this.panelElement)}return ge(O,[{key:"_makePanelElement",value:function(){var l=document.createElement("div");return l.className="tie-panel-".concat(this.name),l}},{key:"_makeListElement",value:function(){var l=document.createElement("ol");return l.className="".concat(this.name,"-list"),l}},{key:"makeListItemElement",value:function(l){var f=document.createElement("li");return f.innerHTML=l,f.className="".concat(this.name,"-item"),f.setAttribute("data-index",this.items.length),f}},{key:"pushListItemElement",value:function(l){this.listElement.appendChild(l),this.listElement.scrollTop+=l.offsetHeight,this.items.push(l)}},{key:"deleteListItemElement",value:function(l,f){for(var c=this.items,p=l;p<f;p+=1)this.listElement.removeChild(c[p]);N()(c).call(c,l,f-l+1)}},{key:"getListLength",value:function(){return this.items.length}},{key:"addClass",value:function(l,f){this.items[l]&&this.items[l].classList.add(f)}},{key:"removeClass",value:function(l,f){this.items[l]&&this.items[l].classList.remove(f)}},{key:"toggleClass",value:function(l,f){this.items[l]&&this.items[l].classList.toggle(f)}}]),O}()),g1=function(){function O(_){ee(this,O),this._locale=_}return ge(O,[{key:"localize",value:function(l){return this._locale[l]||l}}]),O}(),v1={Shape:Rc,Crop:Uc,Resize:ro,Flip:aa,Rotate:sr,Text:cr,Mask:pa,Icon:ya,Draw:xa,Filter:n1},m1="1300",Aa="history",Dn="on",kn_ZOOM_IN="zoomIn",kn_HAND="hand",Da=function(){function O(_,l,f){ee(this,O),this.options=this._initializeOption(l),this._actions=f,this.submenu=!1,this.imageSize={},this.uiSize={},this._locale=new g1(this.options.locale),this.theme=new Ko(this.options.theme),this.eventHandler={},this._submenuChangeTransection=!1,this._selectedElement=null,this._mainElement=null,this._editorElementWrap=null,this._editorElement=null,this._menuBarElement=null,this._subMenuElement=null,this._makeUiElement(_),this._setUiSize(),this._initMenuEvent=!1,this._makeSubMenu(),this._attachHistoryEvent(),this._attachZoomEvent()}return ge(O,[{key:"destroy",value:function(){this._removeUiEvent(),this._destroyAllMenu(),this._selectedElement.innerHTML="",_i(this)}},{key:"setUiDefaultSelectionStyle",value:function(l){return ie()({applyCropSelectionStyle:!0,applyGroupSelectionStyle:!0,selectionStyle:{cornerStyle:"circle",cornerSize:16,cornerColor:"#fff",cornerStrokeColor:"#fff",transparentCorners:!1,lineWidth:2,borderColor:"#fff"}},l)}},{key:"resizeEditor",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=l.uiSize,c=l.imageSize,p=void 0===c?this.imageSize:c;p!==this.imageSize&&(this.imageSize=p),f&&this._setUiSize(f);var w=this._getCanvasMaxDimension(),E=w.width,k=this._editorElement.style,Y=this.options.menuBarPosition;k.height="".concat(w.height,"px"),k.width="".concat(E,"px"),this._setEditorPosition(Y),this._editorElementWrap.style.bottom="0px",this._editorElementWrap.style.top="0px",this._editorElementWrap.style.left="0px",this._editorElementWrap.style.width="100%";var X=this._selectedElement.classList;"top"===Y&&this._selectedElement.offsetWidth<m1?X.add("tui-image-editor-top-optimization"):X.remove("tui-image-editor-top-optimization")}},{key:"toggleZoomButtonStatus",value:function(l){this._buttonElements[l].classList.toggle(Dn),l===kn_ZOOM_IN?this._buttonElements[kn_HAND].classList.remove(Dn):this._buttonElements[kn_ZOOM_IN].classList.remove(Dn)}},{key:"offZoomInButtonStatus",value:function(){this._buttonElements[kn_ZOOM_IN].classList.remove(Dn)}},{key:"changeHandButtonStatus",value:function(l){this._buttonElements[kn_HAND].classList[l?"add":"remove"](Dn)}},{key:"changeHelpButtonEnabled",value:function(l,f){this._buttonElements[l].classList[f?"add":"remove"]("enabled")}},{key:"_initializeOption",value:function(l){return ie()({loadImage:{path:"",name:""},locale:{},menuIconPath:"",menu:["resize","crop","flip","rotate","draw","shape","icon","text","mask","filter"],initMenu:"",uiSize:{width:"100%",height:"100%"},menuBarPosition:"bottom"},l)}},{key:"_setUiSize",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.uiSize,f=this._selectedElement.style;f.width=l.width,f.height=l.height}},{key:"_makeSubMenu",value:function(){var l=this;ne()(this.options.menu,function(f){var c,p=v1[f.replace(/^[a-z]/,function(w){return w.toUpperCase()})];l._makeMenuElement(f),l._buttonElements[f]=l._menuBarElement.querySelector(".tie-btn-".concat(f)),l[f]=new p(l._subMenuElement,{locale:l._locale,makeSvgIcon:le()(c=l.theme.makeMenSvgIconSet).call(c,l.theme),menuBarPosition:l.options.menuBarPosition,usageStatistics:l.options.usageStatistics})})}},{key:"_attachHistoryEvent",value:function(){var l,f,c;this.on(He.EXECUTE_COMMAND,le()(l=this._addHistory).call(l,this)),this.on(He.AFTER_UNDO,le()(f=this._selectPrevHistory).call(f,this)),this.on(He.AFTER_REDO,le()(c=this._selectNextHistory).call(c,this))}},{key:"_attachZoomEvent",value:function(){var l=this;this.on(He.HAND_STARTED,function(){l.offZoomInButtonStatus(),l.changeHandButtonStatus(!0)}),this.on(He.HAND_STOPPED,function(){return l.changeHandButtonStatus(!1)})}},{key:"_makeUiElement",value:function(l){var f,c,p=function sn(O){return function(_){return O.querySelector(_)}}(c=l.nodeType?l:document.querySelector(l));c.classList.add("tui-image-editor-container"),c.innerHTML=function(O){var _,l,f,c,p,w=O.locale,E=O.biImage,L=O.loadButtonStyle,k=O.downloadButtonStyle,Y=O.menuBarPosition;return $()(_=$()(l=$()(f=$()(c=$()(p='\n    <ul class="tui-image-editor-help-menu '.concat(function Lc(O){return"top"===O?"bottom":"left"===O?"right":"right"===O?"left":"top"}(Y),'"></ul>\n    <div class="tui-image-editor-controls">\n        <div class="tui-image-editor-controls-logo">\n            <img src="')).call(p,E,'" />\n        </div>\n        <ul class="tui-image-editor-menu"></ul>\n\n        <div class="tui-image-editor-controls-buttons">\n            <div style="')).call(c,L,'">\n                ')).call(f,w.localize("Load"),'\n                <input type="file" class="tui-image-editor-load-btn" />\n            </div>\n            <button class="tui-image-editor-download-btn" style="')).call(l,k,'">\n                ')).call(_,w.localize("Download"),"\n            </button>\n        </div>\n    </div>\n")}({locale:this._locale,biImage:this.theme.getStyle("common.bi"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),menuBarPosition:this.options.menuBarPosition})+function(O){var _,l,f,c,p,w,E,L=O.locale,k=O.biImage,Y=O.commonStyle,X=O.headerStyle,pe=O.loadButtonStyle,ve=O.downloadButtonStyle,we=O.submenuStyle;return $()(_=$()(l=$()(f=$()(c=$()(p=$()(w=$()(E='\n    <div class="tui-image-editor-main-container" style="'.concat(Y,'">\n        <div class="tui-image-editor-header" style="')).call(E,X,'">\n            <div class="tui-image-editor-header-logo">\n                <img src="')).call(w,k,'" />\n            </div>\n            <div class="tui-image-editor-header-buttons">\n                <div style="')).call(p,pe,'">\n                    ')).call(c,L.localize("Load"),'\n                    <input type="file" class="tui-image-editor-load-btn" />\n                </div>\n                <button class="tui-image-editor-download-btn" style="')).call(f,ve,'">\n                    ')).call(l,L.localize("Download"),'\n                </button>\n            </div>\n        </div>\n        <div class="tui-image-editor-main">\n            <div class="tui-image-editor-submenu">\n                <div class="tui-image-editor-submenu-style" style="')).call(_,we,'"></div>\n            </div>\n            <div class="tui-image-editor-wrap">\n                <div class="tui-image-editor-size-wrap">\n                    <div class="tui-image-editor-align-wrap">\n                        <div class="tui-image-editor"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n')}({locale:this._locale,biImage:this.theme.getStyle("common.bi"),commonStyle:this.theme.getStyle("common"),headerStyle:this.theme.getStyle("header"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),submenuStyle:this.theme.getStyle("submenu")}),this._selectedElement=c,this._selectedElement.classList.add(this.options.menuBarPosition),this._mainElement=p(".tui-image-editor-main"),this._editorElementWrap=p(".tui-image-editor-wrap"),this._editorElement=p(".tui-image-editor"),this._helpMenuBarElement=p(".tui-image-editor-help-menu"),this._menuBarElement=p(".tui-image-editor-menu"),this._subMenuElement=p(".tui-image-editor-submenu"),this._buttonElements={download:this._selectedElement.querySelectorAll(".tui-image-editor-download-btn"),load:this._selectedElement.querySelectorAll(".tui-image-editor-load-btn")},this._addHelpMenus(),this._historyMenu=new f1(this._buttonElements[Aa],{locale:this._locale,makeSvgIcon:le()(f=this.theme.makeMenSvgIconSet).call(f,this.theme)}),this._activateZoomMenus()}},{key:"_activateZoomMenus",value:function(){var l=this;ne()(It,function(f){l.changeHelpButtonEnabled(f,!0)})}},{key:"_makeHelpMenuWithPartition",value:function(){var l;return $()(l=[]).call(l,V(It),[""],V(Bt),[""],V(Gt))}},{key:"_addHelpMenus",value:function(){var l=this,f=this._makeHelpMenuWithPartition();ne()(f,function(c){c?(l._makeMenuElement(c,["normal","disabled","hover"],"help"),l._buttonElements[c]=l._helpMenuBarElement.querySelector(".tie-btn-".concat(c))):l._makeMenuPartitionElement()})}},{key:"_makeMenuPartitionElement",value:function(){var l=document.createElement("li"),f=document.createElement("div");l.className=Ji("item"),f.className=Ji("icpartition"),l.appendChild(f),this._helpMenuBarElement.appendChild(l)}},{key:"_makeMenuElement",value:function(l){var f,c,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["normal","active","hover"],w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal",E=document.createElement("li"),L=this.theme.makeMenSvgIconSet(p,l);this._addTooltipAttribute(E,l),E.className=$()(f=$()(c="tie-btn-".concat(l," ")).call(c,Ji("item")," ")).call(f,w),E.innerHTML=L,"normal"===w?this._menuBarElement.appendChild(E):this._helpMenuBarElement.appendChild(E)}},{key:"_addHelpActionEvent",value:function(){var l=this;ne()(Ve,function(f){l.eventHandler[f]=function(c){return l._actions.main[f](c)},l._buttonElements[f].addEventListener("click",l.eventHandler[f])})}},{key:"_removeHelpActionEvent",value:function(){var l=this;ne()(Ve,function(f){l._buttonElements[f].removeEventListener("click",l.eventHandler[f])})}},{key:"_addHistory",value:function(l){if(!function Dc(O){var _=lt.LOAD_IMAGE;return"string"==typeof O?_===O:_===O.name}(l)){var f="string"==typeof l?{name:l}:function kc(O){var _,l,Ze,ze=O.name,Se=O.args;switch(ze){case lt.FLIP_IMAGE:Ze={name:ze,detail:"reset"===Se[1]?Se[1]:b()(_=Se[1]).call(_,4)};break;case lt.ROTATE_IMAGE:Ze={name:ze,detail:Se[2]};break;case lt.APPLY_FILTER:Ze={name:_t.APPLY_FILTER,detail:Ac(Se[1],Se[2])};break;case lt.REMOVE_FILTER:Ze={name:_t.REMOVE_FILTER,detail:"Remove"};break;case lt.CHANGE_SHAPE:Ze={name:_t.CHANGE_SHAPE,detail:"Change"};break;case lt.CHANGE_ICON_COLOR:Ze={name:_t.CHANGE_ICON_COLOR,detail:"Change"};break;case lt.CHANGE_TEXT_STYLE:Ze={name:_t.CHANGE_TEXT_STYLE,detail:"Change"};break;case lt.REMOVE_OBJECT:Ze={name:_t.REMOVE_OBJECT,detail:Se[2]};break;case lt.CLEAR_OBJECTS:Ze={name:_t.CLEAR_OBJECTS,detail:"All"};break;case lt.ADD_IMAGE_OBJECT:Ze={name:_t.ADD_IMAGE_OBJECT,detail:"Add"};break;case lt.ADD_TEXT:Ze={name:_t.ADD_TEXT};break;case lt.RESIZE_IMAGE:Ze={name:_t.RESIZE,detail:$()(l="".concat(~~Se[1].width,"x")).call(l,~~Se[1].height)};break;default:Ze={name:ze}}return"mask"===Se[1]&&(Ze={name:_t.LOAD_MASK_IMAGE,detail:"Apply"}),Ze}(l);this._historyMenu.add(f)}}},{key:"initHistory",value:function(){this._historyMenu.init()}},{key:"clearHistory",value:function(){this._historyMenu.clear()}},{key:"_selectPrevHistory",value:function(){this._historyMenu.prev()}},{key:"_selectNextHistory",value:function(){this._historyMenu.next()}},{key:"toggleHistoryMenu",value:function(l){l.target.closest(".".concat("tie-panel-history"))||this._buttonElements[Aa].classList.toggle("opened")}},{key:"_addTooltipAttribute",value:function(l,f){l.setAttribute("tooltip-content",this._locale.localize(f.replace(/^[a-z]/g,function(c){return c.toUpperCase()})))}},{key:"_addDownloadEvent",value:function(){var l=this;this.eventHandler.download=function(){return l._actions.main.download()},ne()(this._buttonElements.download,function(f){f.addEventListener("click",l.eventHandler.download)})}},{key:"_removeDownloadEvent",value:function(){var l=this;ne()(this._buttonElements.download,function(f){f.removeEventListener("click",l.eventHandler.download)})}},{key:"_addLoadEvent",value:function(){var l=this;this.eventHandler.loadImage=function(f){return l._actions.main.load(f.target.files[0])},ne()(this._buttonElements.load,function(f){f.addEventListener("change",l.eventHandler.loadImage)})}},{key:"_removeLoadEvent",value:function(){var l=this;ne()(this._buttonElements.load,function(f){f.removeEventListener("change",l.eventHandler.loadImage)})}},{key:"_addMainMenuEvent",value:function(l){var f=this;this.eventHandler[l]=function(){return f.changeMenu(l)},this._buttonElements[l].addEventListener("click",this.eventHandler[l])}},{key:"_addSubMenuEvent",value:function(l){var f=this;this[l].addEvent(this._actions[l]),this[l].on(He.INPUT_BOX_EDITING_STARTED,function(){return f.fire(He.INPUT_BOX_EDITING_STARTED)}),this[l].on(He.INPUT_BOX_EDITING_STOPPED,function(){return f.fire(He.INPUT_BOX_EDITING_STOPPED)})}},{key:"_addMenuEvent",value:function(){var l=this;ne()(this.options.menu,function(f){l._addMainMenuEvent(f),l._addSubMenuEvent(f)})}},{key:"_removeMainMenuEvent",value:function(){var l=this;ne()(this.options.menu,function(f){l._buttonElements[f].removeEventListener("click",l.eventHandler[f]),l[f].off(He.INPUT_BOX_EDITING_STARTED),l[f].off(He.INPUT_BOX_EDITING_STOPPED)})}},{key:"getEditorArea",value:function(){return this._editorElement}},{key:"activeMenuEvent",value:function(){this._initMenuEvent||(this._addHelpActionEvent(),this._addDownloadEvent(),this._addMenuEvent(),this._initMenu(),this._historyMenu.addEvent(this._actions.history),this._initMenuEvent=!0)}},{key:"_removeUiEvent",value:function(){this._removeHelpActionEvent(),this._removeDownloadEvent(),this._removeLoadEvent(),this._removeMainMenuEvent(),this._historyMenu.removeEvent()}},{key:"_destroyAllMenu",value:function(){var l=this;ne()(this.options.menu,function(f){l[f].destroy()}),this._historyMenu.destroy()}},{key:"initCanvas",value:function(){var l=this,f=this._getLoadImage();f.path&&this._actions.main.initLoadImage(f.path,f.name).then(function(){l.activeMenuEvent()}),this._addLoadEvent();var c=document.createElement("div");c.className=Ji("grid-visual"),c.innerHTML='<table>\n           <tr><td class="dot left-top"></td><td></td><td class="dot right-top"></td></tr>\n           <tr><td></td><td></td><td></td></tr>\n           <tr><td class="dot left-bottom"></td><td></td><td class="dot right-bottom"></td></tr>\n         </table>',this._editorContainerElement=this._editorElement.querySelector(".tui-image-editor-canvas-container"),this._editorContainerElement.appendChild(c)}},{key:"_getLoadImage",value:function(){return this.options.loadImage}},{key:"changeMenu",value:function(l){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._submenuChangeTransection||(this._submenuChangeTransection=!0,this._changeMenu(l,f,c),this._submenuChangeTransection=!1)}},{key:"_changeMenu",value:function(l,f,c){this.submenu&&(this._buttonElements[this.submenu].classList.remove("active"),this._mainElement.classList.remove("tui-image-editor-menu-".concat(this.submenu)),c&&this._actions.main.discardSelection(),this._actions.main.changeSelectableAll(!0),this[this.submenu].changeStandbyMode()),this.submenu===l&&f?this.submenu=null:(this._buttonElements[l].classList.add("active"),this._mainElement.classList.add("tui-image-editor-menu-".concat(l)),this.submenu=l,this[this.submenu].changeStartMode()),this.resizeEditor()}},{key:"_initMenu",value:function(){if(this.options.initMenu){var l=document.createEvent("MouseEvents");l.initEvent("click",!0,!1),this._buttonElements[this.options.initMenu].dispatchEvent(l)}this.icon&&this.icon.registerDefaultIcon()}},{key:"_getCanvasMaxDimension",value:function(){var l=this._editorContainerElement.style,f=l.maxWidth,c=l.maxHeight;return{width:jt()(f),height:jt()(c)}}},{key:"_setEditorPosition",value:function(l){var f=this._getCanvasMaxDimension(),c=f.width,p=f.height,w=this._editorElement.style,E=0,L=0;this.submenu&&("bottom"===l?E=p>this._editorElementWrap.scrollHeight-150?(p-this._editorElementWrap.scrollHeight)/2:-75:"top"===l?E=p>this._editorElementWrap.offsetHeight-150?75-(p-(this._editorElementWrap.offsetHeight-150))/2:75:"left"===l?L=c>this._editorElementWrap.offsetWidth-248?124-(c-(this._editorElementWrap.offsetWidth-248))/2:124:"right"===l&&(L=c>this._editorElementWrap.scrollWidth-248?(c-this._editorElementWrap.scrollWidth)/2:-124)),w.top="".concat(E,"px"),w.left="".concat(L,"px")}}]),O}();Te().mixin(Da);var _1=Da,C1=q(381),pn=q.n(C1),ka=function(){function O(){ee(this,O),this.versionnumber="1.2.4",this.optionpresets={default:{corsenabled:!1,ltres:1,qtres:1,pathomit:8,rightangleenhance:!0,colorsampling:2,numberofcolors:16,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:1,linefilter:!1,scale:1,roundcoords:1,viewbox:!1,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:20},posterized1:{colorsampling:0,numberofcolors:2},posterized2:{numberofcolors:4,blurradius:5},curvy:{ltres:.01,linefilter:!0,rightangleenhance:!1},sharp:{qtres:.01,linefilter:!1},detailed:{pathomit:0,roundcoords:2,ltres:.5,qtres:.5,numberofcolors:64},smoothed:{blurradius:5,blurdelta:64},grayscale:{colorsampling:0,colorquantcycles:1,numberofcolors:7},fixedpalette:{colorsampling:0,colorquantcycles:1,numberofcolors:27},randomsampling1:{colorsampling:1,numberofcolors:8},randomsampling2:{colorsampling:1,numberofcolors:64},artistic1:{colorsampling:0,colorquantcycles:1,pathomit:0,blurradius:5,blurdelta:64,ltres:.01,linefilter:!0,numberofcolors:16,strokewidth:2},artistic2:{qtres:.01,colorsampling:0,colorquantcycles:1,numberofcolors:4,strokewidth:0},artistic3:{qtres:10,ltres:10,numberofcolors:8},artistic4:{qtres:10,ltres:10,numberofcolors:64,blurradius:5,blurdelta:256,strokewidth:2},posterized3:{ltres:1,qtres:1,pathomit:20,rightangleenhance:!0,colorsampling:0,numberofcolors:3,mincolorratio:0,colorquantcycles:3,blurradius:3,blurdelta:20,strokewidth:0,linefilter:!1,roundcoords:1,pal:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}},this.pathscan_combined_lookup=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],this.gks=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]],this.specpalette=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}]}return ge(O,[{key:"imageToSVG",value:function(l,f,c){var p=this;c=this.checkoptions(c),this.loadImage(l,function(w){f(p.imagedataToSVG(p.getImgdata(w),c))},c)}},{key:"imagedataToSVG",value:function(l,f){f=this.checkoptions(f);var c=this.imagedataToTracedata(l,f);return this.getsvgstring(c,f)}},{key:"imageToTracedata",value:function(l,f,c){var p=this;c=this.checkoptions(c),this.loadImage(l,function(w){f(p.imagedataToTracedata(p.getImgdata(w),c))},c)}},{key:"imagedataToTracedata",value:function(l,f){f=this.checkoptions(f);var p,c=this.colorquantization(l,f);if(0===f.layering){p={layers:[],palette:c.palette,width:c.array[0].length-2,height:c.array.length-2};for(var w=0;w<c.palette.length;w+=1){var E=this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(c,w),f.pathomit),f),f.ltres,f.qtres);p.layers.push(E)}}else{var L=this.layering(c);f.layercontainerid&&this.drawLayers(L,this.specpalette,f.scale,f.layercontainerid);var k=this.batchpathscan(L,f.pathomit),Y=this.batchinternodes(k,f);p={layers:this.batchtracelayers(Y,f.ltres,f.qtres),palette:c.palette,width:l.width,height:l.height}}return p}},{key:"checkoptions",value:function(l){"string"==typeof(l=l||{})&&(l=l.toLowerCase(),l=this.optionpresets[l]?this.optionpresets[l]:{});for(var f=ke()(this.optionpresets.default),c=0;c<f.length;c+=1)l.hasOwnProperty(f[c])||(l[f[c]]=this.optionpresets.default[f[c]]);return l}},{key:"colorquantization",value:function(l,f){var w,E,L,X,pe,ve,we,ze,c=[],p=0,k=[],Y=l.width*l.height;for(pe=0;pe<l.height+2;pe+=1)for(c[pe]=[],X=0;X<l.width+2;X+=1)c[pe][X]=-1;for(ze=f.pal?f.pal:0===f.colorsampling?this.generatepalette(f.numberofcolors):1===f.colorsampling?this.samplepalette(f.numberofcolors,l):this.samplepalette2(f.numberofcolors,l),f.blurradius>0&&(l=this.blur(l,f.blurradius,f.blurdelta)),we=0;we<f.colorquantcycles;we+=1){if(we>0)for(ve=0;ve<ze.length;ve+=1)k[ve].n>0&&(ze[ve]={r:Math.floor(k[ve].r/k[ve].n),g:Math.floor(k[ve].g/k[ve].n),b:Math.floor(k[ve].b/k[ve].n),a:Math.floor(k[ve].a/k[ve].n)}),k[ve].n/Y<f.mincolorratio&&we<f.colorquantcycles-1&&(ze[ve]={r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())});for(X=0;X<ze.length;X+=1)k[X]={r:0,g:0,b:0,a:0,n:0};for(pe=0;pe<l.height;pe+=1)for(X=0;X<l.width;X+=1){for(p=4*(pe*l.width+X),L=0,E=1024,ve=0;ve<ze.length;ve+=1)(w=Math.abs(ze[ve].r-l.data[p])+Math.abs(ze[ve].g-l.data[p+1])+Math.abs(ze[ve].b-l.data[p+2])+Math.abs(ze[ve].a-l.data[p+3]))<E&&(E=w,L=ve);k[L].r+=l.data[p],k[L].g+=l.data[p+1],k[L].b+=l.data[p+2],k[L].a+=l.data[p+3],k[L].n+=1,c[pe+1][X+1]=L}}return{array:c,palette:ze}}},{key:"samplepalette",value:function(l,f){for(var c,p=[],w=0;w<l;w+=1)c=4*Math.floor(Math.random()*f.data.length/4),p.push({r:f.data[c],g:f.data[c+1],b:f.data[c+2],a:f.data[c+3]});return p}},{key:"samplepalette2",value:function(l,f){for(var c,p=[],w=Math.ceil(Math.sqrt(l)),E=Math.ceil(l/w),L=f.width/(w+1),k=f.height/(E+1),Y=0;Y<E;Y+=1)for(var X=0;X<w&&p.length!==l;X+=1)c=4*Math.floor((Y+1)*k*f.width+(X+1)*L),p.push({r:f.data[c],g:f.data[c+1],b:f.data[c+2],a:f.data[c+3]});return p}},{key:"generatepalette",value:function(l){var c,p,w,f=[];if(l<8)for(var E=Math.floor(255/(l-1)),L=0;L<l;L+=1)f.push({r:L*E,g:L*E,b:L*E,a:255});else{var k=Math.floor(Math.pow(l,.3333333333333333)),Y=Math.floor(255/(k-1)),X=l-k*k*k;for(c=0;c<k;c+=1)for(p=0;p<k;p+=1)for(w=0;w<k;w+=1)f.push({r:c*Y,g:p*Y,b:w*Y,a:255});for(c=0;c<X;c+=1)f.push({r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())})}return f}},{key:"layering",value:function(l){var E,L,k,Y,X,pe,ve,ze,Se,Ze,f=[],c=0,p=l.array.length,w=l.array[0].length;for(Ze=0;Ze<l.palette.length;Ze+=1)for(f[Ze]=[],Se=0;Se<p;Se+=1)for(f[Ze][Se]=[],ze=0;ze<w;ze+=1)f[Ze][Se][ze]=0;for(Se=1;Se<p-1;Se+=1)for(ze=1;ze<w-1;ze+=1)E=l.array[Se-1][ze-1]===(c=l.array[Se][ze])?1:0,L=l.array[Se-1][ze]===c?1:0,k=l.array[Se-1][ze+1]===c?1:0,Y=l.array[Se][ze-1]===c?1:0,pe=l.array[Se+1][ze-1]===c?1:0,f[c][Se+1][ze+1]=1+2*(X=l.array[Se][ze+1]===c?1:0)+4*(l.array[Se+1][ze+1]===c?1:0)+8*(ve=l.array[Se+1][ze]===c?1:0),Y||(f[c][Se+1][ze]=2+4*ve+8*pe),L||(f[c][Se][ze+1]=0+2*k+4*X+8),E||(f[c][Se][ze]=0+2*L+4+8*Y);return f}},{key:"layeringstep",value:function(l,f){var E,L,c=[],p=l.array.length,w=l.array[0].length;for(L=0;L<p;L+=1)for(c[L]=[],E=0;E<w;E+=1)c[L][E]=0;for(L=1;L<p;L+=1)for(E=1;E<w;E+=1)c[L][E]=(l.array[L-1][E-1]===f?1:0)+(l.array[L-1][E]===f?2:0)+(l.array[L][E-1]===f?8:0)+(l.array[L][E]===f?4:0);return c}},{key:"pathscan",value:function(l,f){for(var we,c=[],p=0,w=0,E=0,L=0,k=l[0].length,Y=l.length,X=0,pe=!0,ve=!1,ze=0;ze<Y;ze+=1)for(var Se=0;Se<k;Se+=1)if(4===l[ze][Se]||11===l[ze][Se])for(E=Se,L=ze,c[p]={},c[p].points=[],c[p].boundingbox=[E,L,E,L],c[p].holechildren=[],pe=!1,w=0,ve=11===l[ze][Se],X=1;!pe;){if(c[p].points[w]={},c[p].points[w].x=E-1,c[p].points[w].y=L-1,c[p].points[w].t=l[L][E],E-1<c[p].boundingbox[0]&&(c[p].boundingbox[0]=E-1),E-1>c[p].boundingbox[2]&&(c[p].boundingbox[2]=E-1),L-1<c[p].boundingbox[1]&&(c[p].boundingbox[1]=L-1),L-1>c[p].boundingbox[3]&&(c[p].boundingbox[3]=L-1),l[L][E]=(we=this.pathscan_combined_lookup[l[L][E]][X])[0],X=we[1],L+=we[3],(E+=we[2])-1===c[p].points[0].x&&L-1===c[p].points[0].y)if(pe=!0,c[p].points.length<f)c.pop();else{if(c[p].isholepath=!!ve,ve){for(var Ze=0,ft=[-1,-1,k+1,Y+1],pt=0;pt<p;pt++)!c[pt].isholepath&&this.boundingboxincludes(c[pt].boundingbox,c[p].boundingbox)&&this.boundingboxincludes(ft,c[pt].boundingbox)&&(Ze=pt,ft=c[pt].boundingbox);c[Ze].holechildren.push(p)}p+=1}w+=1}return c}},{key:"boundingboxincludes",value:function(l,f){return l[0]<f[0]&&l[1]<f[1]&&l[2]>f[2]&&l[3]>f[3]}},{key:"batchpathscan",value:function(l,f){var c=[];for(var p in l)l.hasOwnProperty(p)&&(c[p]=this.pathscan(l[p],f));return c}},{key:"internodes",value:function(l,f){var Y,X,c=[],p=0,w=0,E=0;for(Y=0;Y<l.length;Y+=1)for(c[Y]={},c[Y].points=[],c[Y].boundingbox=l[Y].boundingbox,c[Y].holechildren=l[Y].holechildren,c[Y].isholepath=l[Y].isholepath,p=l[Y].points.length,X=0;X<p;X+=1)w=(X+1)%p,E=(X+2)%p,f.rightangleenhance&&this.testrightangle(l[Y],(X-2+p)%p,(X-1+p)%p,X,w,E)&&(c[Y].points.length>0&&(c[Y].points[c[Y].points.length-1].linesegment=this.getdirection(c[Y].points[c[Y].points.length-1].x,c[Y].points[c[Y].points.length-1].y,l[Y].points[X].x,l[Y].points[X].y)),c[Y].points.push({x:l[Y].points[X].x,y:l[Y].points[X].y,linesegment:this.getdirection(l[Y].points[X].x,l[Y].points[X].y,(l[Y].points[X].x+l[Y].points[w].x)/2,(l[Y].points[X].y+l[Y].points[w].y)/2)})),c[Y].points.push({x:(l[Y].points[X].x+l[Y].points[w].x)/2,y:(l[Y].points[X].y+l[Y].points[w].y)/2,linesegment:this.getdirection((l[Y].points[X].x+l[Y].points[w].x)/2,(l[Y].points[X].y+l[Y].points[w].y)/2,(l[Y].points[w].x+l[Y].points[E].x)/2,(l[Y].points[w].y+l[Y].points[E].y)/2)});return c}},{key:"testrightangle",value:function(l,f,c,p,w,E){return l.points[p].x===l.points[f].x&&l.points[p].x===l.points[c].x&&l.points[p].y===l.points[w].y&&l.points[p].y===l.points[E].y||l.points[p].y===l.points[f].y&&l.points[p].y===l.points[c].y&&l.points[p].x===l.points[w].x&&l.points[p].x===l.points[E].x}},{key:"getdirection",value:function(l,f,c,p){return l<c?f<p?1:f>p?7:0:l>c?f<p?3:f>p?5:4:f<p?2:f>p?6:8}},{key:"batchinternodes",value:function(l,f){var c=[];for(var p in l)l.hasOwnProperty(p)&&(c[p]=this.internodes(l[p],f));return c}},{key:"tracepath",value:function(l,f,c){var w,E,L,p=0,k={segments:[]};for(k.boundingbox=l.boundingbox,k.holechildren=l.holechildren,k.isholepath=l.isholepath;p<l.points.length;){var Y;for(w=l.points[p].linesegment,E=-1,L=p+1;(l.points[L].linesegment===w||l.points[L].linesegment===E||-1===E)&&L<l.points.length-1;)l.points[L].linesegment!==w&&-1===E&&(E=l.points[L].linesegment),L+=1;L===l.points.length-1&&(L=0),k.segments=$()(Y=k.segments).call(Y,this.fitseq(l,f,c,p,L)),p=L>0?L:l.points.length}return k}},{key:"fitseq",value:function(l,f,c,p,w){var E;if(w>l.points.length||w<0)return[];var X,pe,ve,L=p,k=0,Y=!0,we=w-p;we<0&&(we+=l.points.length);for(var ft,ze=(l.points[w].x-l.points[p].x)/we,Se=(l.points[w].y-l.points[p].y)/we,Ze=(p+1)%l.points.length;Ze!=w;)(ft=Ze-p)<0&&(ft+=l.points.length),(ve=(l.points[Ze].x-(X=l.points[p].x+ze*ft))*(l.points[Ze].x-X)+(l.points[Ze].y-(pe=l.points[p].y+Se*ft))*(l.points[Ze].y-pe))>f&&(Y=!1),ve>k&&(L=Ze,k=ve),Ze=(Ze+1)%l.points.length;if(Y)return[{type:"L",x1:l.points[p].x,y1:l.points[p].y,x2:l.points[w].x,y2:l.points[w].y}];var pt=L;Y=!0,k=0;var vt=(pt-p)/we,Ke=(1-vt)*(1-vt),Ot=2*(1-vt)*vt,ei=vt*vt,vi=(Ke*l.points[p].x+ei*l.points[w].x-l.points[pt].x)/-Ot,Ei=(Ke*l.points[p].y+ei*l.points[w].y-l.points[pt].y)/-Ot;for(Ze=p+1;Ze!=w;)(ve=(l.points[Ze].x-(X=(Ke=(1-(vt=(Ze-p)/we))*(1-vt))*l.points[p].x+(Ot=2*(1-vt)*vt)*vi+(ei=vt*vt)*l.points[w].x))*(l.points[Ze].x-X)+(l.points[Ze].y-(pe=Ke*l.points[p].y+Ot*Ei+ei*l.points[w].y))*(l.points[Ze].y-pe))>c&&(Y=!1),ve>k&&(L=Ze,k=ve),Ze=(Ze+1)%l.points.length;if(Y)return[{type:"Q",x1:l.points[p].x,y1:l.points[p].y,x2:vi,y2:Ei,x3:l.points[w].x,y3:l.points[w].y}];var Xt=pt;return $()(E=this.fitseq(l,f,c,p,Xt)).call(E,this.fitseq(l,f,c,Xt,w))}},{key:"batchtracepaths",value:function(l,f,c){var p=[];for(var w in l)l.hasOwnProperty(w)&&p.push(this.tracepath(l[w],f,c));return p}},{key:"batchtracelayers",value:function(l,f,c){var p=[];for(var w in l)l.hasOwnProperty(w)&&(p[w]=this.batchtracepaths(l[w],f,c));return p}},{key:"roundtodec",value:function(l,f){return Number(l.toFixed(f))}},{key:"svgpathstring",value:function(l,f,c,p){var w,E,X,L=l.layers[f],k=L[c],Y="";if(p.linefilter&&k.segments.length<3)return Y;if(Y=$()(w="<path ".concat(p.desc?$()(E='desc="l '.concat(f," p ")).call(E,c,'" '):"")).call(w,this.tosvgcolorstr(l.palette[f],p),'d="'),-1===p.roundcoords){var pe;for(Y+=$()(pe="M ".concat(k.segments[0].x1*p.scale," ")).call(pe,k.segments[0].y1*p.scale," "),X=0;X<k.segments.length;X++){var ve,we,ze;Y+=$()(ve=$()(we="".concat(k.segments[X].type," ")).call(we,k.segments[X].x2*p.scale," ")).call(ve,k.segments[X].y2*p.scale," "),k.segments[X].hasOwnProperty("x3")&&(Y+=$()(ze="".concat(k.segments[X].x3*p.scale," ")).call(ze,k.segments[X].y3*p.scale," "))}Y+="Z "}else{var Se;for(Y+=$()(Se="M ".concat(this.roundtodec(k.segments[0].x1*p.scale,p.roundcoords)," ")).call(Se,this.roundtodec(k.segments[0].y1*p.scale,p.roundcoords)," "),X=0;X<k.segments.length;X++){var Ze,ft,pt;Y+=$()(Ze=$()(ft="".concat(k.segments[X].type," ")).call(ft,this.roundtodec(k.segments[X].x2*p.scale,p.roundcoords)," ")).call(Ze,this.roundtodec(k.segments[X].y2*p.scale,p.roundcoords)," "),k.segments[X].hasOwnProperty("x3")&&(Y+=$()(pt="".concat(this.roundtodec(k.segments[X].x3*p.scale,p.roundcoords)," ")).call(pt,this.roundtodec(k.segments[X].y3*p.scale,p.roundcoords)," "))}Y+="Z "}for(var vt=0;vt<k.holechildren.length;vt++){var Ot,ei,Xt,Gi,Ke=L[k.holechildren[vt]];if(-1===p.roundcoords)for(Ke.segments[Ke.segments.length-1].hasOwnProperty("x3")?Y+=$()(Ot="M ".concat(Ke.segments[Ke.segments.length-1].x3*p.scale," ")).call(Ot,Ke.segments[Ke.segments.length-1].y3*p.scale," "):Y+=$()(ei="M ".concat(Ke.segments[Ke.segments.length-1].x2*p.scale," ")).call(ei,Ke.segments[Ke.segments.length-1].y2*p.scale," "),X=Ke.segments.length-1;X>=0;X--){var vi,Ei;Y+="".concat(Ke.segments[X].type," "),Ke.segments[X].hasOwnProperty("x3")&&(Y+=$()(Ei="".concat(Ke.segments[X].x2*p.scale," ")).call(Ei,Ke.segments[X].y2*p.scale," ")),Y+=$()(vi="".concat(Ke.segments[X].x1*p.scale," ")).call(vi,Ke.segments[X].y1*p.scale," ")}else for(Ke.segments[Ke.segments.length-1].hasOwnProperty("x3")?Y+=$()(Xt="M ".concat(this.roundtodec(Ke.segments[Ke.segments.length-1].x3*p.scale)," ")).call(Xt,this.roundtodec(Ke.segments[Ke.segments.length-1].y3*p.scale)," "):Y+=$()(Gi="M ".concat(this.roundtodec(Ke.segments[Ke.segments.length-1].x2*p.scale)," ")).call(Gi,this.roundtodec(Ke.segments[Ke.segments.length-1].y2*p.scale)," "),X=Ke.segments.length-1;X>=0;X--){var Wi,mi;Y+="".concat(Ke.segments[X].type," "),Ke.segments[X].hasOwnProperty("x3")&&(Y+=$()(mi="".concat(this.roundtodec(Ke.segments[X].x2*p.scale)," ")).call(mi,this.roundtodec(Ke.segments[X].y2*p.scale)," ")),Y+=$()(Wi="".concat(this.roundtodec(Ke.segments[X].x1*p.scale)," ")).call(Wi,this.roundtodec(Ke.segments[X].y1*p.scale)," ")}Y+="Z "}if(Y+='" />',p.lcpr||p.qcpr){for(X=0;X<k.segments.length;X++){var go,vo,mo,yo,_o,Co,zo,bo,xo,Mo,So,wo,To,Io,Eo,Oo,Ao;k.segments[X].hasOwnProperty("x3")&&p.qcpr&&(Y+=$()(go=$()(vo=$()(mo='<circle cx="'.concat(k.segments[X].x2*p.scale,'" cy="')).call(mo,k.segments[X].y2*p.scale,'" r="')).call(vo,p.qcpr,'" fill="cyan" stroke-width="')).call(go,.2*p.qcpr,'" stroke="black" />'),Y+=$()(yo=$()(_o=$()(Co='<circle cx="'.concat(k.segments[X].x3*p.scale,'" cy="')).call(Co,k.segments[X].y3*p.scale,'" r="')).call(_o,p.qcpr,'" fill="white" stroke-width="')).call(yo,.2*p.qcpr,'" stroke="black" />'),Y+=$()(zo=$()(bo=$()(xo=$()(Mo='<line x1="'.concat(k.segments[X].x1*p.scale,'" y1="')).call(Mo,k.segments[X].y1*p.scale,'" x2="')).call(xo,k.segments[X].x2*p.scale,'" y2="')).call(bo,k.segments[X].y2*p.scale,'" stroke-width="')).call(zo,.2*p.qcpr,'" stroke="cyan" />'),Y+=$()(So=$()(wo=$()(To=$()(Io='<line x1="'.concat(k.segments[X].x2*p.scale,'" y1="')).call(Io,k.segments[X].y2*p.scale,'" x2="')).call(To,k.segments[X].x3*p.scale,'" y2="')).call(wo,k.segments[X].y3*p.scale,'" stroke-width="')).call(So,.2*p.qcpr,'" stroke="cyan" />')),!k.segments[X].hasOwnProperty("x3")&&p.lcpr&&(Y+=$()(Eo=$()(Oo=$()(Ao='<circle cx="'.concat(k.segments[X].x2*p.scale,'" cy="')).call(Ao,k.segments[X].y2*p.scale,'" r="')).call(Oo,p.lcpr,'" fill="white" stroke-width="')).call(Eo,.2*p.lcpr,'" stroke="black" />'))}for(vt=0;vt<k.holechildren.length;vt++)for(Ke=L[k.holechildren[vt]],X=0;X<Ke.segments.length;X++){var Do,Oi,qi,Es,Os,As,Ds,ks,Ls,Ns,Hs,Ps,Fs,Rs,Bs,Vs,js;Ke.segments[X].hasOwnProperty("x3")&&p.qcpr&&(Y+=$()(Do=$()(Oi=$()(qi='<circle cx="'.concat(Ke.segments[X].x2*p.scale,'" cy="')).call(qi,Ke.segments[X].y2*p.scale,'" r="')).call(Oi,p.qcpr,'" fill="cyan" stroke-width="')).call(Do,.2*p.qcpr,'" stroke="black" />'),Y+=$()(Es=$()(Os=$()(As='<circle cx="'.concat(Ke.segments[X].x3*p.scale,'" cy="')).call(As,Ke.segments[X].y3*p.scale,'" r="')).call(Os,p.qcpr,'" fill="white" stroke-width="')).call(Es,.2*p.qcpr,'" stroke="black" />'),Y+=$()(Ds=$()(ks=$()(Ls=$()(Ns='<line x1="'.concat(Ke.segments[X].x1*p.scale,'" y1="')).call(Ns,Ke.segments[X].y1*p.scale,'" x2="')).call(Ls,Ke.segments[X].x2*p.scale,'" y2="')).call(ks,Ke.segments[X].y2*p.scale,'" stroke-width="')).call(Ds,.2*p.qcpr,'" stroke="cyan" />'),Y+=$()(Hs=$()(Ps=$()(Fs=$()(Rs='<line x1="'.concat(Ke.segments[X].x2*p.scale,'" y1="')).call(Rs,Ke.segments[X].y2*p.scale,'" x2="')).call(Fs,Ke.segments[X].x3*p.scale,'" y2="')).call(Ps,Ke.segments[X].y3*p.scale,'" stroke-width="')).call(Hs,.2*p.qcpr,'" stroke="cyan" />')),!Ke.segments[X].hasOwnProperty("x3")&&p.lcpr&&(Y+=$()(Bs=$()(Vs=$()(js='<circle cx="'.concat(Ke.segments[X].x2*p.scale,'" cy="')).call(js,Ke.segments[X].y2*p.scale,'" r="')).call(Vs,p.lcpr,'" fill="white" stroke-width="')).call(Bs,.2*p.lcpr,'" stroke="black" />'))}}return Y}},{key:"getsvgstring",value:function(l,f){var c,p,w;f=this.checkoptions(f);for(var E=l.width*f.scale,L=l.height*f.scale,k=$()(c="<svg ".concat(f.viewbox?$()(p='viewBox="0 0 '.concat(E," ")).call(p,L,'" '):$()(w='width="'.concat(E,'" height="')).call(w,L,'" '),'version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer.js version ')).call(c,this.versionnumber,'" >'),Y=0;Y<l.layers.length;Y+=1)for(var X=0;X<l.layers[Y].length;X+=1)l.layers[Y][X].isholepath||(k+=this.svgpathstring(l,Y,X,f));return k+"</svg>"}},{key:"compareNumbers",value:function(l,f){return l-f}},{key:"torgbastr",value:function(l){var f,c,p;return $()(f=$()(c=$()(p="rgba(".concat(l.r,",")).call(p,l.g,",")).call(c,l.b,",")).call(f,l.a,")")}},{key:"tosvgcolorstr",value:function(l,f){var c,p,w,E,L,k,Y;return $()(c=$()(p=$()(w=$()(E=$()(L=$()(k=$()(Y='fill="rgb('.concat(l.r,",")).call(Y,l.g,",")).call(k,l.b,')" stroke="rgb(')).call(L,l.r,",")).call(E,l.g,",")).call(w,l.b,')" stroke-width="')).call(p,f.strokewidth,'" opacity="')).call(c,l.a/255,'" ')}},{key:"appendSVGString",value:function(l,f){var c;f?(c=document.getElementById(f))||((c=document.createElement("div")).id=f,document.body.appendChild(c)):(c=document.createElement("div"),document.body.appendChild(c)),c.innerHTML+=l}},{key:"blur",value:function(l,f,c){var p,w,E,k,Y,X,pe,ve,we,ze={width:l.width,height:l.height,data:[]};if((f=Math.floor(f))<1)return l;f>5&&(f=5),(c=Math.abs(c))>1024&&(c=1024);var Se=this.gks[f-1];for(w=0;w<l.height;w++)for(p=0;p<l.width;p++){for(Y=0,X=0,pe=0,ve=0,we=0,E=-f;E<f+1;E++)p+E>0&&p+E<l.width&&(Y+=l.data[k=4*(w*l.width+p+E)]*Se[E+f],X+=l.data[k+1]*Se[E+f],pe+=l.data[k+2]*Se[E+f],ve+=l.data[k+3]*Se[E+f],we+=Se[E+f]);ze.data[k=4*(w*l.width+p)]=Math.floor(Y/we),ze.data[k+1]=Math.floor(X/we),ze.data[k+2]=Math.floor(pe/we),ze.data[k+3]=Math.floor(ve/we)}var Ze=new Uint8ClampedArray(ze.data);for(w=0;w<l.height;w++)for(p=0;p<l.width;p++){for(Y=0,X=0,pe=0,ve=0,we=0,E=-f;E<f+1;E++)w+E>0&&w+E<l.height&&(Y+=Ze[k=4*((w+E)*l.width+p)]*Se[E+f],X+=Ze[k+1]*Se[E+f],pe+=Ze[k+2]*Se[E+f],ve+=Ze[k+3]*Se[E+f],we+=Se[E+f]);ze.data[k=4*(w*l.width+p)]=Math.floor(Y/we),ze.data[k+1]=Math.floor(X/we),ze.data[k+2]=Math.floor(pe/we),ze.data[k+3]=Math.floor(ve/we)}for(w=0;w<l.height;w++)for(p=0;p<l.width;p++)k=4*(w*l.width+p),Math.abs(ze.data[k]-l.data[k])+Math.abs(ze.data[k+1]-l.data[k+1])+Math.abs(ze.data[k+2]-l.data[k+2])+Math.abs(ze.data[k+3]-l.data[k+3])>c&&(ze.data[k]=l.data[k],ze.data[k+1]=l.data[k+1],ze.data[k+2]=l.data[k+2],ze.data[k+3]=l.data[k+3]);return ze}},{key:"loadImage",value:function(l,f,c){var p=new Image;c&&c.corsenabled&&(p.crossOrigin="Anonymous"),p.src=l,p.onload=function(){var w=document.createElement("canvas");w.width=p.width,w.height=p.height,w.getContext("2d").drawImage(p,0,0),f(w)}}},{key:"getImgdata",value:function(l){return l.getContext("2d").getImageData(0,0,l.width,l.height)}},{key:"drawLayers",value:function(l,f,c,p){var w,E,L,k,Y,X;for(Y in c=c||1,p?(X=document.getElementById(p))||((X=document.createElement("div")).id=p,document.body.appendChild(X)):(X=document.createElement("div"),document.body.appendChild(X)),l)if(l.hasOwnProperty(Y)){w=l[Y][0].length,E=l[Y].length;var pe=document.createElement("canvas");pe.width=w*c,pe.height=E*c;var ve=pe.getContext("2d");for(k=0;k<E;k+=1)for(L=0;L<w;L+=1)ve.fillStyle=this.torgbastr(f[l[Y][k][L]%f.length]),ve.fillRect(L*c,k*c,c,c);X.appendChild(pe)}}}],[{key:"tracerDefaultOption",value:function(){return{pathomit:100,ltres:.1,qtres:1,scale:1,strokewidth:5,viewbox:!1,linefilter:!0,desc:!1,rightangleenhance:!1,pal:[{r:0,g:0,b:0,a:255},{r:255,g:255,b:255,a:255}]}}}]),O}(),z1={getActions:function(){return{main:this._mainAction(),shape:this._shapeAction(),crop:this._cropAction(),resize:this._resizeAction(),flip:this._flipAction(),rotate:this._rotateAction(),text:this._textAction(),mask:this._maskAction(),draw:this._drawAction(),icon:this._iconAction(),filter:this._filterAction(),history:this._historyAction()}},_mainAction:function(){var _=this,l=function(){"crop"===_.ui.submenu&&(_.stopDrawingMode(),_.ui.changeMenu("crop"))},p=function(Y){return function(Y){"rotate"===_.ui.submenu&&_.ui.rotate.setRangeBarAngle("setAngle",Y)}(Y),function(Y){"filter"===_.ui.submenu&&pn()(_.ui).setFilterState(Y)}(Y),Y},L=function(){pn()(_.ui)&&pn()(_.ui).initFilterCheckBoxState()};return ie()({initLoadImage:function(Y,X){return _.loadImageFromURL(Y,X).then(function(pe){l(),_.ui.initializeImgUrl=Y,_.ui.resizeEditor({imageSize:pe}),_.clearUndoStack(),_._invoker.fire(He.EXECUTE_COMMAND,_t.LOAD_IMAGE)})},undo:function(){_.isEmptyUndoStack()||(l(),_.deactivateAll(),_.undo().then(p))},redo:function(){_.isEmptyRedoStack()||(l(),_.deactivateAll(),_.redo().then(p))},reset:function(){l(),_.loadImageFromURL(_.ui.initializeImgUrl,"resetImage").then(function(Y){l(),L(),_.ui.resizeEditor({imageSize:Y}),_.clearUndoStack(),_._initHistory()})},delete:function(){_.ui.changeHelpButtonEnabled("delete",!1),l(),_.removeActiveObject(),_.activeObjectId=null},deleteAll:function(){l(),_.clearObjects(),_.ui.changeHelpButtonEnabled("delete",!1),_.ui.changeHelpButtonEnabled("deleteAll",!1)},load:function(Y){li()||alert("This browser does not support file-api"),_.ui.initializeImgUrl=he().createObjectURL(Y),_.loadImageFromFile(Y).then(function(X){l(),L(),_.clearUndoStack(),_.ui.activeMenuEvent(),_.ui.resizeEditor({imageSize:X}),_._clearHistory(),_._invoker.fire(He.EXECUTE_COMMAND,_t.LOAD_IMAGE)}).catch(function(X){return Ae().reject(X)})},download:function(){var pe,ve,Y=_.toDataURL(),X=_.getImageName();li()&&window.saveAs?(ve=(pe=function Go(O){var f,c,p,l="";f=O.replace(/data:(image\/.+);base64,/,function(E,L){return l=L,""});var w=(f=atob(f)).length;for(c=new Uint8Array(w),p=0;p<w;p+=1)c[p]=f.charCodeAt(p);return new Blob([c],{type:l})}(Y)).type.split("/")[1],X.split(".").pop()!==ve&&(X+=".".concat(ve)),saveAs(pe,X)):window.open().document.body.innerHTML="<img src='".concat(Y,"'>")},history:function(Y){_.ui.toggleHistoryMenu(Y)},zoomIn:function(){var Y;_.ui.toggleZoomButtonStatus("zoomIn"),_.deactivateAll(),Y=_._graphics.getZoomMode(),_.stopDrawingMode(),Y!==si.ZOOM?(_.startDrawingMode(Tt.ZOOM),_._graphics.startZoomInMode()):_._graphics.endZoomInMode()},zoomOut:function(){_._graphics.zoomOut()},hand:function(){var Y;_.ui.offZoomInButtonStatus(),_.ui.toggleZoomButtonStatus("hand"),_.deactivateAll(),Y=_._graphics.getZoomMode(),_.stopDrawingMode(),Y!==si.HAND?(_.startDrawingMode(Tt.ZOOM),_._graphics.startHandMode()):_._graphics.endHandMode()}},this._commonAction())},_iconAction:function(){var _=this;return ie()({changeColor:function(f){_.activeObjectId&&_.changeIconColor(_.activeObjectId,f)},addIcon:function(f,c){_.startDrawingMode("ICON"),_.setDrawingIcon(f,c)},cancelAddIcon:function(){_.ui.icon.clearIconType(),_.changeSelectableAll(!0),_.changeCursor("default"),_.stopDrawingMode()},registerDefaultIcons:function(f,c){var p={};p[f]=c,_.registerIcons(p)},registerCustomIcon:function(f,c){(new ka).imageToSVG(f,function(w){var L=ye(w.match(/path[^>]*d="([^"]*)"/),2),Y={};Y[c.name]=L[1],_.registerIcons(Y),_.addIcon(c.name,{left:100,top:100})},ka.tracerDefaultOption())}},this._commonAction())},_drawAction:function(){var _=this;return ie()({setDrawMode:function(f,c){_.stopDrawingMode(),_.startDrawingMode("free"===f?"FREE_DRAWING":"LINE_DRAWING",c)},setColor:function(f){_.setBrush({color:f})}},this._commonAction())},_maskAction:function(){var _=this;return ie()({loadImageFromURL:function(f,c){return _.loadImageFromURL(_.toDataURL(),"FilterImage").then(function(){_.addImageObject(f).then(function(){he().revokeObjectURL(c)}),_._invoker.fire(He.EXECUTE_COMMAND,_t.LOAD_MASK_IMAGE)})},applyFilter:function(){_.applyFilter("mask",{maskObjId:_.activeObjectId})}},this._commonAction())},_textAction:function(){var _=this;return ie()({changeTextStyle:function(f,c){_.activeObjectId&&_.changeTextStyle(_.activeObjectId,f,c)}},this._commonAction())},_rotateAction:function(){var _=this;return ie()({rotate:function(f,c){_.rotate(f,c),_.ui.resizeEditor(),_.ui.rotate.setRangeBarAngle("rotate",f)},setAngle:function(f,c){_.setAngle(f,c),_.ui.resizeEditor(),_.ui.rotate.setRangeBarAngle("setAngle",f)}},this._commonAction())},_shapeAction:function(){var _=this;return ie()({changeShape:function(f,c){_.activeObjectId&&_.changeShape(_.activeObjectId,f,c)},setDrawingShape:function(f){_.setDrawingShape(f)}},this._commonAction())},_cropAction:function(){var _=this;return ie()({crop:function(){var f=_.getCropzoneRect();f&&!function $r(O){return O.left===Qi.LEFT&&O.top===Qi.TOP&&O.width===Qi.WIDTH&&O.height===Qi.HEIGHT}(f)&&_.crop(f).then(function(){_.stopDrawingMode(),_.ui.resizeEditor(),_.ui.changeMenu("crop"),_._invoker.fire(He.EXECUTE_COMMAND,_t.CROP)}).catch(function(c){return Ae().reject(c)})},cancel:function(){_.stopDrawingMode(),_.ui.changeMenu("crop")},preset:function(f){switch(f){case"preset-square":_.setCropzoneRect(1);break;case"preset-3-2":_.setCropzoneRect(1.5);break;case"preset-4-3":_.setCropzoneRect(4/3);break;case"preset-5-4":_.setCropzoneRect(5/4);break;case"preset-7-5":_.setCropzoneRect(1.4);break;case"preset-16-9":_.setCropzoneRect(16/9);break;default:_.setCropzoneRect(),_.ui.crop.changeApplyButtonStatus(!1)}}},this._commonAction())},_resizeAction:function(){var _=this;return ie()({getCurrentDimensions:function(){return _._graphics.getCurrentDimensions()},preview:function(f,c,p){var w=_._graphics.getCurrentDimensions(),E=function(){return w.width/w.height},L={};switch(f){case"width":L.width=c,L.height=p?c/E():w.height;break;case"height":L.height=c,L.width=p?c*E():w.width;break;default:L=w}_._graphics.resize(L).then(function(){_.ui.resizeEditor()}),p&&(_.ui.resize.setWidthValue(L.width),_.ui.resize.setHeightValue(L.height))},lockAspectRatio:function(f,c,p){var w=_._graphics.getCurrentDimensions(),E=w.width,L=w.height,k=E/L;if(f)if(E>L){var Y=p/k,X=c*k;_.ui.resize.setLimit({minWidth:X>c?X:c,minHeight:c,maxWidth:p,maxHeight:Y<p?Y:p})}else{var pe=p*k,ve=c/k;_.ui.resize.setLimit({minWidth:c,minHeight:ve>c?ve:c,maxWidth:pe<p?pe:p,maxHeight:p})}else _.ui.resize.setLimit({minWidth:c,minHeight:c,maxWidth:p,maxHeight:p})},resize:function(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;f||(f=_._graphics.getCurrentDimensions()),_.resize(f).then(function(){_._graphics.setOriginalDimensions(f),_.stopDrawingMode(),_.ui.resizeEditor(),_.ui.changeMenu("resize")}).catch(function(c){return Ae().reject(c)})},reset:function(){var f=arguments.length>0&&void 0!==arguments[0]&&arguments[0],c=_._graphics.getOriginalDimensions();_.ui.resize.setWidthValue(c.width,!0),_.ui.resize.setHeightValue(c.height,!0),_._graphics.resize(c).then(function(){f||(_.stopDrawingMode(),_.ui.resizeEditor(),_.ui.changeMenu("resize"))})}},this._commonAction())},_flipAction:function(){var _=this;return ie()({flip:function(f){return _[f]()}},this._commonAction())},_filterAction:function(){var _=this;return ie()({applyFilter:function(f,c,p,w){f?_.applyFilter(c,p,w):_.hasFilter(c)&&_.removeFilter(c)}},this._commonAction())},setReAction:function(){var _=this;this.on({undoStackChanged:function(f){f?(_.ui.changeHelpButtonEnabled("undo",!0),_.ui.changeHelpButtonEnabled("reset",!0)):(_.ui.changeHelpButtonEnabled("undo",!1),_.ui.changeHelpButtonEnabled("reset",!1)),_.ui.resizeEditor()},redoStackChanged:function(f){_.ui.changeHelpButtonEnabled("redo",!!f),_.ui.resizeEditor()},objectActivated:function(f){var c,p;_.activeObjectId=f.id,_.ui.changeHelpButtonEnabled("delete",!0),_.ui.changeHelpButtonEnabled("deleteAll",!0),"cropzone"===f.type?_.ui.crop.changeApplyButtonStatus(!0):y()(c=["rect","circle","triangle"]).call(c,f.type)>-1?(_.stopDrawingMode(),"shape"!==_.ui.submenu&&_.ui.changeMenu("shape",!1,!1),_.ui.shape.setShapeStatus({strokeColor:f.stroke,strokeWidth:f.strokeWidth,fillColor:Oe()(f)}),_.ui.shape.setMaxStrokeValue(Math.min(f.width,f.height))):"path"===f.type||"line"===f.type?"draw"!==_.ui.submenu&&(_.ui.changeMenu("draw",!1,!1),_.ui.draw.changeStandbyMode()):y()(p=["i-text","text"]).call(p,f.type)>-1?("text"!==_.ui.submenu&&_.ui.changeMenu("text",!1,!1),_.ui.text.setTextStyleStateOnAction(f)):"icon"===f.type&&(_.stopDrawingMode(),"icon"!==_.ui.submenu&&_.ui.changeMenu("icon",!1,!1),_.ui.icon.setIconPickerColor(Oe()(f)))},addText:function(f){var c=_.ui.text;_.addText("Double Click",{position:f.originPosition,styles:{fill:c.textColor,fontSize:c.fontSize,fontFamily:"Noto Sans",fontStyle:c.fontStyle,fontWeight:c.fontWeight,underline:c.underline}}).then(function(){_.changeCursor("default")})},addObjectAfter:function(f){var c;"icon"===f.type?_.ui.icon.changeStandbyMode():y()(c=["rect","circle","triangle"]).call(c,f.type)>-1&&(_.ui.shape.setMaxStrokeValue(Math.min(f.width,f.height)),_.ui.shape.changeStandbyMode())},objectScaled:function(f){var c,p;if(y()(c=["i-text","text"]).call(c,f.type)>-1)_.ui.text.fontSize=Je(f.fontSize);else if(y()(p=["rect","circle","triangle"]).call(p,f.type)>=0){var w=f.width,E=f.height,L=_.ui.shape.getStrokeValue();w<L&&_.ui.shape.setStrokeValue(w),E<L&&_.ui.shape.setStrokeValue(E)}},selectionCleared:function(){_.activeObjectId=null,"text"===_.ui.submenu?_.changeCursor("text"):Mn(["draw","crop","resize"],_.ui.submenu)||_.stopDrawingMode()}})},_historyAction:function(){var _=this;return{undo:function(f){return _.undo(f)},redo:function(f){return _.redo(f)}}},_commonAction:function(){var l,f,c,p,_=this,w=Tt.TEXT,E=Tt.CROPPER,L=Tt.SHAPE,k=Tt.ZOOM,Y=Tt.RESIZE;return{modeChange:function(pe){switch(pe){case di_TEXT:_._changeActivateMode(w);break;case di_CROP:_.startDrawingMode(E);break;case di_SHAPE:_._changeActivateMode(L),_.setDrawingShape(_.ui.shape.type,_.ui.shape.options);break;case di_ZOOM:_.startDrawingMode(k);break;case di_RESIZE:_.startDrawingMode(Y)}},deactivateAll:le()(l=this.deactivateAll).call(l,this),changeSelectableAll:le()(f=this.changeSelectableAll).call(f,this),discardSelection:le()(c=this.discardSelection).call(c,this),stopDrawingMode:le()(p=this.stopDrawingMode).call(p,this)}},mixin:function(_){ie()(_.prototype,this)}},b1=q(602),La=q.n(b1),x1=q(5573),so=q.n(x1),M1=function(){function O(_,l){ee(this,O),this.name=_,this.graphics=l}return ge(O,[{key:"fire",value:function(){for(var l=this.graphics,f=arguments.length,c=new Array(f),p=0;p<f;p++)c[p]=arguments[p];return this.graphics.fire.apply(l,c)}},{key:"setCanvasImage",value:function(l,f){this.graphics.setCanvasImage(l,f)}},{key:"getCanvasElement",value:function(){return this.graphics.getCanvasElement()}},{key:"getCanvas",value:function(){return this.graphics.getCanvas()}},{key:"getCanvasImage",value:function(){return this.graphics.getCanvasImage()}},{key:"getImageName",value:function(){return this.graphics.getImageName()}},{key:"getEditor",value:function(){return this.graphics.getEditor()}},{key:"getName",value:function(){return this.name}},{key:"setImageProperties",value:function(l,f){this.graphics.setImageProperties(l,f)}},{key:"setCanvasCssDimension",value:function(l){this.graphics.setCanvasCssDimension(l)}},{key:"setCanvasBackstoreDimension",value:function(l){this.graphics.setCanvasBackstoreDimension(l)}},{key:"adjustCanvasDimension",value:function(){this.graphics.adjustCanvasDimension()}},{key:"adjustCanvasDimensionBase",value:function(){this.graphics.adjustCanvasDimensionBase()}}]),O}(),Si=M1;function Na(O){var _=function S1(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var w1={padding:0,crossOrigin:"Anonymous"},I1=function(O){kt(l,O);var _=Na(l);function l(f){return ee(this,l),_.call(this,Ue.IMAGE_LOADER,f)}return ge(l,[{key:"load",value:function(c,p){var E,w=this;if(c||p)E=this._setBackgroundImage(p).then(function(k){return w.setCanvasImage(c,k),w.adjustCanvasDimension(),k});else{var L=this.getCanvas();L.backgroundImage=null,L.renderAll(),E=new(Ae())(function(k){w.setCanvasImage("",null),k()})}return E}},{key:"_setBackgroundImage",value:function(c){var p=this;return c?new(Ae())(function(w,E){var L=p.getCanvas();L.setBackgroundImage(c,function(){var k=L.backgroundImage;k&&k.getElement()?w(k):E(Dt.loadingImageFailed)},w1)}):Ae().reject(Dt.loadImage)}}]),l}(Si),Ha=["tl","tr","mt","ml","mr","mb","bl","br"],ur=function(){};function co(O,_){return O>_?"width":"height"}var R1=fe.fabric.util.createClass(fe.fabric.Rect,{initialize:function(_,l,f){(l=ie()(l,f)).type="cropzone",this.callSuper("initialize",l),this._addEventHandler(),this.canvas=_,this.options=l},canvasEventDelegation:function(_){var l,f="unregistered";return this.canvasEventTrigger[_]!==ur?f="registered":y()(l=[He.OBJECT_MOVED,He.OBJECT_SCALED]).call(l,_)<0&&(f="none"),f},canvasEventRegister:function(_,l){this.canvasEventTrigger[_]=l},_addEventHandler:function(){var _,l,f,c,p;this.canvasEventTrigger=(W(_={},He.OBJECT_MOVED,ur),W(_,He.OBJECT_SCALED,ur),_),this.on({moving:le()(l=this._onMoving).call(l,this),scaling:le()(f=this._onScaling).call(f,this)}),fe.fabric.util.addListener(document,"keydown",le()(c=this._onKeyDown).call(c,this)),fe.fabric.util.addListener(document,"keyup",le()(p=this._onKeyUp).call(p,this))},_renderCropzone:function(_){var w=(this.flipX?-1:1)/this.scaleX,E=(this.flipY?-1:1)/this.scaleY;_.scale(w,E),this._fillOuterRect(_,"rgba(0, 0, 0, 0.5)"),this.options.lineWidth?(this._fillInnerRect(_),this._strokeBorder(_,"rgb(255, 255, 255)",{lineWidth:this.options.lineWidth})):(this._strokeBorder(_,"rgb(0, 0, 0)",{lineDashWidth:7}),this._strokeBorder(_,"rgb(255, 255, 255)",{lineDashWidth:7,lineDashOffset:7})),_.scale(1/w,1/E)},_render:function(_){this.callSuper("_render",_),this._renderCropzone(_)},_fillOuterRect:function(_,l){var f=this._getCoordinates(),c=f.x,p=f.y;_.save(),_.fillStyle=l,_.beginPath(),_.moveTo(c[0]-1,p[0]-1),_.lineTo(c[3]+1,p[0]-1),_.lineTo(c[3]+1,p[3]+1),_.lineTo(c[0]-1,p[3]+1),_.lineTo(c[0]-1,p[0]-1),_.closePath(),_.moveTo(c[1],p[1]),_.lineTo(c[1],p[2]),_.lineTo(c[2],p[2]),_.lineTo(c[2],p[1]),_.lineTo(c[1],p[1]),_.closePath(),Oe()(_).call(_),_.restore()},_fillInnerRect:function(_){var l=this._getCoordinates(),f=l.x,c=l.y,p=this._caculateInnerPosition(f,(f[2]-f[1])/3),w=this._caculateInnerPosition(c,(c[2]-c[1])/3);_.save(),_.strokeStyle="rgba(255, 255, 255, 0.7)",_.lineWidth=this.options.lineWidth,_.beginPath(),_.moveTo(p[0],w[1]),_.lineTo(p[3],w[1]),_.moveTo(p[0],w[2]),_.lineTo(p[3],w[2]),_.moveTo(p[1],w[0]),_.lineTo(p[1],w[3]),_.moveTo(p[2],w[0]),_.lineTo(p[2],w[3]),_.stroke(),_.closePath(),_.restore()},_caculateInnerPosition:function(_,l){var f=[];return f[0]=_[1],f[1]=_[1]+l,f[2]=_[1]+2*l,f[3]=_[2],f},_getCoordinates:function(){var _,l,f=this.canvas,c=this.width,p=this.height,w=this.left,E=this.top,L=c/2,k=p/2,Y=f.getHeight(),X=f.getWidth();return{x:hi()(_=[-(L+w),-L,L,L+(X-w-c)]).call(_,Math.ceil),y:hi()(l=[-(k+E),-k,k,k+(Y-E-p)]).call(l,Math.ceil)}},_strokeBorder:function(_,l,f){var c=f.lineDashWidth,p=f.lineDashOffset,w=f.lineWidth,E=this.width/2,L=this.height/2;_.save(),_.strokeStyle=l,_.setLineDash&&_.setLineDash([c,c]),p&&(_.lineDashOffset=p),w&&(_.lineWidth=w),_.beginPath(),_.moveTo(-E,-L),_.lineTo(E,-L),_.lineTo(E,L),_.lineTo(-E,L),_.lineTo(-E,-L),_.stroke(),_.restore()},_onMoving:function(){var _=this.height,l=this.width,f=this.left,c=this.top,p=this.canvas.getWidth()-l,w=this.canvas.getHeight()-_;this.left=Ct(f,0,p),this.top=Ct(c,0,w),this.canvasEventTrigger[He.OBJECT_MOVED](this)},_onScaling:function(_){var l=_.transform.corner,f=this.canvas.getPointer(_.e),c=this._calcScalingSizeFromPointer(f,l);this.scale(1).set(c),this.canvasEventTrigger[He.OBJECT_SCALED](this)},_calcScalingSizeFromPointer:function(_,l){return function P1(O){return y()(Ha).call(Ha,O)>=0}(l)&&this._resizeCropZone(_,l)},adjustRatioCropzoneSize:function(_){var l=_.width,f=_.height,c=_.leftMaker,p=_.topMaker,w=_.maxWidth,E=_.maxHeight,L=_.scaleTo;if(l=w?Ct(l,1,w):l,f=E?Ct(f,1,E):f,!this.presetRatio)return this._withShiftKey&&(l>f?f=l:f>l&&(l=f)),{width:l,height:f,left:c(l),top:p(f)};"width"===L?f=l/this.presetRatio:l=f*this.presetRatio;var k=Math.min(w/l,E/f);if(k<=1){var Y,pe=ye(hi()(Y=[l,f]).call(Y,function(ve){return ve*k}),2);l=pe[0],f=pe[1]}return{width:l,height:f,left:c(l),top:p(f)}},_getCropzoneRectInfo:function(){var _=this.canvas,l=_.width,f=_.height,c=this.getBoundingRect(!1,!0),p=c.top,w=c.left,E=c.width,L=c.height;return{rectTop:p,rectLeft:w,rectWidth:E,rectHeight:L,rectRight:w+E,rectBottom:p+L,canvasWidth:l,canvasHeight:f}},_resizeCropZone:function(_,l){var f=_.x,c=_.y,p=this._getCropzoneRectInfo(),w=p.rectWidth,E=p.rectHeight,L=p.rectTop,k=p.rectLeft,Y=p.rectBottom,X=p.rectRight,pe=p.canvasWidth,ve=p.canvasHeight,we={tl:{width:X-f,height:Y-c,leftMaker:function(Se){return X-Se},topMaker:function(Se){return Y-Se},maxWidth:X,maxHeight:Y,scaleTo:co(k-f,L-c)},tr:{width:f-k,height:Y-c,leftMaker:function(){return k},topMaker:function(Se){return Y-Se},maxWidth:pe-k,maxHeight:Y,scaleTo:co(f-X,L-c)},mt:{width:w,height:Y-c,leftMaker:function(){return k},topMaker:function(Se){return Y-Se},maxWidth:pe-k,maxHeight:Y,scaleTo:"height"},ml:{width:X-f,height:E,leftMaker:function(Se){return X-Se},topMaker:function(){return L},maxWidth:X,maxHeight:ve-L,scaleTo:"width"},mr:{width:f-k,height:E,leftMaker:function(){return k},topMaker:function(){return L},maxWidth:pe-k,maxHeight:ve-L,scaleTo:"width"},mb:{width:w,height:c-L,leftMaker:function(){return k},topMaker:function(){return L},maxWidth:pe-k,maxHeight:ve-L,scaleTo:"height"},bl:{width:X-f,height:c-L,leftMaker:function(Se){return X-Se},topMaker:function(){return L},maxWidth:X,maxHeight:ve-L,scaleTo:co(k-f,c-Y)},br:{width:f-k,height:c-L,leftMaker:function(){return k},topMaker:function(){return L},maxWidth:pe-k,maxHeight:ve-L,scaleTo:co(f-X,c-Y)}};return this.adjustRatioCropzoneSize(we[l])},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0},_onKeyDown:function(_){_.keyCode===Vt_SHIFT&&(this._withShiftKey=!0)},_onKeyUp:function(_){_.keyCode===Vt_SHIFT&&(this._withShiftKey=!1)}});function B1(O){var _=function V1(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var Y1={presetRatio:null,top:-10,left:-10,height:1,width:1},U1=function(O){kt(l,O);var _=B1(l);function l(f){var c,p,w,E,L,k;return ee(this,l),(k=_.call(this,Ue.CROPPER,f))._cropzone=null,k._startX=null,k._startY=null,k._withShiftKey=!1,k._listeners={keydown:le()(c=k._onKeyDown).call(c,Mt(k)),keyup:le()(p=k._onKeyUp).call(p,Mt(k)),mousedown:le()(w=k._onFabricMouseDown).call(w,Mt(k)),mousemove:le()(E=k._onFabricMouseMove).call(E,Mt(k)),mouseup:le()(L=k._onFabricMouseUp).call(L,Mt(k))},k}return ge(l,[{key:"start",value:function(){if(!this._cropzone){var c=this.getCanvas();c.forEachObject(function(p){p.evented=!1}),this._cropzone=new R1(c,ie()({left:0,top:0,width:.5,height:.5,strokeWidth:0,cornerSize:10,cornerColor:"black",fill:"transparent"},Wt,this.graphics.cropSelectionStyle)),c.discardActiveObject(),c.add(this._cropzone),c.on("mouse:down",this._listeners.mousedown),c.selection=!1,c.defaultCursor="crosshair",fe.fabric.util.addListener(document,"keydown",this._listeners.keydown),fe.fabric.util.addListener(document,"keyup",this._listeners.keyup)}}},{key:"end",value:function(){var c=this.getCanvas(),p=this._cropzone;p&&(c.remove(p),c.selection=!0,c.defaultCursor="default",c.off("mouse:down",this._listeners.mousedown),c.forEachObject(function(w){w.evented=!0}),this._cropzone=null,fe.fabric.util.removeListener(document,"keydown",this._listeners.keydown),fe.fabric.util.removeListener(document,"keyup",this._listeners.keyup))}},{key:"changeVisibility",value:function(c){this._cropzone&&this._cropzone.set({visible:c})}},{key:"_onFabricMouseDown",value:function(c){var p=this.getCanvas();if(!c.target){p.selection=!1;var w=p.getPointer(c.e);this._startX=w.x,this._startY=w.y,p.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}},{key:"_onFabricMouseMove",value:function(c){var p=this.getCanvas(),w=p.getPointer(c.e),E=w.x,L=w.y,k=this._cropzone;Math.abs(E-this._startX)+Math.abs(L-this._startY)>10&&(p.remove(k),k.set(this._calcRectDimensionFromPoint(E,L,k.presetRatio)),p.add(k),p.setActiveObject(k))}},{key:"_calcRectDimensionFromPoint",value:function(c,p){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,E=this.getCanvas(),L=E.getWidth(),k=E.getHeight(),Y=this._startX,X=this._startY,pe=Ct(c,0,Y),ve=Ct(p,0,X),we=Ct(c,Y,L)-pe,ze=Ct(p,X,k)-ve;return this._withShiftKey&&!w?(we>ze?ze=we:ze>we&&(we=ze),Y>=c&&(pe=Y-we),X>=p&&(ve=X-ze)):w&&(ze=we/w,Y>=c&&(pe=Ct(Y-we,0,L)),X>=p&&(ve=Ct(X-ze,0,k)),ve+ze>k&&(we=(ze=k-ve)*w,Y>=c&&(pe=Ct(Y-we,0,L)),X>=p&&(ve=Ct(X-ze,0,k)))),{left:pe,top:ve,width:we,height:ze}}},{key:"_onFabricMouseUp",value:function(){var c=this._cropzone,p=this._listeners,w=this.getCanvas();w.setActiveObject(c),w.off({"mouse:move":p.mousemove,"mouse:up":p.mouseup})}},{key:"getCroppedImageData",value:function(c){var p=this.getCanvas(),w=p.contains(this._cropzone);if(!c)return null;w&&p.remove(this._cropzone);var E={imageName:this.getImageName(),url:p.toDataURL(c)};return w&&p.add(this._cropzone),E}},{key:"getCropzoneRect",value:function(){var c=this._cropzone;return c.isValid()?{left:c.left,top:c.top,width:c.width,height:c.height}:null}},{key:"setCropzoneRect",value:function(c){var p=this.getCanvas(),w=this._cropzone;p.discardActiveObject(),p.selection=!1,p.remove(w),w.set(c?this._getPresetPropertiesForCropSize(c):Y1),p.add(w),p.selection=!0,c&&p.setActiveObject(w)}},{key:"_getPresetPropertiesForCropSize",value:function(c){var p,w,E=this.getCanvas(),L=E.getWidth(),k=E.getHeight(),Y=L>=k?L:k,X=function(Ke,Ot){return Ke>Ot?Ot/Ke:1},pe=Y*c,ve=Y,we=X(pe,L),Se=ye(hi()(p=[pe,ve]).call(p,function(vt){return vt*we}),2);pe=Se[0];var Ze=X(ve=Se[1],k),pt=ye(hi()(w=[pe,ve]).call(w,function(vt){return function Oc(O){return Number(O.toFixed(fi))}(vt*Ze)}),2);return{presetRatio:c,top:(k-(ve=pt[1]))/2,left:(L-(pe=pt[0]))/2,width:pe,height:ve}}},{key:"_onKeyDown",value:function(c){c.keyCode===Vt_SHIFT&&(this._withShiftKey=!0)}},{key:"_onKeyUp",value:function(c){c.keyCode===Vt_SHIFT&&(this._withShiftKey=!1)}}]),l}(Si),G1=U1;function W1(O){var _=function Z1(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var Q1=function(O){kt(l,O);var _=W1(l);function l(f){return ee(this,l),_.call(this,Ue.FLIP,f)}return ge(l,[{key:"getCurrentSetting",value:function(){var c=this.getCanvasImage();return{flipX:c.flipX,flipY:c.flipY}}},{key:"set",value:function(c){var p=this.getCurrentSetting(),w=p.flipX!==c.flipX,E=p.flipY!==c.flipY;return w||E?(ie()(p,c),this.setImageProperties(p,!0),this._invertAngle(w,E),this._flipObjects(w,E),Ae().resolve({flipX:p.flipX,flipY:p.flipY,angle:this.getCanvasImage().angle})):Ae().reject(Dt.flip)}},{key:"_invertAngle",value:function(c,p){var w=this.getCanvasImage(),E=w.angle;c&&(E*=-1),p&&(E*=-1),w.rotate(jt()(E)).setCoords()}},{key:"_flipObjects",value:function(c,p){var w=this.getCanvas();c&&w.forEachObject(function(E){E.set({angle:jt()(-1*E.angle),flipX:!E.flipX,left:w.width-E.left}).setCoords()}),p&&w.forEachObject(function(E){E.set({angle:jt()(-1*E.angle),flipY:!E.flipY,top:w.height-E.top}).setCoords()}),w.renderAll()}},{key:"reset",value:function(){return this.set({flipX:!1,flipY:!1})}},{key:"flipX",value:function(){var c=this.getCurrentSetting();return this.set({flipX:!c.flipX,flipY:c.flipY})}},{key:"flipY",value:function(){var c=this.getCurrentSetting();return this.set({flipX:c.flipX,flipY:!c.flipY})}}]),l}(Si);function J1(O){var _=function $1(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var q1=function(O){kt(l,O);var _=J1(l);function l(f){return ee(this,l),_.call(this,Ue.ROTATION,f)}return ge(l,[{key:"getCurrentAngle",value:function(){return this.getCanvasImage().angle}},{key:"setAngle",value:function(c){var p=this.getCurrentAngle()%360;c%=360;var w=this.getCanvasImage(),E=w.getCenterPoint();w.set({angle:c}).setCoords(),this.adjustCanvasDimension();var L=w.getCenterPoint();return this._rotateForEachObject(E,L,c-p),Ae().resolve(c)}},{key:"_rotateForEachObject",value:function(c,p,w){var E=this.getCanvas(),L_x=c.x-p.x,L_y=c.y-p.y;E.forEachObject(function(k){var Y=k.getCenterPoint(),X=fe.fabric.util.degreesToRadians(w),pe=fe.fabric.util.rotatePoint(Y,c,X);k.set({left:pe.x-L_x,top:pe.y-L_y,angle:(k.angle+w)%360}),k.setCoords()}),E.renderAll()}},{key:"rotate",value:function(c){var p=this.getCurrentAngle();return this.setAngle(p+c)}}]),l}(Si);function el(O){var _=function tl(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var nl=function(O){kt(l,O);var _=el(l);function l(f){var c;return ee(this,l),(c=_.call(this,Ue.FREE_DRAWING,f)).width=12,c.oColor=new fe.fabric.Color("rgba(0, 0, 0, 0.5)"),c}return ge(l,[{key:"start",value:function(c){this.getCanvas().isDrawingMode=!0,this.setBrush(c)}},{key:"setBrush",value:function(c){var p=this.getCanvas().freeDrawingBrush;this.width=(c=c||{}).width||this.width,c.color&&(this.oColor=new fe.fabric.Color(c.color)),p.width=this.width,p.color=this.oColor.toRgba()}},{key:"end",value:function(){this.getCanvas().isDrawingMode=!1}}]),l}(Si),Ra=fe.fabric.util.createClass(fe.fabric.Line,{type:"line",initialize:function(_){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callSuper("initialize",_,l),this.arrowType=l.arrowType},_render:function(_){var l=this.calcLinePoints(),E={fromX:l.x1,fromY:l.y1,toX:l.x2,toY:l.y2};this.ctx=_,_.lineWidth=this.strokeWidth,this._renderBasicLinePath(E),this._drawDecoratorPath(E),this._renderStroke(_)},_renderBasicLinePath:function(_){var l=_.fromX,f=_.fromY,c=_.toX,p=_.toY;this.ctx.beginPath(),this.ctx.moveTo(l,f),this.ctx.lineTo(c,p)},_drawDecoratorPath:function(_){this._drawDecoratorPathType("head",_),this._drawDecoratorPathType("tail",_)},_drawDecoratorPathType:function(_,l){switch(this.arrowType[_]){case"triangle":this._drawTrianglePath(_,l);break;case"chevron":this._drawChevronPath(_,l)}},_drawTrianglePath:function(_,l){this._drawChevronPath(_,l,1.7*this.ctx.lineWidth),this.ctx.closePath()},_drawChevronPath:function(_,l,f){var c=this,p=l.fromX,w=l.fromY,E=l.toX,L=l.toY,k=this.ctx;f||(f=2.7*this.ctx.lineWidth);var X=ye("head"===_?[p,w]:[E,L],2),pe=X[0],ve=X[1],ze=ye("head"===_?[E,L]:[p,w],2),ft=180*Math.atan2(ze[1]-ve,ze[0]-pe)/Math.PI,pt=function(Ke){return c.getRotatePosition(f,Ke,{x:pe,y:ve})};k.moveTo.apply(k,V(pt(ft+30))),k.lineTo(pe,ve),k.lineTo.apply(k,V(pt(ft-30)))},getRotatePosition:function(_,l,f){var c=l*Math.PI/180,p=f.x,w=f.y;return[_*Math.cos(c)+p,_*Math.sin(c)+w]}}),al=Ra;function sl(O){var _=function cl(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var ll=function(O){kt(l,O);var _=sl(l);function l(f){var c,p,w,E;return ee(this,l),(E=_.call(this,Ue.LINE,f))._width=12,E._oColor=new fe.fabric.Color("rgba(0, 0, 0, 0.5)"),E._listeners={mousedown:le()(c=E._onFabricMouseDown).call(c,Mt(E)),mousemove:le()(p=E._onFabricMouseMove).call(p,Mt(E)),mouseup:le()(w=E._onFabricMouseUp).call(w,Mt(E))},E}return ge(l,[{key:"setHeadOption",value:function(c){var p=c.arrowType;this._arrowType=void 0===p?{head:null,tail:null}:p}},{key:"start",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=this.getCanvas();p.defaultCursor="crosshair",p.selection=!1,this.setHeadOption(c),this.setBrush(c),p.forEachObject(function(w){w.set({evented:!1})}),p.on({"mouse:down":this._listeners.mousedown})}},{key:"setBrush",value:function(c){var p=this.getCanvas().freeDrawingBrush;this._width=(c=c||{}).width||this._width,c.color&&(this._oColor=new fe.fabric.Color(c.color)),p.width=this._width,p.color=this._oColor.toRgba()}},{key:"end",value:function(){var c=this.getCanvas();c.defaultCursor="default",c.selection=!0,c.forEachObject(function(p){p.set({evented:!0})}),c.off("mouse:down",this._listeners.mousedown)}},{key:"_onFabricMouseDown",value:function(c){var p=this.getCanvas(),w=p.getPointer(c.e),E=w.x,L=w.y;this._line=new al([E,L,E,L],{stroke:this._oColor.toRgba(),strokeWidth:this._width,arrowType:this._arrowType,evented:!1}),this._line.set(ci_SELECTION_STYLE),p.add(this._line),p.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}),this.fire(He.ADD_OBJECT,this._createLineEventObjectProperties())}},{key:"_onFabricMouseMove",value:function(c){var p=this.getCanvas(),w=p.getPointer(c.e);this._line.set({x2:w.x,y2:w.y}),this._line.setCoords(),p.renderAll()}},{key:"_onFabricMouseUp",value:function(){var c=this.getCanvas();this.fire(He.OBJECT_ADDED,this._createLineEventObjectProperties()),this._line=null,c.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}},{key:"_createLineEventObjectProperties",value:function(){var c=this.graphics.createObjectProperties(this._line),p=this._line,w=p.x1,E=p.x2,L=p.y1,k=p.y2;return ie()({},c,{startPosition:{x:w,y:L},endPosition:{x:E,y:k}})}}]),l}(Si),hl=ll;function ul(O){var _=function dl(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var fl={fill:"#000000",left:0,top:0},Ba={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"tie-text-align-left",underline:!1},gl=function(O){kt(l,O);var _=ul(l);function l(f){var c,p,w,E,L,k;return ee(this,l),(k=_.call(this,Ue.TEXT,f))._defaultStyles=fl,k._isSelected=!1,k._selectedObj={},k._editingObj={},k._listeners={mousedown:le()(c=k._onFabricMouseDown).call(c,Mt(k)),select:le()(p=k._onFabricSelect).call(p,Mt(k)),selectClear:le()(w=k._onFabricSelectClear).call(w,Mt(k)),scaling:le()(E=k._onFabricScaling).call(E,Mt(k)),textChanged:le()(L=k._onFabricTextChanged).call(L,Mt(k))},k._textarea=null,k._ratio=1,k._lastClickTime=(new Date).getTime(),k._editingObjInfos={},k.isPrevEditing=!1,k}return ge(l,[{key:"start",value:function(){var c=this,p=this.getCanvas();p.selection=!1,p.defaultCursor="text",p.on({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged}),p.forEachObject(function(w){"i-text"===w.type&&c.adjustOriginPosition(w,"start")}),this.setCanvasRatio()}},{key:"end",value:function(){var c=this,p=this.getCanvas();p.selection=!0,p.defaultCursor="default",p.forEachObject(function(w){"i-text"===w.type&&(""===w.text?p.remove(w):c.adjustOriginPosition(w,"end"))}),p.off({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:selected":this._listeners.select,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged})}},{key:"adjustOriginPosition",value:function(c,p){var w="center",E="center";"start"===p&&(w="left",E="top");var L=c.getPointByOrigin(w,E);c.set({left:L.x,top:L.y,originX:w,originY:E}),c.setCoords()}},{key:"add",value:function(c,p){var w=this;return new(Ae())(function(E){var L,k=w.getCanvas(),Y=null,X=ci_SELECTION_STYLE,pe=w._defaultStyles;w._setInitPos(p.position),p.styles&&(pe=ie()(pe,p.styles)),Ma()(p.autofocus)||(p.autofocus=!0),Y=new fe.fabric.IText(c,pe),X=ie()({},X,{originX:"left",originY:"top"}),Y.set(X),Y.on({mouseup:le()(L=w._onFabricMouseUp).call(L,w)}),k.add(Y),p.autofocus&&(Y.enterEditing(),Y.selectAll()),k.getActiveObject()||k.setActiveObject(Y),w.isPrevEditing=!0,E(w.graphics.createObjectProperties(Y))})}},{key:"change",value:function(c,p){var w=this;return new(Ae())(function(E){c.set("text",p),w.getCanvas().renderAll(),E()})}},{key:"setStyle",value:function(c,p){var w=this;return new(Ae())(function(E){ne()(p,function(L,k){c[k]===L&&"fontSize"!==k&&(p[k]=Ba[k]||"")},w),"textDecoration"in p&&ie()(p,w._getTextDecorationAdaptObject(p.textDecoration)),c.set(p),w.getCanvas().renderAll(),E()})}},{key:"getText",value:function(c){return c.text}},{key:"setSelectedInfo",value:function(c,p){this._selectedObj=c,this._isSelected=p}},{key:"isSelected",value:function(){return this._isSelected}},{key:"getSelectedObj",value:function(){return this._selectedObj}},{key:"setCanvasRatio",value:function(){var c=this.getCanvasElement(),p=Ie()(c.style.maxWidth,10);this._ratio=c.width/p}},{key:"getCanvasRatio",value:function(){return this._ratio}},{key:"_getTextDecorationAdaptObject",value:function(c){return{underline:"underline"===c,linethrough:"line-through"===c,overline:"overline"===c}}},{key:"_setInitPos",value:function(c){c=c||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=c.x,this._defaultStyles.top=c.y}},{key:"_onInput",value:function(){var c=this.getCanvasRatio(),p=this._editingObj,w=this._textarea.style;w.width="".concat(Math.ceil(p.width/c),"px"),w.height="".concat(Math.ceil(p.height/c),"px")}},{key:"_onKeyDown",value:function(){var c=this,p=this.getCanvasRatio(),w=this._editingObj,E=this._textarea.style;r()(function(){w.text(c._textarea.value),E.width="".concat(Math.ceil(w.width/p),"px"),E.height="".concat(Math.ceil(w.height/p),"px")},0)}},{key:"_onBlur",value:function(){var c=this.getCanvasRatio(),p=this._editingObj,w=this._editingObjInfos,E=this._textarea.value,L=p.width/c-w.width/c,k=p.height/c-w.height/c;if(1===c&&(L/=2,k/=2),this._textarea.style.display="none",p.set({left:w.left+L,top:w.top+k}),E.length){this.getCanvas().add(p);var Y={id:$e(p),type:p.type,text:E};this.fire(He.TEXT_CHANGED,Y)}}},{key:"_onScroll",value:function(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0}},{key:"_onFabricScaling",value:function(c){var p=c.target;p.fontSize=p.fontSize*p.scaleY,p.scaleX=1,p.scaleY=1}},{key:"_onFabricTextChanged",value:function(c){this.fire(He.TEXT_CHANGED,c.target)}},{key:"_onFabricSelectClear",value:function(c){var p=this.getSelectedObj();this.isPrevEditing=!0,this.setSelectedInfo(c.target,!1),p&&""===p.text&&this.getCanvas().remove(p)}},{key:"_onFabricSelect",value:function(c){this.isPrevEditing=!0,this.setSelectedInfo(c.target,!0)}},{key:"_onFabricMouseDown",value:function(c){var p=c.target;if(!p||p.isType("text")){if(this.isPrevEditing)return void(this.isPrevEditing=!1);this._fireAddText(c)}}},{key:"_fireAddText",value:function(c){var p=c.target,w=c.e||{},E=this.getCanvas().getPointer(w);p||this.fire(He.ADD_TEXT,{originPosition:{x:E.x,y:E.y},clientPosition:{x:w.clientX||0,y:w.clientY||0}})}},{key:"_onFabricMouseUp",value:function(c){var p=c.target,w=(new Date).getTime();this._isDoubleClick(w)&&!p.isEditing&&p.enterEditing(),p.isEditing&&this.fire(He.TEXT_EDITING),this._lastClickTime=w}},{key:"_isDoubleClick",value:function(c){return c-this._lastClickTime<500}}]),l}(Si);function ja(O){var _=function vl(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var ml={arrow:"M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z",cancel:"M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z"},_l=function(O){kt(l,O);var _=ja(l);function l(f){var c,p,w,E;return ee(this,l),(E=_.call(this,Ue.ICON,f))._oColor="#000000",E._pathMap=ml,E._type=null,E._iconColor=null,E._handlers={mousedown:le()(c=E._onFabricMouseDown).call(c,Mt(E)),mousemove:le()(p=E._onFabricMouseMove).call(p,Mt(E)),mouseup:le()(w=E._onFabricMouseUp).call(w,Mt(E))},E}return ge(l,[{key:"setStates",value:function(c,p){this._type=c,this._iconColor=p}},{key:"start",value:function(){var c=this.getCanvas();c.selection=!1,c.on("mouse:down",this._handlers.mousedown)}},{key:"end",value:function(){var c=this.getCanvas();c.selection=!0,c.off({"mouse:down":this._handlers.mousedown})}},{key:"add",value:function(c,p){var w=this;return new(Ae())(function(E,L){var k=w.getCanvas(),Y=w._pathMap[c],X=ci_SELECTION_STYLE,pe=Y?w._createIcon(Y):null;w._icon=pe,pe||L(Dt.invalidParameters),pe.set(ie()({type:"icon",fill:w._oColor},X,p,w.graphics.controlStyle)),k.add(pe).setActiveObject(pe),E(w.graphics.createObjectProperties(pe))})}},{key:"registerPaths",value:function(c){var p=this;ne()(c,function(w,E){p._pathMap[E]=w},this)}},{key:"setColor",value:function(c,p){this._oColor=c,p&&"icon"===p.get("type")&&(p.set({fill:this._oColor}),this.getCanvas().renderAll())}},{key:"getColor",value:function(c){return Oe()(c)}},{key:"_createIcon",value:function(c){return new fe.fabric.Path(c)}},{key:"_onFabricMouseDown",value:function(c){var p=this,w=this.getCanvas();this._startPoint=w.getPointer(c.e);var E=this._startPoint;this.add(this._type,{left:E.x,top:E.y,fill:this._iconColor}).then(function(){p.fire(He.ADD_OBJECT,p.graphics.createObjectProperties(p._icon)),w.on("mouse:move",p._handlers.mousemove),w.on("mouse:up",p._handlers.mouseup)})}},{key:"_onFabricMouseMove",value:function(c){var p=this.getCanvas();if(this._icon){var w=p.getPointer(c.e),L=(w.y-this._startPoint.y)/this._icon.height;this._icon.set({scaleX:Math.abs((w.x-this._startPoint.x)/this._icon.width*2),scaleY:Math.abs(2*L)}),this._icon.setCoords(),p.renderAll()}}},{key:"_onFabricMouseUp",value:function(){var c=this.getCanvas();this.fire(He.OBJECT_ADDED,this.graphics.createObjectProperties(this._icon)),this._icon=null,c.off("mouse:down",this._handlers.mousedown),c.off("mouse:move",this._handlers.mousemove),c.off("mouse:up",this._handlers.mouseup)}}]),l}(Si),Ya=fe.fabric.util.createClass(fe.fabric.Image.filters.BlendImage,{applyTo:function(_){if(this.mask){var l=_.canvasEl,f=l.width,c=l.height,p=this._createCanvasOfMask(f,c),w=l.getContext("2d"),E=p.getContext("2d"),L=w.getImageData(0,0,f,c);this._drawMask(E,l,w),this._mapData(E,L,f,c),_.imageData=L}},_createCanvasOfMask:function(_,l){var f=fe.fabric.util.createCanvasElement();return f.width=_,f.height=l,f},_drawMask:function(_){var l=this.mask,f=l.getElement(),c=l.angle,p=l.left,w=l.scaleX,E=l.scaleY,L=l.top;_.save(),_.translate(p,L),_.rotate(c*Math.PI/180),_.scale(w,E),_.drawImage(f,-f.width/2,-f.height/2),_.restore()},_mapData:function(_,l,f,c){for(var L=l.data,k=l.width*l.height*4,Y=_.getImageData(0,0,f,c).data,X=0;X<k;X+=4)L[X+3]=Y[X]}}),bl=fe.fabric.util.createClass(fe.fabric.Image.filters.Convolute,{type:"Sharpen",initialize:function(){this.matrix=[0,-1,0,-1,5,-1,0,-1,0]}}),xl=fe.fabric.util.createClass(fe.fabric.Image.filters.Convolute,{type:"Emboss",initialize:function(){this.matrix=[1,1,1,1,.7,-1,-1,-1,-1]}}),Sl=fe.fabric.util.createClass(fe.fabric.Image.filters.BaseFilter,{type:"ColorFilter",initialize:function(_){_||(_={}),this.color=_.color||"#FFFFFF",this.threshold=_.threshold||45,this.x=_.x||null,this.y=_.y||null},applyTo:function(_){var L,k,l=_.canvasEl,f=l.getContext("2d"),c=f.getImageData(0,0,l.width,l.height),p=c.data,w=this.threshold,E=fe.fabric.Color.sourceFromHex(this.color);for(this.x&&this.y&&(E=this._getColor(c,this.x,this.y)),L=0,k=p.length;L<k;L+=4)this._isOutsideThreshold(p[L],E[0],w)||this._isOutsideThreshold(p[L+1],E[1],w)||this._isOutsideThreshold(p[L+2],E[2],w)||(p[L]=p[L+1]=p[L+2]=p[L+3]=0);f.putImageData(c,0,0)},_isOutsideThreshold:function(_,l,f){return Math.abs(_-l)>f},_getColor:function(_,l,f){var c=[0,0,0,0],p=_.data,L=4*(_.width*f+l);return c[0]=p[L],c[1]=p[L+1],c[2]=p[L+2],c[3]=p[L+3],c}});function wl(O){var _=function Ga(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var lo=fe.fabric.Image.filters;lo.Mask=Ya,lo.Sharpen=bl,lo.Emboss=xl,lo.ColorFilter=Sl;var Il=function(O){kt(l,O);var _=wl(l);function l(f){return ee(this,l),_.call(this,Ue.FILTER,f)}return ge(l,[{key:"add",value:function(c,p){var w=this;return new(Ae())(function(E,L){var k=w._getSourceImage(),Y=w.getCanvas(),X=w._getFilter(k,c);X||(X=w._createFilter(k,c,p)),X||L(Dt.invalidParameters),w._changeFilterValues(X,p),w._apply(k,function(){Y.renderAll(),E({type:c,action:"add",options:p})})})}},{key:"remove",value:function(c){var p=this;return new(Ae())(function(w,E){var L=p._getSourceImage(),k=p.getCanvas(),Y=p.getOptions(c);L.filters.length||E(Dt.unsupportedOperation),p._removeFilter(L,c),p._apply(L,function(){k.renderAll(),w({type:c,action:"remove",options:Y})})})}},{key:"hasFilter",value:function(c){return!!this._getFilter(this._getSourceImage(),c)}},{key:"getOptions",value:function(c){var p=this._getSourceImage(),w=this._getFilter(p,c);return w?ie()({},w.options):null}},{key:"_changeFilterValues",value:function(c,p){ne()(p,function(w,E){K()(c[E])||(c[E]=w)}),ne()(c.options,function(w,E){K()(p[E])||(c.options[E]=p[E])})}},{key:"_apply",value:function(c,p){c.filters.push(),c.applyFilters()&&p()}},{key:"_getSourceImage",value:function(){return this.getCanvasImage()}},{key:"_createFilter",value:function(c,p,w){var E,L=this._getFabricFilterType(p),k=fe.fabric.Image.filters[L];return k&&((E=new k(w)).options=w,c.filters.push(E)),E}},{key:"_getFilter",value:function(c,p){var w=null;if(c){var k,Y,E=this._getFabricFilterType(p),L=c.filters.length;for(Y=0;Y<L;Y+=1)if((k=c.filters[Y]).type===E){w=k;break}}return w}},{key:"_removeFilter",value:function(c,p){var w,E=this._getFabricFilterType(p);c.filters=pn()(w=c.filters).call(w,function(L){return L.type!==E})}},{key:"_getFabricFilterType",value:function(c){return c.charAt(0).toUpperCase()+b()(c).call(c,1)}}]),l}(Si),El=q(1801),Vi=q.n(El),Wa={pixelate:"blocksize",blur:"blur"},dr={x:"width",y:"height"},Ol=function Lt(O){var _,l={};return at()(_=ke()(O)).call(_,function(f){l[O[f]]=f}),l}(Wa),gn=null;function Ln(O){return ye(Yi(O,"patternSourceCanvas").patternSourceCanvas.getObjects(),1)[0]}function Al(O){var _=O.angle,l=O.flipX,f=O.flipY,c=Ln(O),p=function Yl(O){var l=ye(Qa(O),4),f=l[0],c=f.x,p=f.y,w=l[1],E=w.x,L=w.y,k=l[2],Y=k.x,X=k.y,pe=l[3],ve=pe.x,we=pe.y,ze=Math.min(c,E,Y,ve),Se=Math.min(p,L,X,we),Ze=Math.max(c,E,Y,ve),ft=Math.max(p,L,X,we);return{left:ze,top:Se,right:Ze,bottom:ft,width:Ze-ze,height:ft-Se}}(O),w=p.right,E=p.bottom,L=p.width,k=p.height,Y=(L-O.width)/2,X=(k-O.height)/2,pe=O.left-O.width/2-Y,ve=O.top-O.height/2-X,we=L/2-Y,ze=k/2-X,Se=Math.max(L,k)+Math.max(Y,X),ft=ye(function Dl(O){var _=O.shapeObj,l=O.left,f=O.top,c=O.width,p=O.height,w=O.cropX,E=O.cropY,L=O.flipX,k=O.flipY,Y=O.right,X=O.bottom,pe=function(vt,Ke,Ot,ei){return function Pl(O){var _=O.type,f=O.outDistance,c=O.left,p=O.top,w=O.flipX,E=O.flipY,L=Qa(O.shapeObj),Y=function Rl(O,_,l){var f=0,c=0;ne()(_,function(L,k){L[O]<f&&(f=L[O],c=k)});var p=ye(l[c],2);return{startPointIndex:c,endPointIndex1:p[0],endPointIndex2:p[1]}}(_,L,[[1,2],[0,3],[0,3],[1,2]]),X=function Bl(O,_,l){var f,c=l.startPointIndex,p=l.endPointIndex1,w=l.endPointIndex2,E="x"===O?180:270;return hi()(f=[p,w]).call(f,function(L){var k=_[c],Y=_[L];return 180*Math.atan2(k.y-Y.y,k.x-Y.x)/Math.PI-E})}(_,L,Y),ve=function Fl(O){var _=O.outDistance,l=O.startPointIndex,f=O.flipX,c=O.flipY,p=O.reatAngles,w=_*Math.cos(p[0]*Math.PI/180),E=_*Math.cos(p[1]*Math.PI/180),L=2===l||3===l,k={top:L?w:E,left:L?E:w};return function Vl(O,_,l){return(!_&&l||!_&&!l)&&0===O||(_&&l||_&&!l)&&1===O||(!_&&!l||!_&&l)&&2===O||(_&&!l||_&&l)&&3===O}(l,f,c)&&(k.left=-1*k.left),function jl(O,_,l){return(_&&!l||!_&&!l)&&0===O||(!_&&!l||_&&!l)&&1===O||(_&&l||!_&&l)&&2===O||(!_&&l||_&&l)&&3===O}(l,f,c)&&(k.top=-1*k.top),k}({outDistance:f,startPointIndex:Y.startPointIndex,flipX:w,flipY:E,reatAngles:X});return[c+ve.left,p+ve.top]}({type:vt,outDistance:Ke,shapeObj:_,flipX:L,flipY:k,left:Ot,top:ei})},ve=c,we=p,Se=ye(function Ll(O,_){var l=_.left,f=_.top,w=_.cropX,E=_.cropY,L={width:_.width,height:_.height};return ne()(["x","y"],function(k){var Y="x"===k?w:E,X=L[dr[k]],pe=gn[dr[k]];if(X>pe){var ve=(X-pe)/2;L[dr[k]]=pe;var ze=ye(O(k,ve,l,f),2);l=ze[0],f=ze[1]}if(Y<0){var Ze=ye(O(k,Y,l,f),2);l=Ze[0],f=Ze[1]}}),[l,f,L.width,L.height]}(pe,{left:l,top:f,width:c,height:p,cropX:w,cropY:E}),4),ft=ye(function kl(O,_){var l=_.left,f=_.top,c=_.insideCanvasRealImageWidth,p=_.insideCanvasRealImageHeight,w=_.right,E=_.bottom,k=_.cropY,X=_.originalHeight,pe=c,ve=p,ze=gn.width,Se=gn.height;w>ze&&_.cropX>0&&(pe=_.originalWidth-Math.abs(w-ze)),E>Se&&k>0&&(ve=X-Math.abs(E-Se));var Ze={x:(c-pe)/2,y:(p-ve)/2};return ne()(["x","y"],function(ft){var pt=Ze[ft];if(pt>0){var Ke=ye(O(ft,pt,l,f),2);l=Ke[0],f=Ke[1]}}),[l,f,pe,ve]}(pe,{left:l=Se[0],top:f=Se[1],insideCanvasRealImageWidth:c=Se[2],insideCanvasRealImageHeight:p=Se[3],right:Y,bottom:X,cropX:w,cropY:E,originalWidth:ve,originalHeight:we}),4);return[l=ft[0],f=ft[1],c=ft[2],p=ft[3]]}({shapeObj:O,left:we,top:ze,width:L,height:k,cropX:pe,cropY:ve,flipX:l,flipY:f,right:w,bottom:E}),4);c.set({angle:l===f?-_:_,left:we=ft[0],top:ze=ft[1],width:L=ft[2],height:k=ft[3],cropX:pe,cropY:ve,flipX:l,flipY:f}),cn(c,{fillImageMaxSize:Se})}function ho(O){var _;return hi()(_=O.filters).call(_,function(l){var p=ye(ke()(l),1)[0];return W({},Ol[p],l[p])})}function Za(O,_,l){var c=Ja(Xa(O),O.angle,_);l.add(c);var p={fill:new fe.fabric.Pattern({source:l.getElement(),repeat:"no-repeat"})};return cn(p,{patternSourceCanvas:l}),p}function Xa(O){return(!gn||arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&(gn=O.toCanvasElement()),gn}function Qa(O){return[O.getPointByOrigin("left","top"),O.getPointByOrigin("right","top"),O.getPointByOrigin("left","bottom"),O.getPointByOrigin("right","bottom")]}function Ja(O,_,l){var f,c=new fe.fabric.Image(O);return ne()(ie().apply(void 0,$()(f=[{}]).call(f,V(l))),function(p,w){var E=function Jr(O){return O.charAt(0).toUpperCase()+b()(O).call(O,1)}(w),L=new fe.fabric.Image.filters[E](W({},Wa[w],p));c.filters.push(L)}),c.applyFilters(),cn(c,{originalAngle:_,fillImageMaxSize:Math.max(c.width,c.height)}),Vi().adjustOriginToCenter(c),c}function Ul(O){var _=function Gl(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var $a=ie()({strokeWidth:1,stroke:"#000000",fill:"#ffffff",width:1,height:1,rx:0,ry:0},{lockSkewingX:!0,lockSkewingY:!0,bringForward:!0,isRegular:!1}),Wl="rect";function Ka(O,_,l){var f=Oe()(O),c=Wo(Oe()(O)),p=f;f.color&&(p=f.color);var w=null;if("filter"===c){var E=l();w=Za(_,pn()(f),E)}else w={fill:p};return ie()({},O,w)}var Ql=function(O){kt(l,O);var _=Ul(l);function l(f){var c,p,w,E,L,k;return ee(this,l),(k=_.call(this,Ue.SHAPE,f))._shapeObj=null,k._type=Wl,k._options=ie()({},$a),k._isSelected=!1,k._startPoint={},k._withShiftKey=!1,k._handlers={mousedown:le()(c=k._onFabricMouseDown).call(c,Mt(k)),mousemove:le()(p=k._onFabricMouseMove).call(p,Mt(k)),mouseup:le()(w=k._onFabricMouseUp).call(w,Mt(k)),keydown:le()(E=k._onKeyDown).call(E,Mt(k)),keyup:le()(L=k._onKeyUp).call(L,Mt(k))},k}return ge(l,[{key:"start",value:function(){var c=this.getCanvas();this._isSelected=!1,c.defaultCursor="crosshair",c.selection=!1,c.uniformScaling=!0,c.on({"mouse:down":this._handlers.mousedown}),fe.fabric.util.addListener(document,"keydown",this._handlers.keydown),fe.fabric.util.addListener(document,"keyup",this._handlers.keyup)}},{key:"end",value:function(){var c=this.getCanvas();this._isSelected=!1,c.defaultCursor="default",c.selection=!0,c.uniformScaling=!1,c.off({"mouse:down":this._handlers.mousedown}),fe.fabric.util.removeListener(document,"keydown",this._handlers.keydown),fe.fabric.util.removeListener(document,"keyup",this._handlers.keyup)}},{key:"setStates",value:function(c,p){this._type=c,p&&(this._options=ie()(this._options,p))}},{key:"add",value:function(c,p){var w=this;return new(Ae())(function(E){var L=w.getCanvas(),k=w._extendOptions(p),Y=w._createInstance(c,k),X=w.graphics.createObjectProperties(Y);w._bindEventOnShape(Y),L.add(Y).setActiveObject(Y),w._resetPositionFillFilter(Y),E(X)})}},{key:"change",value:function(c,p){var w=this;return new(Ae())(function(E,L){Sn(c)||L(Dt.unsupportedType);var k="filter"===Wo(Oe()(p)),Y=w.graphics;c.set(k?Ka(p,Y.canvasImage,Y.createStaticCanvas):p),k&&w._resetPositionFillFilter(c),w.getCanvas().renderAll(),E()})}},{key:"makeFillPropertyForUserEvent",value:function(c){var p=ln(c),w={};if(p===je.FILTER){var L=ho(Ln(c));w.type=p,w.filter=L}else w.type=je.COLOR,w.color=Oe()(c)||"transparent";return w}},{key:"processForCopiedObject",value:function(c,p){if(this._bindEventOnShape(c),"filter"===ln(c)){var E=ho(Ln(p)),L=this.graphics.createStaticCanvas();c.set(Za(this.graphics.canvasImage,E,L)),this._resetPositionFillFilter(c)}}},{key:"_createInstance",value:function(c,p){var w;switch(c){case"rect":w=new fe.fabric.Rect(p);break;case"circle":w=new fe.fabric.Ellipse(ie()({type:"circle"},p));break;case"triangle":w=new fe.fabric.Triangle(p);break;default:w={}}return w}},{key:"_extendOptions",value:function(c){var p=ci_SELECTION_STYLE,w=this.graphics,E=w.canvasImage,L=w.createStaticCanvas;return Ka(c=ie()({},$a,this._options,p,c),E,L)}},{key:"_bindEventOnShape",value:function(c){var p=this,w=this.getCanvas();c.on({added:function(){p._shapeObj=this,Vi().setOrigins(p._shapeObj)},selected:function(){p._isSelected=!0,p._shapeObj=this,w.uniformScaling=!0,w.defaultCursor="default",Vi().setOrigins(p._shapeObj)},deselected:function(){p._isSelected=!1,p._shapeObj=null,w.defaultCursor="crosshair",w.uniformScaling=!1},modified:function(){var L=p._shapeObj;Vi().adjustOriginToCenter(L),Vi().setOrigins(L)},modifiedInGroup:function(L){p._fillFilterRePositionInGroupSelection(c,L)},moving:function(){p._resetPositionFillFilter(this)},rotating:function(){p._resetPositionFillFilter(this)},scaling:function(L){var k=w.getPointer(L.e),Y=p._shapeObj;w.setCursor("crosshair"),Vi().resize(Y,k,!0),p._resetPositionFillFilter(this)}})}},{key:"_onFabricMouseDown",value:function(c){if(c.target||(this._isSelected=!1,this._shapeObj=!1),!this._isSelected&&!this._shapeObj){var p=this.getCanvas();this._startPoint=p.getPointer(c.e),p.on({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}}},{key:"_onFabricMouseMove",value:function(c){var p=this,w=this.getCanvas(),E=w.getPointer(c.e),L=this._startPoint.x,k=this._startPoint.y,Y=L-E.x,X=k-E.y,pe=this._shapeObj;pe?(this._shapeObj.set({isRegular:this._withShiftKey}),Vi().resize(pe,E),w.renderAll(),this._resetPositionFillFilter(pe)):this.add(this._type,{left:L,top:k,width:Y,height:X}).then(function(ve){p.fire(He.ADD_OBJECT,ve)})}},{key:"_onFabricMouseUp",value:function(){var c=this,p=this.getCanvas(),w=this._startPoint.x,E=this._startPoint.y,L=this._shapeObj;L?L&&(Vi().adjustOriginToCenter(L),this.fire(He.OBJECT_ADDED,this.graphics.createObjectProperties(L))):this.add(this._type,{left:w,top:E,width:20,height:20}).then(function(k){c.fire(He.ADD_OBJECT,k)}),p.off({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}},{key:"_onKeyDown",value:function(c){c.keyCode===Vt_SHIFT&&(this._withShiftKey=!0,this._shapeObj&&(this._shapeObj.isRegular=!0))}},{key:"_onKeyUp",value:function(c){c.keyCode===Vt_SHIFT&&(this._withShiftKey=!1,this._shapeObj&&(this._shapeObj.isRegular=!1))}},{key:"_resetPositionFillFilter",value:function(c){if("filter"===ln(c)){var w=Yi(c,"patternSourceCanvas").patternSourceCanvas,L=Yi(Ln(c),"originalAngle");this.graphics.canvasImage.angle!==L.originalAngle&&function Hl(O,_){var f=Yi(O,"patternSourceCanvas").patternSourceCanvas,w=ye(f.getObjects(),1)[0],E=ho(w);f.remove(w);var k=Ja(Xa(_,!0),_.angle,E);f.add(k)}(c,this.graphics.canvasImage);var Y=c.originX,X=c.originY;Vi().adjustOriginToCenter(c),c.width*=c.scaleX,c.height*=c.scaleY,c.rx*=c.scaleX,c.ry*=c.scaleY,c.scaleX=1,c.scaleY=1,Al(c),function Qr(O,_){var l=_.originX,f=_.originY,c=O.getPointByOrigin(l,f);O.set({left:c.x,top:c.y,originX:l,originY:f}),O.setCoords()}(c,{originX:Y,originY:X}),function Nl(O){var p=Yi(ye(O.getObjects(),1)[0],"fillImageMaxSize").fillImageMaxSize;p=Math.max(1,p),O.setDimensions({width:p,height:p}),O.renderAll()}(w)}}},{key:"_fillFilterRePositionInGroupSelection",value:function(c,p){(1!==p.scaleX||1!==p.scaleY)&&p.addWithUpdate();var w=c.angle,E=c.left,L=c.top;fe.fabric.util.addTransformToObject(c,p.calcTransformMatrix()),this._resetPositionFillFilter(c),c.set({angle:w,left:E,top:L})}}]),l}(Si);function Jl(O){var _=function $l(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var qa={left:0,top:0,width:0,height:0,stroke:"#000000",strokeWidth:0,fill:"#000000",opacity:.4,evented:!1,selectable:!1,hoverCursor:"auto"},pr_SIZE=.0045,pr_MARGIN=.003,pr_BORDER_RADIUS=.003,gr_SIZE=.0066,gr_MARGIN=.0044,gr_BORDER_RADIUS=.003,Nn=1,es=He.ZOOM_CHANGED,Kl=He.ADD_TEXT,ql=He.TEXT_EDITING,ts=He.OBJECT_MODIFIED,is=He.KEY_DOWN,ns=He.KEY_UP,e4=He.HAND_STARTED,t4=He.HAND_STOPPED,n4=function(O){kt(l,O);var _=Jl(l);function l(f){var c,p,w,E,L,k,Y,X,pe,ve,we,ze,Se;ee(this,l),(Se=_.call(this,Ue.ZOOM,f)).zoomArea=null,Se._startPoint=null,Se._centerPoints=[],Se.zoomLevel=Nn,Se.zoomMode=si.DEFAULT,Se._listeners={startZoom:le()(c=Se._onMouseDownWithZoomMode).call(c,Mt(Se)),moveZoom:le()(p=Se._onMouseMoveWithZoomMode).call(p,Mt(Se)),stopZoom:le()(w=Se._onMouseUpWithZoomMode).call(w,Mt(Se)),startHand:le()(E=Se._onMouseDownWithHandMode).call(E,Mt(Se)),moveHand:le()(L=Se._onMouseMoveWithHandMode).call(L,Mt(Se)),stopHand:le()(k=Se._onMouseUpWithHandMode).call(k,Mt(Se)),zoomChanged:le()(Y=Se._changeScrollState).call(Y,Mt(Se)),keydown:le()(X=Se._startHandModeWithSpaceBar).call(X,Mt(Se)),keyup:le()(pe=Se._endHandModeWithSpaceBar).call(pe,Mt(Se))};var Ze=Se.getCanvas();return Se.aspectRatio=Ze.width/Ze.height,Se._verticalScroll=new fe.fabric.Rect(qa),Se._horizontalScroll=new fe.fabric.Rect(qa),Ze.on(es,Se._listeners.zoomChanged),Se.graphics.on(Kl,le()(ve=Se._startTextEditingHandler).call(ve,Mt(Se))),Se.graphics.on(ql,le()(we=Se._startTextEditingHandler).call(we,Mt(Se))),Se.graphics.on(ts,le()(ze=Se._stopTextEditingHandler).call(ze,Mt(Se))),Se}return ge(l,[{key:"attachKeyboardZoomEvents",value:function(){fe.fabric.util.addListener(document,is,this._listeners.keydown),fe.fabric.util.addListener(document,ns,this._listeners.keyup)}},{key:"detachKeyboardZoomEvents",value:function(){fe.fabric.util.removeListener(document,is,this._listeners.keydown),fe.fabric.util.removeListener(document,ns,this._listeners.keyup)}},{key:"_startTextEditingHandler",value:function(){this.isTextEditing=!0}},{key:"_stopTextEditingHandler",value:function(){this.isTextEditing=!1}},{key:"_startHandModeWithSpaceBar",value:function(c){this.withSpace||this.isTextEditing||c.keyCode===Vt_SPACE&&(this.withSpace=!0,this.startHandMode())}},{key:"_endHandModeWithSpaceBar",value:function(c){c.keyCode===Vt_SPACE&&(this.withSpace=!1,this.endHandMode())}},{key:"startZoomInMode",value:function(){if(!this.zoomArea){this.endHandMode(),this.zoomMode=si.ZOOM;var c=this.getCanvas();this._changeObjectsEventedState(!1),this.zoomArea=new fe.fabric.Rect({left:0,top:0,width:.5,height:.5,stroke:"black",strokeWidth:1,fill:"transparent",hoverCursor:"zoom-in"}),c.discardActiveObject(),c.add(this.zoomArea),c.on("mouse:down",this._listeners.startZoom),c.selection=!1,c.defaultCursor="zoom-in"}}},{key:"endZoomInMode",value:function(){this.zoomMode=si.DEFAULT;var c=this.getCanvas(),p=this._listeners,w=p.startZoom,E=p.moveZoom,L=p.stopZoom;c.selection=!0,c.defaultCursor="auto",c.off({"mouse:down":w,"mouse:move":E,"mouse:up":L}),this._changeObjectsEventedState(!0),c.remove(this.zoomArea),this.zoomArea=null}},{key:"start",value:function(){this.zoomArea=null,this._startPoint=null,this._startHandPoint=null}},{key:"end",value:function(){this.endZoomInMode(),this.endHandMode()}},{key:"startHandMode",value:function(){this.endZoomInMode(),this.zoomMode=si.HAND;var c=this.getCanvas();this._changeObjectsEventedState(!1),c.discardActiveObject(),c.off("mouse:down",this._listeners.startHand),c.on("mouse:down",this._listeners.startHand),c.selection=!1,c.defaultCursor="grab",c.fire(e4)}},{key:"endHandMode",value:function(){this.zoomMode=si.DEFAULT;var c=this.getCanvas();this._changeObjectsEventedState(!0),c.off("mouse:down",this._listeners.startHand),c.selection=!0,c.defaultCursor="auto",this._startHandPoint=null,c.fire(t4)}},{key:"_onMouseDownWithZoomMode",value:function(c){var w=c.e;if(!c.target){var E=this.getCanvas();E.selection=!1,this._startPoint=E.getPointer(w),this.zoomArea.set({width:0,height:0});var L=this._listeners;E.on({"mouse:move":L.moveZoom,"mouse:up":L.stopZoom})}}},{key:"_onMouseMoveWithZoomMode",value:function(c){var p=c.e,w=this.getCanvas(),E=w.getPointer(p),L=E.x,k=E.y,Y=this.zoomArea,X=this._startPoint;Math.abs(L-X.x)+Math.abs(k-X.y)>10&&(w.remove(Y),Y.set(this._calcRectDimensionFromPoint(L,k)),w.add(Y))}},{key:"_calcRectDimensionFromPoint",value:function(c,p){var w=this.getCanvas(),E=w.getWidth(),L=w.getHeight(),k=this._startPoint,Y=k.x,X=k.y,pe=Math.min,ve=pe(Y,c),we=pe(X,p);return{left:ve,top:we,width:Ct(c,Y,E)-ve,height:Ct(p,X,L)-we}}},{key:"_onMouseUpWithZoomMode",value:function(){var c=this.zoomLevel,p=this.zoomArea,w=this._listeners,E=w.moveZoom,L=w.stopZoom,k=this.getCanvas(),Y=this._getCenterPoint(),X=Y.x,pe=Y.y;this._isMaxZoomLevel()||(this._centerPoints.push({x:X,y:pe,prevZoomLevel:c,zoomLevel:c+1}),k.zoomToPoint({x:X,y:pe},c+=1),this._fireZoomChanged(k,c),this.zoomLevel=c),k.off({"mouse:move":E,"mouse:up":L}),k.remove(p),this._startPoint=null}},{key:"_getCenterPoint",value:function(){var c=this.zoomArea,p=c.left,w=c.top,E=c.width,L=c.height,k=this._startPoint,pe=this.aspectRatio;return E<10&&L<10?{x:k.x,y:k.y}:E>L?{x:p+pe*L/2,y:w+L/2}:{x:p+E/2,y:w+E/pe/2}}},{key:"zoom",value:function(c){for(var p=c.x,w=c.y,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoomLevel,L=this.getCanvas(),k=this._centerPoints,Y=k.length-1;Y>=0&&!(k[Y].zoomLevel<E);Y-=1){var X=k.pop(),we=X.prevZoomLevel;L.zoomToPoint({x:X.x,y:X.y},we),this.zoomLevel=we}L.zoomToPoint({x:p,y:w},E),this._isDefaultZoomLevel(E)||this._centerPoints.push({x:p,y:w,zoomLevel:E,prevZoomLevel:this.zoomLevel}),this.zoomLevel=E,this._fireZoomChanged(L,E)}},{key:"zoomOut",value:function(){var c=this._centerPoints;if(c.length){var p=this.getCanvas(),w=c.pop(),E=w.x,L=w.y,k=w.prevZoomLevel;this._isDefaultZoomLevel(k)?p.setViewportTransform([1,0,0,1,0,0]):p.zoomToPoint({x:E,y:L},k),this.zoomLevel=k,this._fireZoomChanged(p,this.zoomLevel)}}},{key:"resetZoom",value:function(){var c=this.getCanvas();c.setViewportTransform([1,0,0,1,0,0]),this.zoomLevel=Nn,this._centerPoints=[],this._fireZoomChanged(c,this.zoomLevel)}},{key:"_isMaxZoomLevel",value:function(){return this.zoomLevel>=5}},{key:"_movePointOfZoom",value:function(c){var p=c.x,w=c.y,E=this._centerPoints;if(E.length){var L=this.getCanvas(),k=this.zoomLevel,Y=E.pop(),X=Y.x,pe=Y.y,ve=Y.prevZoomLevel,we=X-p,ze=pe-w;L.zoomToPoint({x:X,y:pe},ve),L.zoomToPoint({x:we,y:ze},k),E.push({x:we,y:ze,prevZoomLevel:ve,zoomLevel:k}),this._fireZoomChanged(L,k)}}},{key:"_onMouseDownWithHandMode",value:function(c){var w=c.e;if(!c.target){var E=this.getCanvas();if(!(this.zoomLevel<=Nn)){E.selection=!1,this._startHandPoint=E.getPointer(w);var L=this._listeners;E.on({"mouse:move":L.moveHand,"mouse:up":L.stopHand})}}}},{key:"_onMouseMoveWithHandMode",value:function(c){var p=c.e,E=this.getCanvas().getPointer(p);this._movePointOfZoom({x:E.x-this._startHandPoint.x,y:E.y-this._startHandPoint.y})}},{key:"_onMouseUpWithHandMode",value:function(){var c=this.getCanvas(),p=this._listeners;c.off({"mouse:move":p.moveHand,"mouse:up":p.stopHand}),this._startHandPoint=null}},{key:"_changeScrollState",value:function(c){var p=c.viewport,w=c.zoomLevel,E=this.getCanvas();if(E.remove(this._verticalScroll),E.remove(this._horizontalScroll),!this._isDefaultZoomLevel(w)){var L=E.width,k=E.height,Y=p.tl,X=p.tr,pe=p.bl,ve=X.x-Y.x,we=pe.y-Y.y,ze=ve*ve/L,Se=we*gr_SIZE,Ze=Ct(Y.x+Y.x/L*ve,Y.x,X.x-ze),pt=we*gr_BORDER_RADIUS;this._horizontalScroll.set({left:Ze,top:pe.y-Se-we*gr_MARGIN,width:ze,height:Se,rx:pt,ry:pt});var vt=ve*pr_SIZE,Ke=we*we/k,Ot=Ct(Y.y+Y.y/k*we,X.y,pe.y-Ke),vi=ve*pr_BORDER_RADIUS;this._verticalScroll.set({left:X.x-vt-ve*pr_MARGIN,top:Ot,width:vt,height:Ke,rx:vi,ry:vi}),this._addScrollBar()}}},{key:"_changeObjectsEventedState",value:function(){var c=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getCanvas().forEachObject(function(w){w.evented=c})}},{key:"_addScrollBar",value:function(){var c=this,p=this.getCanvas();p.add(this._horizontalScroll),p.add(this._verticalScroll),this.scrollBarTid&&clearTimeout(this.scrollBarTid),this.scrollBarTid=r()(function(){p.remove(c._horizontalScroll),p.remove(c._verticalScroll)},3e3)}},{key:"_isDefaultZoomLevel",value:function(c){return c===Nn}},{key:"_fireZoomChanged",value:function(c,p){c.fire(es,{viewport:c.calcViewportBoundaries(),zoomLevel:p})}},{key:"mode",get:function(){return this.zoomMode}}]),l}(Si),o4=n4,os=$i.create,rs=$i.types,Ui=function(){function O(_){ee(this,O),this.name=_}return ge(O,[{key:"getName",value:function(){return this.name}},{key:"start",value:function(){throw new Error(os(rs.UN_IMPLEMENTATION,"start"))}},{key:"end",value:function(){throw new Error(os(rs.UN_IMPLEMENTATION,"stop"))}}]),O}();function r4(O){var _=function a4(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var c4=function(O){kt(l,O);var _=r4(l);function l(){return ee(this,l),_.call(this,Tt.CROPPER)}return ge(l,[{key:"start",value:function(c){c.getComponent(Ue.CROPPER).start()}},{key:"end",value:function(c){c.getComponent(Ue.CROPPER).end()}}]),l}(Ui);function l4(O){var _=function h4(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var d4=function(O){kt(l,O);var _=l4(l);function l(){return ee(this,l),_.call(this,Tt.FREE_DRAWING)}return ge(l,[{key:"start",value:function(c,p){c.getComponent(Ue.FREE_DRAWING).start(p)}},{key:"end",value:function(c){c.getComponent(Ue.FREE_DRAWING).end()}}]),l}(Ui);function f4(O){var _=function p4(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var v4=function(O){kt(l,O);var _=f4(l);function l(){return ee(this,l),_.call(this,Tt.LINE_DRAWING)}return ge(l,[{key:"start",value:function(c,p){c.getComponent(Ue.LINE).start(p)}},{key:"end",value:function(c){c.getComponent(Ue.LINE).end()}}]),l}(Ui);function m4(O){var _=function y4(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var C4=function(O){kt(l,O);var _=m4(l);function l(){return ee(this,l),_.call(this,Tt.SHAPE)}return ge(l,[{key:"start",value:function(c){c.getComponent(Ue.SHAPE).start()}},{key:"end",value:function(c){c.getComponent(Ue.SHAPE).end()}}]),l}(Ui);function z4(O){var _=function b4(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var M4=function(O){kt(l,O);var _=z4(l);function l(){return ee(this,l),_.call(this,Tt.TEXT)}return ge(l,[{key:"start",value:function(c){c.getComponent(Ue.TEXT).start()}},{key:"end",value:function(c){c.getComponent(Ue.TEXT).end()}}]),l}(Ui);function S4(O){var _=function w4(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var I4=function(O){kt(l,O);var _=S4(l);function l(){return ee(this,l),_.call(this,Tt.ICON)}return ge(l,[{key:"start",value:function(c){c.getComponent(Ue.ICON).start()}},{key:"end",value:function(c){c.getComponent(Ue.ICON).end()}}]),l}(Ui);function E4(O){var _=function O4(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var D4=function(O){kt(l,O);var _=E4(l);function l(){return ee(this,l),_.call(this,Tt.ZOOM)}return ge(l,[{key:"start",value:function(c){c.getComponent(Ue.ZOOM).start()}},{key:"end",value:function(c){c.getComponent(Ue.ZOOM).end()}}]),l}(Ui),ss=null;function cs(O){ss=O}function uo(O,_){var f;return"activeSelection"===O.type?hi()(f=O.getObjects()).call(f,function(c){var p=c.angle,w=c.left,E=c.top,L=c.scaleX,k=c.scaleY,Y=c.width,X=c.height;fe.fabric.util.addTransformToObject(c,O.calcTransformMatrix());var pe=_(c);return c.set({angle:p,left:w,top:E,width:Y,height:X,scaleX:L,scaleY:k}),pe}):[_(O)]}function vr(O,_,l){return l?{id:O,width:_.width,height:_.height,top:_.top,left:_.left,angle:_.angle,scaleX:_.scaleX,scaleY:_.scaleY}:ie()({id:O},_)}function L4(O){var _=function N4(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var P4=function(O){kt(l,O);var _=L4(l);function l(f){var c;return ee(this,l),(c=_.call(this,Ue.RESIZE,f))._dimensions=null,c._originalDimensions=null,c}return ge(l,[{key:"getCurrentDimensions",value:function(){var c=this.getCanvasImage();return!this._dimensions&&c&&(this._dimensions={width:c.width,height:c.height}),this._dimensions}},{key:"getOriginalDimensions",value:function(){return this._originalDimensions}},{key:"setOriginalDimensions",value:function(c){this._originalDimensions=c}},{key:"resize",value:function(c){var p=this.getCanvasImage(),L=p.scaleX,k=p.scaleY,Y=c.width,X=c.height,pe={scaleX:Y?Y/p.width:L,scaleY:X?X/p.height:k};return(L!==pe.scaleX||k!==pe.scaleY)&&(p.set(pe).setCoords(),this._dimensions={width:p.width*p.scaleX,height:p.height*p.scaleY}),this.adjustCanvasDimensionBase(),Ae().resolve()}},{key:"start",value:function(){var c=this.getCurrentDimensions();this.setOriginalDimensions(c)}},{key:"end",value:function(){}}]),l}(Si);function F4(O){var _=function R4(){if(typeof Reflect>"u"||!Fe()||Fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fe()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,f=ut(O);if(_){var p=ut(this).constructor;c=Fe()(f,arguments,p)}else c=f.apply(this,arguments);return Et(this,c)}}var V4=function(O){kt(l,O);var _=F4(l);function l(){return ee(this,l),_.call(this,Tt.RESIZE)}return ge(l,[{key:"start",value:function(c){c.getComponent(Ue.RESIZE).start()}},{key:"end",value:function(c){c.getComponent(Ue.RESIZE).end()}}]),l}(Ui),j4=1e3,ls=800,hs={cssOnly:!0},Y4={backstoreOnly:!0},us=function(){function O(_){var l,f,c,p,w,E,L,k,Y,X,pe,ve=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},we=ve.cssMaxWidth,ze=ve.cssMaxHeight;ee(this,O),this.canvasImage=null,this.cssMaxWidth=we||j4,this.cssMaxHeight=ze||ls,this.cropSelectionStyle={},this.targetObjectForCopyPaste=null,this.imageName="",this._objects={},this._canvas=null,this._drawingMode=Tt.NORMAL,this._drawingModeMap={},this._componentMap={},this._handler={onMouseDown:le()(l=this._onMouseDown).call(l,this),onObjectAdded:le()(f=this._onObjectAdded).call(f,this),onObjectRemoved:le()(c=this._onObjectRemoved).call(c,this),onObjectMoved:le()(p=this._onObjectMoved).call(p,this),onObjectScaled:le()(w=this._onObjectScaled).call(w,this),onObjectModified:le()(E=this._onObjectModified).call(E,this),onObjectRotated:le()(L=this._onObjectRotated).call(L,this),onObjectSelected:le()(k=this._onObjectSelected).call(k,this),onPathCreated:le()(Y=this._onPathCreated).call(Y,this),onSelectionCleared:le()(X=this._onSelectionCleared).call(X,this),onSelectionCreated:le()(pe=this._onSelectionCreated).call(pe,this)},this._setObjectCachingToFalse(),this._setCanvasElement(_),this._createDrawingModeInstances(),this._createComponents(),this._attachCanvasEvents(),this._attachZoomEvents()}return ge(O,[{key:"destroy",value:function(){var l=this._canvas.wrapperEl;this._canvas.clear(),l.parentNode.removeChild(l),this._detachZoomEvents()}},{key:"_attachZoomEvents",value:function(){this.getComponent(Ue.ZOOM).attachKeyboardZoomEvents()}},{key:"_detachZoomEvents",value:function(){this.getComponent(Ue.ZOOM).detachKeyboardZoomEvents()}},{key:"deactivateAll",value:function(){return this._canvas.discardActiveObject(),this}},{key:"renderAll",value:function(){return this._canvas.renderAll(),this}},{key:"add",value:function(l){var f,c=[];La()(l)?c=l:c.push(l),(f=this._canvas).add.apply(f,V(c))}},{key:"contains",value:function(l){return this._canvas.contains(l)}},{key:"getObjects",value:function(){var l;return b()(l=this._canvas.getObjects()).call(l)}},{key:"getObject",value:function(l){return this._objects[l]}},{key:"remove",value:function(l){this._canvas.remove(l)}},{key:"removeAll",value:function(l){var f,c=this._canvas,p=b()(f=c.getObjects()).call(f);return c.remove.apply(c,V(this._canvas.getObjects())),l&&c.clear(),p}},{key:"removeObjectById",value:function(l){var f=[],c=this._canvas,p=this.getObject(l);return p&&p.isType("group")&&!p.isEmpty()?(c.discardActiveObject(),p.forEachObject(function(E){f.push(E),c.remove(E)})):c.contains(p)&&(f.push(p),c.remove(p)),f}},{key:"getObjectId",value:function(l){var f=null;for(f in this._objects)if(this._objects.hasOwnProperty(f)&&l===this._objects[f])return f;return null}},{key:"getActiveObject",value:function(){return this._canvas._activeObject}},{key:"getActiveObjectIdForRemove",value:function(){var l=this.getActiveObject(),c=l.left,p=l.top;if("activeSelection"===l.type){var E=new fe.fabric.Group(V(l.getObjects()),{left:c,top:p});return this._addFabricObject(E)}return this.getObjectId(l)}},{key:"isReadyRemoveObject",value:function(){var l=this.getActiveObject();return l&&!l.isEditing}},{key:"getActiveObjects",value:function(){var l=this._canvas._activeObject;return l&&"activeSelection"===l.type?l:null}},{key:"getActiveSelectionFromObjects",value:function(l){var f=this.getCanvas();return new fe.fabric.ActiveSelection(l,{canvas:f})}},{key:"setActiveObject",value:function(l){this._canvas.setActiveObject(l)}},{key:"setCropSelectionStyle",value:function(l){this.cropSelectionStyle=l}},{key:"getComponent",value:function(l){return this._componentMap[l]}},{key:"getDrawingMode",value:function(){return this._drawingMode}},{key:"startDrawingMode",value:function(l,f){if(this._isSameDrawingMode(l))return!0;this.stopDrawingMode();var c=this._getDrawingModeInstance(l);return c&&c.start&&(c.start(this,f),this._drawingMode=l),!!c}},{key:"stopDrawingMode",value:function(){if(!this._isSameDrawingMode(Tt.NORMAL)){var l=this._getDrawingModeInstance(this.getDrawingMode());l&&l.end&&l.end(this),this._drawingMode=Tt.NORMAL}}},{key:"zoom",value:function(l,f){var c=l.x,p=l.y;this.getComponent(Ue.ZOOM).zoom({x:c,y:p},f)}},{key:"getZoomMode",value:function(){return this.getComponent(Ue.ZOOM).mode}},{key:"startZoomInMode",value:function(){this.getComponent(Ue.ZOOM).startZoomInMode()}},{key:"endZoomInMode",value:function(){this.getComponent(Ue.ZOOM).endZoomInMode()}},{key:"zoomOut",value:function(){this.getComponent(Ue.ZOOM).zoomOut()}},{key:"startHandMode",value:function(){this.getComponent(Ue.ZOOM).startHandMode()}},{key:"endHandMode",value:function(){this.getComponent(Ue.ZOOM).endHandMode()}},{key:"resetZoom",value:function(){this.getComponent(Ue.ZOOM).resetZoom()}},{key:"toDataURL",value:function(l){var f=this.getComponent(Ue.CROPPER);f.changeVisibility(!1);var c=this._canvas&&this._canvas.toDataURL(l);return f.changeVisibility(!0),c}},{key:"setCanvasImage",value:function(l,f){f&&$e(f),this.imageName=l,this.canvasImage=f}},{key:"setCssMaxDimension",value:function(l){this.cssMaxWidth=l.width||this.cssMaxWidth,this.cssMaxHeight=l.height||this.cssMaxHeight}},{key:"adjustCanvasDimension",value:function(){this.adjustCanvasDimensionBase(this.canvasImage.scale(1))}},{key:"adjustCanvasDimensionBase",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;l||(l=this.canvasImage);var f=l.getBoundingRect(),c=f.width,p=f.height,w=this._calcMaxDimension(c,p);this.setCanvasCssDimension({width:"100%",height:"100%","max-width":"".concat(w.width,"px"),"max-height":"".concat(w.height,"px")}),this.setCanvasBackstoreDimension({width:c,height:p}),this._canvas.centerObject(l)}},{key:"setCanvasCssDimension",value:function(l){this._canvas.setDimensions(l,hs)}},{key:"setCanvasBackstoreDimension",value:function(l){this._canvas.setDimensions(l,Y4)}},{key:"setImageProperties",value:function(l,f){var c=this.canvasImage;c&&(c.set(l).setCoords(),f&&this._canvas.renderAll())}},{key:"getCanvasElement",value:function(){return this._canvas.getElement()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getCanvasImage",value:function(){return this.canvasImage}},{key:"getImageName",value:function(){return this.imageName}},{key:"addImageObject",value:function(l){var f,c=this,p=le()(f=this._callbackAfterLoadingImageObject).call(f,this);return new(Ae())(function(w){fe.fabric.Image.fromURL(l,function(E){p(E),w(c.createObjectProperties(E))},{crossOrigin:"Anonymous"})})}},{key:"getCenter",value:function(){return this._canvas.getCenter()}},{key:"getCropzoneRect",value:function(){return this.getComponent(Ue.CROPPER).getCropzoneRect()}},{key:"setCropzoneRect",value:function(l){this.getComponent(Ue.CROPPER).setCropzoneRect(l)}},{key:"getCroppedImageData",value:function(l){return this.getComponent(Ue.CROPPER).getCroppedImageData(l)}},{key:"setBrush",value:function(l){var c=Ue.FREE_DRAWING;this._drawingMode===Tt.LINE_DRAWING&&(c=Ue.LINE),this.getComponent(c).setBrush(l)}},{key:"setDrawingShape",value:function(l,f){this.getComponent(Ue.SHAPE).setStates(l,f)}},{key:"setIconStyle",value:function(l,f){this.getComponent(Ue.ICON).setStates(l,f)}},{key:"registerPaths",value:function(l){this.getComponent(Ue.ICON).registerPaths(l)}},{key:"changeCursor",value:function(l){var f=this.getCanvas();f.defaultCursor=l,f.renderAll()}},{key:"hasFilter",value:function(l){return this.getComponent(Ue.FILTER).hasFilter(l)}},{key:"setSelectionStyle",value:function(l){ie()(ci_SELECTION_STYLE,l)}},{key:"setObjectProperties",value:function(l,f){var c=this.getObject(l),p=ie()({},f);return c.set(p),c.setCoords(),this.getCanvas().renderAll(),p}},{key:"getObjectProperties",value:function(l,f){var c=this.getObject(l),p={};return Ne()(f)?p[f]=c[f]:La()(f)?fn()(f,function(w){p[w]=c[w]}):so()(f,function(w,E){p[E]=c[E]}),p}},{key:"getObjectPosition",value:function(l,f,c){var p=this.getObject(l);return p?p.getPointByOrigin(f,c):null}},{key:"setObjectPosition",value:function(l,f){var c=this.getObject(l),p=f.x,w=f.y;if(!c)return!1;var k=c.getPointByOrigin(f.originX,f.originY),Y=c.getPointByOrigin("center","center");return c.set({left:p+(Y.x-k.x),top:w+(Y.y-k.y)}),c.setCoords(),!0}},{key:"getCanvasSize",value:function(){var l=this.getCanvasImage();return{width:l?l.width:0,height:l?l.height:0}}},{key:"createStaticCanvas",value:function(){var l=new fe.fabric.StaticCanvas;return l.set({enableRetinaScaling:!1}),l}},{key:"_getDrawingModeInstance",value:function(l){return this._drawingModeMap[l]}},{key:"_setObjectCachingToFalse",value:function(){fe.fabric.Object.prototype.objectCaching=!1}},{key:"_setCanvasElement",value:function(l){var f,c;"CANVAS"!==(f=l.nodeType?l:document.querySelector(l)).nodeName.toUpperCase()&&(c=document.createElement("canvas"),f.appendChild(c)),this._canvas=new fe.fabric.Canvas(c,{containerClass:"tui-image-editor-canvas-container",enableRetinaScaling:!1})}},{key:"_createDrawingModeInstances",value:function(){this._register(this._drawingModeMap,new c4),this._register(this._drawingModeMap,new d4),this._register(this._drawingModeMap,new v4),this._register(this._drawingModeMap,new C4),this._register(this._drawingModeMap,new M4),this._register(this._drawingModeMap,new I4),this._register(this._drawingModeMap,new D4),this._register(this._drawingModeMap,new V4)}},{key:"_createComponents",value:function(){this._register(this._componentMap,new I1(this)),this._register(this._componentMap,new G1(this)),this._register(this._componentMap,new Q1(this)),this._register(this._componentMap,new q1(this)),this._register(this._componentMap,new nl(this)),this._register(this._componentMap,new hl(this)),this._register(this._componentMap,new gl(this)),this._register(this._componentMap,new _l(this)),this._register(this._componentMap,new Il(this)),this._register(this._componentMap,new Ql(this)),this._register(this._componentMap,new o4(this)),this._register(this._componentMap,new P4(this))}},{key:"_register",value:function(l,f){l[f.getName()]=f}},{key:"_isSameDrawingMode",value:function(l){return this.getDrawingMode()===l}},{key:"_calcMaxDimension",value:function(l,f){var c=this.cssMaxWidth/l,p=this.cssMaxHeight/f,w=Math.min(l,this.cssMaxWidth),E=Math.min(f,this.cssMaxHeight);return c<1&&c<p?(w=l*c,E=f*c):p<1&&p<c&&(w=l*p,E=f*p),{width:Math.floor(w),height:Math.floor(E)}}},{key:"_callbackAfterLoadingImageObject",value:function(l){var f=this.getCanvasImage().getCenterPoint();l.set(ci_SELECTION_STYLE),l.set({left:f.x,top:f.y,crossOrigin:"Anonymous"}),this.getCanvas().add(l).setActiveObject(l)}},{key:"_attachCanvasEvents",value:function(){var f=this._handler;this._canvas.on({"mouse:down":f.onMouseDown,"object:added":f.onObjectAdded,"object:removed":f.onObjectRemoved,"object:moving":f.onObjectMoved,"object:scaling":f.onObjectScaled,"object:modified":f.onObjectModified,"object:rotating":f.onObjectRotated,"path:created":f.onPathCreated,"selection:cleared":f.onSelectionCleared,"selection:created":f.onSelectionCreated,"selection:updated":f.onObjectSelected})}},{key:"_onMouseDown",value:function(l){var f=this,c=l.e,p=l.target,w=this._canvas.getPointer(c);if(p){var E=p.type;cs(uo(p,function(k){return vr(f.getObjectId(k),k,"activeSelection"===E)}))}this.fire(He.MOUSE_DOWN,c,w)}},{key:"_onObjectAdded",value:function(l){var f=l.target;f.isType("cropzone")||this._addFabricObject(f)}},{key:"_onObjectRemoved",value:function(l){this._removeFabricObject($e(l.target))}},{key:"_onObjectMoved",value:function(l){var f=this;this._lazyFire(He.OBJECT_MOVED,function(c){return f.createObjectProperties(c)},l.target)}},{key:"_onObjectScaled",value:function(l){var f=this;this._lazyFire(He.OBJECT_SCALED,function(c){return f.createObjectProperties(c)},l.target)}},{key:"_onObjectModified",value:function(l){var f=l.target;if("activeSelection"===f.type){var c=f.getObjects();at()(c).call(c,function(p){return p.fire("modifiedInGroup",f)})}this.fire(He.OBJECT_MODIFIED,f,this.getObjectId(f))}},{key:"_onObjectRotated",value:function(l){var f=this;this._lazyFire(He.OBJECT_ROTATED,function(c){return f.createObjectProperties(c)},l.target)}},{key:"_lazyFire",value:function(l,f,c){var p=this,E=c&&c.canvasEventDelegation?c.canvasEventDelegation(l):"none";"unregistered"===E&&c.canvasEventRegister(l,function(L){p.fire(l,f(L))}),"none"===E&&this.fire(l,f(c))}},{key:"_onObjectSelected",value:function(l){var c=this.createObjectProperties(l.target);this.fire(He.OBJECT_ACTIVATED,c)}},{key:"_onPathCreated",value:function(l){var f=l.path.getCenterPoint(),c=f.x,p=f.y;l.path.set(ie()({left:c,top:p},ci_SELECTION_STYLE));var w=this.createObjectProperties(l.path);this.fire(He.ADD_OBJECT,w)}},{key:"_onSelectionCleared",value:function(){this.fire(He.SELECTION_CLEARED)}},{key:"_onSelectionCreated",value:function(l){var c=this.createObjectProperties(l.target);this.fire(He.OBJECT_ACTIVATED,c),this.fire(He.SELECTION_CREATED,l.target)}},{key:"discardSelection",value:function(){this._canvas.discardActiveObject(),this._canvas.renderAll()}},{key:"changeSelectableAll",value:function(l){this._canvas.forEachObject(function(f){f.selectable=l,f.hoverCursor=l?"move":"crosshair"})}},{key:"createObjectProperties",value:function(l){var c={id:$e(l),type:l.type};if(ie()(c,ni(l,["left","top","width","height","fill","stroke","strokeWidth","opacity","angle"])),Mn(["i-text","text"],l.type))ie()(c,this._createTextProperties(l,c));else if(Mn(["rect","triangle","circle"],l.type)){var p=this.getComponent(Ue.SHAPE);ie()(c,{fill:p.makeFillPropertyForUserEvent(l)})}return c}},{key:"_createTextProperties",value:function(l){var c={};return ie()(c,ni(l,["text","fontFamily","fontSize","fontStyle","textAlign","textDecoration","fontWeight"])),c}},{key:"_addFabricObject",value:function(l){var f=$e(l);return this._objects[f]=l,f}},{key:"_removeFabricObject",value:function(l){delete this._objects[l]}},{key:"resetTargetObjectForCopyPaste",value:function(){var l=this.getActiveObject();l&&(this.targetObjectForCopyPaste=l)}},{key:"pasteObject",value:function(){var l=this;if(!this.targetObjectForCopyPaste)return Ae().resolve([]);var f=this.targetObjectForCopyPaste,p="activeSelection"===f.type?f.getObjects():[f],w=null;return this.discardSelection(),this._cloneObject(p).then(function(E){if(E.length>1)w=l.getActiveSelectionFromObjects(E);else{var L=ye(E,1);w=L[0]}l.targetObjectForCopyPaste=w,l.setActiveObject(w)})}},{key:"_cloneObject",value:function(l){var f=this,c=hi()(l).call(l,function(p){return f._cloneObjectItem(p)});return Ae().all(c)}},{key:"_cloneObjectItem",value:function(l){var f=this;return this._copyFabricObjectForPaste(l).then(function(c){var p=f.createObjectProperties(c);return f.add(c),f.fire(He.ADD_OBJECT,p),c})}},{key:"_copyFabricObjectForPaste",value:function(l){var f=this,c=function(w,E){return E?w-10:w+10};return this._copyFabricObject(l).then(function(p){var w=p.left,E=p.top,L=p.width,k=p.height,Y=f.getCanvasSize(),X=Y.width,pe=Y.height,ve=w+L/2,we=E+k/2;return p.set(ie()({left:c(w,ve+10>X),top:c(E,we+10>pe)},ci_SELECTION_STYLE)),p})}},{key:"_copyFabricObject",value:function(l){var f=this;return new(Ae())(function(c){l.clone(function(p){var w=f.getComponent(Ue.SHAPE);Sn(p)&&w.processForCopiedObject(p,l),c(p)})})}},{key:"getCurrentDimensions",value:function(){return this.getComponent(Ue.RESIZE).getCurrentDimensions()}},{key:"getOriginalDimensions",value:function(){return this.getComponent(Ue.RESIZE).getOriginalDimensions()}},{key:"setOriginalDimensions",value:function(l){this.getComponent(Ue.RESIZE).setOriginalDimensions(l)}},{key:"resize",value:function(l){return this.getComponent(Ue.RESIZE).resize(l)}}]),O}();Te().mixin(us);var ds=us,U4=He.MOUSE_DOWN,G4=He.OBJECT_MOVED,W4=He.OBJECT_SCALED,Z4=He.OBJECT_ACTIVATED,X4=He.OBJECT_ROTATED,fs=He.OBJECT_ADDED,Q4=He.OBJECT_MODIFIED,J4=He.ADD_TEXT,$4=He.ADD_OBJECT,K4=He.TEXT_EDITING,q4=He.TEXT_CHANGED,e2=He.ICON_CREATE_RESIZE,t2=He.ICON_CREATE_END,ps=He.SELECTION_CLEARED,gs=He.SELECTION_CREATED,n2=He.ADD_OBJECT_AFTER,po=function(){function O(_,l){var f,c,p,w,E,L,k,Y,X,pe,ve,we,ze,Se,Ze,ft;if(ee(this,O),l=ie()({includeUI:!1,usageStatistics:!0},l),this.mode=null,this.activeObjectId=null,l.includeUI){var pt=l.includeUI;pt.usageStatistics=l.usageStatistics,this.ui=new _1(_,pt,this.getActions()),l=this.ui.setUiDefaultSelectionStyle(l)}this._invoker=new Jo,this._graphics=new ds(this.ui?this.ui.getEditorArea():_,{cssMaxWidth:l.cssMaxWidth,cssMaxHeight:l.cssMaxHeight}),this._handlers={keydown:le()(f=this._onKeyDown).call(f,this),mousedown:le()(c=this._onMouseDown).call(c,this),objectActivated:le()(p=this._onObjectActivated).call(p,this),objectMoved:le()(w=this._onObjectMoved).call(w,this),objectScaled:le()(E=this._onObjectScaled).call(E,this),objectRotated:le()(L=this._onObjectRotated).call(L,this),objectAdded:le()(k=this._onObjectAdded).call(k,this),objectModified:le()(Y=this._onObjectModified).call(Y,this),createdPath:this._onCreatedPath,addText:le()(X=this._onAddText).call(X,this),addObject:le()(pe=this._onAddObject).call(pe,this),textEditing:le()(ve=this._onTextEditing).call(ve,this),textChanged:le()(we=this._onTextChanged).call(we,this),iconCreateResize:le()(ze=this._onIconCreateResize).call(ze,this),iconCreateEnd:le()(Se=this._onIconCreateEnd).call(Se,this),selectionCleared:le()(Ze=this._selectionCleared).call(Ze,this),selectionCreated:le()(ft=this._selectionCreated).call(ft,this)},this._attachInvokerEvents(),this._attachGraphicsEvents(),this._attachDomEvents(),this._setSelectionStyle(l.selectionStyle,{applyCropSelectionStyle:l.applyCropSelectionStyle,applyGroupSelectionStyle:l.applyGroupSelectionStyle}),l.usageStatistics&&function ji(){We||(We=!0,ht()("image-editor","UA-129999381-1"))}(),this.ui&&(this.ui.initCanvas(),this.setReAction(),this._attachColorPickerInputBoxEvents()),fe.fabric.enableGLFiltering=!1}return ge(O,[{key:"_attachColorPickerInputBoxEvents",value:function(){var l=this;this.ui.on(He.INPUT_BOX_EDITING_STARTED,function(){l.isColorPickerInputBoxEditing=!0}),this.ui.on(He.INPUT_BOX_EDITING_STOPPED,function(){l.isColorPickerInputBoxEditing=!1})}},{key:"_detachColorPickerInputBoxEvents",value:function(){this.ui.off(He.INPUT_BOX_EDITING_STARTED),this.ui.off(He.INPUT_BOX_EDITING_STOPPED)}},{key:"_setSelectionStyle",value:function(l,f){var c=f.applyCropSelectionStyle,p=f.applyGroupSelectionStyle;l&&this._graphics.setSelectionStyle(l),c&&this._graphics.setCropSelectionStyle(l),p&&this.on("selectionCreated",function(w){"activeSelection"===w.type&&w.set(l)})}},{key:"_attachInvokerEvents",value:function(){var l,f,c=this,p=He.UNDO_STACK_CHANGED,w=He.REDO_STACK_CHANGED,E=He.EXECUTE_COMMAND,L=He.AFTER_UNDO,k=He.AFTER_REDO,Y=He.HAND_STARTED,X=He.HAND_STOPPED;if(this._invoker.on(p,le()(l=this.fire).call(l,this,p)),this._invoker.on(w,le()(f=this.fire).call(f,this,w)),this.ui){var pe=this._graphics.getCanvas();this._invoker.on(E,function(ve){return c.ui.fire(E,ve)}),this._invoker.on(L,function(ve){return c.ui.fire(L,ve)}),this._invoker.on(k,function(ve){return c.ui.fire(k,ve)}),pe.on(Y,function(){return c.ui.fire(Y)}),pe.on(X,function(){return c.ui.fire(X)})}}},{key:"_attachGraphicsEvents",value:function(){var l;this._graphics.on((W(l={},U4,this._handlers.mousedown),W(l,G4,this._handlers.objectMoved),W(l,W4,this._handlers.objectScaled),W(l,X4,this._handlers.objectRotated),W(l,Z4,this._handlers.objectActivated),W(l,fs,this._handlers.objectAdded),W(l,Q4,this._handlers.objectModified),W(l,J4,this._handlers.addText),W(l,$4,this._handlers.addObject),W(l,K4,this._handlers.textEditing),W(l,q4,this._handlers.textChanged),W(l,e2,this._handlers.iconCreateResize),W(l,t2,this._handlers.iconCreateEnd),W(l,ps,this._handlers.selectionCleared),W(l,gs,this._handlers.selectionCreated),l))}},{key:"_attachDomEvents",value:function(){document.addEventListener("keydown",this._handlers.keydown)}},{key:"_detachDomEvents",value:function(){document.removeEventListener("keydown",this._handlers.keydown)}},{key:"_onKeyDown",value:function(l){var c=l.keyCode;(l.ctrlKey||l.metaKey)&&(c===Vt_C?this._graphics.resetTargetObjectForCopyPaste():c===Vt_V?(this._graphics.pasteObject(),this.clearRedoStack()):c===Vt_Z?this.undo().catch(function(){}):c===Vt_Y&&this.redo().catch(function(){}));var E=c===Vt_BACKSPACE||c===Vt_DEL,L=this._graphics.isReadyRemoveObject();!this.isColorPickerInputBoxEditing&&L&&E&&(l.preventDefault(),this.removeActiveObject())}},{key:"removeActiveObject",value:function(){var l=this._graphics.getActiveObjectIdForRemove();this.removeObject(l)}},{key:"_onMouseDown",value:function(l,f){this.fire(He.MOUSE_DOWN,l,f)}},{key:"_pushAddObjectCommand",value:function(l){var f=Rt.create(lt.ADD_OBJECT,this._graphics,l);this._invoker.pushUndoStack(f)}},{key:"_pushModifyObjectCommand",value:function(l){var f=this,c=l.type,p=uo(l,function(E){return vr(f._graphics.getObjectId(E),E,"activeSelection"===c)}),w=Rt.create(lt.CHANGE_SELECTION,this._graphics,p);w.execute(this._graphics,p),this._invoker.pushUndoStack(w)}},{key:"_onObjectActivated",value:function(l){this.fire(He.OBJECT_ACTIVATED,l)}},{key:"_onObjectMoved",value:function(l){this.fire(He.OBJECT_MOVED,l)}},{key:"_onObjectScaled",value:function(l){this.fire(He.OBJECT_SCALED,l)}},{key:"_onObjectRotated",value:function(l){this.fire(He.OBJECT_ROTATED,l)}},{key:"getDrawingMode",value:function(){return this._graphics.getDrawingMode()}},{key:"clearObjects",value:function(){return this.execute(lt.CLEAR_OBJECTS)}},{key:"deactivateAll",value:function(){this._graphics.deactivateAll(),this._graphics.renderAll()}},{key:"discardSelection",value:function(){this._graphics.discardSelection()}},{key:"changeSelectableAll",value:function(l){this._graphics.changeSelectableAll(l)}},{key:"_initHistory",value:function(){this.ui&&this.ui.initHistory()}},{key:"_clearHistory",value:function(){this.ui&&this.ui.clearHistory()}},{key:"execute",value:function(l){for(var f,c,p,w=arguments.length,E=new Array(w>1?w-1:0),L=1;L<w;L++)E[L-1]=arguments[L];var k=$()(f=[this._graphics]).call(f,E);return(c=this._invoker).execute.apply(c,$()(p=[l]).call(p,V(k)))}},{key:"executeSilent",value:function(l){for(var f,c,p,w=arguments.length,E=new Array(w>1?w-1:0),L=1;L<w;L++)E[L-1]=arguments[L];var k=$()(f=[this._graphics]).call(f,E);return(c=this._invoker).executeSilent.apply(c,$()(p=[l]).call(p,V(k)))}},{key:"undo",value:function(){for(var l=this,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c=Ae().resolve(),p=0;p<f;p+=1)c=c.then(function(){return l._invoker.undo()});return c}},{key:"redo",value:function(){for(var l=this,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c=Ae().resolve(),p=0;p<f;p+=1)c=c.then(function(){return l._invoker.redo()});return c}},{key:"zoom",value:function(l){this._graphics.zoom({x:l.x,y:l.y},l.zoomLevel)}},{key:"resetZoom",value:function(){this._graphics.resetZoom()}},{key:"loadImageFromFile",value:function(l,f){if(!l)return Ae().reject(Dt.invalidParameters);var c=he().createObjectURL(l);return this.loadImageFromURL(c,f=f||l.name).then(function(p){return he().revokeObjectURL(l),p})}},{key:"loadImageFromURL",value:function(l,f){return f&&l?this.execute(lt.LOAD_IMAGE,f,l):Ae().reject(Dt.invalidParameters)}},{key:"addImageObject",value:function(l){return l?this.execute(lt.ADD_IMAGE_OBJECT,l):Ae().reject(Dt.invalidParameters)}},{key:"startDrawingMode",value:function(l,f){return this._graphics.startDrawingMode(l,f)}},{key:"stopDrawingMode",value:function(){this._graphics.stopDrawingMode()}},{key:"crop",value:function(l){var f=this._graphics.getCroppedImageData(l);return f?this.loadImageFromURL(f.url,f.imageName):Ae().reject(Dt.invalidParameters)}},{key:"getCropzoneRect",value:function(){return this._graphics.getCropzoneRect()}},{key:"setCropzoneRect",value:function(l){this._graphics.setCropzoneRect(l)}},{key:"_flip",value:function(l){return this.execute(lt.FLIP_IMAGE,l)}},{key:"flipX",value:function(){return this._flip("flipX")}},{key:"flipY",value:function(){return this._flip("flipY")}},{key:"resetFlip",value:function(){return this._flip("reset")}},{key:"_rotate",value:function(l,f,c){return c?this.executeSilent(lt.ROTATE_IMAGE,l,f):this.execute(lt.ROTATE_IMAGE,l,f)}},{key:"rotate",value:function(l,f){return this._rotate("rotate",l,f)}},{key:"setAngle",value:function(l,f){return this._rotate("setAngle",l,f)}},{key:"setBrush",value:function(l){this._graphics.setBrush(l)}},{key:"setDrawingShape",value:function(l,f){this._graphics.setDrawingShape(l,f)}},{key:"setDrawingIcon",value:function(l,f){this._graphics.setIconStyle(l,f)}},{key:"addShape",value:function(l,f){return this._setPositions(f=f||{}),this.execute(lt.ADD_SHAPE,l,f)}},{key:"changeShape",value:function(l,f,c){return this[c?"executeSilent":"execute"](lt.CHANGE_SHAPE,l,f)}},{key:"addText",value:function(l,f){return this.execute(lt.ADD_TEXT,l=l||"",f=f||{})}},{key:"changeText",value:function(l,f){return this.execute(lt.CHANGE_TEXT,l,f=f||"")}},{key:"changeTextStyle",value:function(l,f,c){return this[c?"executeSilent":"execute"](lt.CHANGE_TEXT_STYLE,l,f)}},{key:"_changeActivateMode",value:function(l){"ICON"!==l&&this.getDrawingMode()!==l&&this.startDrawingMode(l)}},{key:"_onTextChanged",value:function(l){this.fire(He.TEXT_CHANGED,l)}},{key:"_onIconCreateResize",value:function(l){this.fire(He.ICON_CREATE_RESIZE,l)}},{key:"_onIconCreateEnd",value:function(l){this.fire(He.ICON_CREATE_END,l)}},{key:"_onTextEditing",value:function(){this.fire(He.TEXT_EDITING)}},{key:"_onAddText",value:function(l){this.fire(He.ADD_TEXT,{originPosition:l.originPosition,clientPosition:l.clientPosition})}},{key:"_onAddObject",value:function(l){var f=this._graphics.getObject(l.id);this._invoker.fire(He.EXECUTE_COMMAND,wn(f.type)),this._pushAddObjectCommand(f)}},{key:"_onObjectAdded",value:function(l){this.fire(fs,l),this.fire(n2,l)}},{key:"_onObjectModified",value:function(l){l.type!==nt_CROPZONE&&(this._invoker.fire(He.EXECUTE_COMMAND,wn(l.type)),this._pushModifyObjectCommand(l))}},{key:"_selectionCleared",value:function(){this.fire(ps)}},{key:"_selectionCreated",value:function(l){this.fire(gs,l)}},{key:"registerIcons",value:function(l){this._graphics.registerPaths(l)}},{key:"changeCursor",value:function(l){this._graphics.changeCursor(l)}},{key:"addIcon",value:function(l,f){return this._setPositions(f=f||{}),this.execute(lt.ADD_ICON,l,f)}},{key:"changeIconColor",value:function(l,f){return this.execute(lt.CHANGE_ICON_COLOR,l,f)}},{key:"removeObject",value:function(l){var f=this._graphics.getObject(l);return this.execute(lt.REMOVE_OBJECT,l,wn(f.type))}},{key:"hasFilter",value:function(l){return this._graphics.hasFilter(l)}},{key:"removeFilter",value:function(l){return this.execute(lt.REMOVE_FILTER,l)}},{key:"applyFilter",value:function(l,f,c){return this[c?"executeSilent":"execute"](lt.APPLY_FILTER,l,f)}},{key:"toDataURL",value:function(l){return this._graphics.toDataURL(l)}},{key:"getImageName",value:function(){return this._graphics.getImageName()}},{key:"clearUndoStack",value:function(){this._invoker.clearUndoStack()}},{key:"clearRedoStack",value:function(){this._invoker.clearRedoStack()}},{key:"isEmptyUndoStack",value:function(){return this._invoker.isEmptyUndoStack()}},{key:"isEmptyRedoStack",value:function(){return this._invoker.isEmptyRedoStack()}},{key:"resizeCanvasDimension",value:function(l){return l?this.execute(lt.RESIZE_CANVAS_DIMENSION,l):Ae().reject(Dt.invalidParameters)}},{key:"destroy",value:function(){var l=this;this.stopDrawingMode(),this._detachDomEvents(),this._graphics.destroy(),this._graphics=null,this.ui&&(this._detachColorPickerInputBoxEvents(),this.ui.destroy()),ne()(this,function(f,c){l[c]=null},this)}},{key:"_setPositions",value:function(l){var f=this._graphics.getCenter();K()(l.left)&&(l.left=f.left),K()(l.top)&&(l.top=f.top)}},{key:"setObjectProperties",value:function(l,f){return this.execute(lt.SET_OBJECT_PROPERTIES,l,f)}},{key:"setObjectPropertiesQuietly",value:function(l,f){this._graphics.setObjectProperties(l,f)}},{key:"getObjectProperties",value:function(l,f){return this._graphics.getObject(l)?this._graphics.getObjectProperties(l,f):null}},{key:"getCanvasSize",value:function(){return this._graphics.getCanvasSize()}},{key:"getObjectPosition",value:function(l,f,c){return this._graphics.getObjectPosition(l,f,c)}},{key:"setObjectPosition",value:function(l,f){return this.execute(lt.SET_OBJECT_POSITION,l,f)}},{key:"resize",value:function(l){return this.execute(lt.RESIZE_IMAGE,l)}}]),O}();z1.mixin(po),Te().mixin(po);var o2=po,r2=Ue.ICON;Rt.register({name:lt.ADD_ICON,execute:function(_,l,f){var c=this;return _.getComponent(r2).add(l,f).then(function(w){return c.undoData.object=_.getObject(w.id),w})},undo:function(_){return _.remove(this.undoData.object),Ae().resolve()}}),Rt.register({name:lt.ADD_IMAGE_OBJECT,execute:function(_,l){var f=this;return _.addImageObject(l).then(function(c){return f.undoData.object=_.getObject(c.id),c})},undo:function(_){return _.remove(this.undoData.object),Ae().resolve()}}),Rt.register({name:lt.ADD_OBJECT,execute:function(_,l){return new(Ae())(function(f,c){_.contains(l)?c(Dt.addedObject):(_.add(l),f(l))})},undo:function(_,l){return new(Ae())(function(f,c){_.contains(l)?(_.remove(l),f(l)):c(Dt.noObject)})}});var vs=Ue.SHAPE;Rt.register({name:lt.ADD_SHAPE,execute:function(_,l,f){var c=this;return _.getComponent(vs).add(l,f).then(function(w){return c.undoData.object=_.getObject(w.id),w})},undo:function(_){return _.remove(this.undoData.object),Ae().resolve()}});var h2=Ue.TEXT;Rt.register({name:lt.ADD_TEXT,execute:function(_,l,f){var c=this,p=_.getComponent(h2);if(this.undoData.object){var w=this.undoData.object;return new(Ae())(function(E,L){_.contains(w)?L(Dt.redo):(_.add(w),E(w))})}return p.add(l,f).then(function(E){var L=E.id,k=_.getObject(L);return c.undoData.object=k,cs(uo(k,function(){return vr(L,k,!1)})),E})},undo:function(_){return _.remove(this.undoData.object),Ae().resolve()}});var ms=Ue.FILTER,mr=null;Rt.register({name:lt.APPLY_FILTER,execute:function(_,l,f,c){var p=_.getComponent(ms);if("mask"===l){var w=_.getObject(f.maskObjId);if(!w||!w.isType("image"))return Ae().reject(Dt.invalidParameters);ie()(f,{mask:w}),_.remove(f.mask)}if(!this.isRedo){var L=function d2(O,_,l){var f={};return"mask"===O&&(f.object=l.mask),f.options=_,f}(l,p.getOptions(l),f);mr=this.setUndoData(L,mr,c)}return p.add(l,f)},undo:function(_,l){var f=_.getComponent(ms);if("mask"===l){var c=this.undoData.object;return _.add(c),_.setActiveObject(c),f.remove(l)}return this.undoData.options?f.add(l,this.undoData.options):f.remove(l)}});var ys=Ue.ICON;Rt.register({name:lt.CHANGE_ICON_COLOR,execute:function(_,l,f){var c=this;return new(Ae())(function(p,w){var E=_.getComponent(ys),L=_.getObject(l);L||w(Dt.noObject),c.undoData.object=L,c.undoData.color=E.getColor(L),E.setColor(f,L),p()})},undo:function(_){var l=_.getComponent(ys),f=this.undoData;return l.setColor(f.color,f.object),Ae().resolve()}});var _s=Ue.SHAPE,Cs=null;Rt.register({name:lt.CHANGE_SHAPE,execute:function(_,l,f,c){var p=_.getComponent(_s),w=_.getObject(l);if(!w)return Ae().reject(Dt.noObject);if(!this.isRedo){var E=function v2(O,_){var l={object:_,options:{}};return so()(O,function(f,c){l.options[c]=_[c]}),l}(f,w);Cs=this.setUndoData(E,Cs,c)}return p.change(w,f)},undo:function(_){var l=_.getComponent(_s),f=this.undoData;return l.change(f.object,f.options)}});var zs=Ue.TEXT;Rt.register({name:lt.CHANGE_TEXT,execute:function(_,l,f){var c=_.getComponent(zs),p=_.getObject(l);return p?(this.undoData.object=p,this.undoData.text=c.getText(p),c.change(p,f)):Ae().reject(Dt.noObject)},undo:function(_){var l=_.getComponent(zs),f=this.undoData;return l.change(f.object,f.text)}});var bs=Ue.TEXT,xs=null;Rt.register({name:lt.CHANGE_TEXT_STYLE,execute:function(_,l,f,c){var p=_.getComponent(bs),w=_.getObject(l);if(!w)return Ae().reject(Dt.noObject);if(!this.isRedo){var E=function _2(O,_){var l={object:_,styles:{}};return so()(O,function(f,c){l.styles[c]=_[c]}),l}(f,w);xs=this.setUndoData(E,xs,c)}return p.setStyle(w,f)},undo:function(_){var l=_.getComponent(bs),f=this.undoData;return l.setStyle(f.object,f.styles)}}),Rt.register({name:lt.CLEAR_OBJECTS,execute:function(_){var l=this;return new(Ae())(function(f){l.undoData.objects=_.removeAll(),f()})},undo:function(_){return _.add(this.undoData.objects),Ae().resolve()}});var Ms=Ue.FLIP;Rt.register({name:lt.FLIP_IMAGE,execute:function(_,l){var f=_.getComponent(Ms);return this.undoData.setting=f.getCurrentSetting(),f[l]()},undo:function(_){return _.getComponent(Ms).set(this.undoData.setting)}});var ws=Ue.IMAGE_LOADER;Rt.register({name:lt.LOAD_IMAGE,execute:function(_,l,f){var c,p=_.getComponent(ws),w=p.getCanvasImage(),E=w?w.width:0,L=w?w.height:0,k=pn()(c=_.removeAll(!0)).call(c,function(Y){return"cropzone"!==Y.type});return at()(k).call(k,function(Y){Y.evented=!0}),this.undoData={name:p.getImageName(),image:w,objects:k},p.load(l,f).then(function(Y){return{oldWidth:E,oldHeight:L,newWidth:Y.width,newHeight:Y.height}})},undo:function(_){var l=_.getComponent(ws),f=this.undoData,c=f.objects,p=f.name,w=f.image;return _.removeAll(!0),_.add(c),l.load(p,w)}});var yr=Ue.FILTER;Rt.register({name:lt.REMOVE_FILTER,execute:function(_,l){var f=_.getComponent(yr);return this.undoData.options=f.getOptions(l),f.remove(l)},undo:function(_,l){return _.getComponent(yr).add(l,this.undoData.options)}}),Rt.register({name:lt.REMOVE_OBJECT,execute:function(_,l){var f=this;return new(Ae())(function(c,p){f.undoData.objects=_.removeObjectById(l),f.undoData.objects.length?c():p(Dt.noObject)})},undo:function(_){return _.add(this.undoData.objects),Ae().resolve()}}),Rt.register({name:lt.RESIZE_CANVAS_DIMENSION,execute:function(_,l){var f=this;return new(Ae())(function(c){f.undoData.size={width:_.cssMaxWidth,height:_.cssMaxHeight},_.setCssMaxDimension(l),_.adjustCanvasDimension(),c()})},undo:function(_){return _.setCssMaxDimension(this.undoData.size),_.adjustCanvasDimension(),Ae().resolve()}});var Ts=Ue.ROTATION,_r=null;Rt.register({name:lt.ROTATE_IMAGE,execute:function(_,l,f,c){var p=_.getComponent(Ts);if(!this.isRedo){var w=function w2(O){return{angle:O.getCurrentAngle()}}(p);_r=this.setUndoData(w,_r,c)}return p[l](f)},undo:function(_){var l=_.getComponent(Ts),f=ye(this.args,3),c=f[1],p=f[2];return"setAngle"===c?l[c](this.undoData.angle):l.rotate(-p)}}),Rt.register({name:lt.SET_OBJECT_PROPERTIES,execute:function(_,l,f){var c=this,p=_.getObject(l);return p?(this.undoData.props={},so()(f,function(w,E){c.undoData.props[E]=p[E]}),_.setObjectProperties(l,f),Ae().resolve()):Ae().reject(Dt.noObject)},undo:function(_,l){return _.setObjectProperties(l,this.undoData.props),Ae().resolve()}}),Rt.register({name:lt.SET_OBJECT_POSITION,execute:function(_,l,f){return _.getObject(l)?(this.undoData.objectId=l,this.undoData.props=_.getObjectProperties(l,["left","top"]),_.setObjectPosition(l,f),_.renderAll(),Ae().resolve()):Ae().reject(Dt.noObject)},undo:function(_){var l=this.undoData;return _.setObjectProperties(l.objectId,l.props),_.renderAll(),Ae().resolve()}}),Rt.register({name:lt.CHANGE_SELECTION,execute:function(_,l){return this.isRedo?at()(l).call(l,function(f){_.setObjectProperties(f.id,f)}):this.undoData=function k4(){return ss}(),Ae().resolve()},undo:function(_){var l;return at()(l=this.undoData).call(l,function(f){_.setObjectProperties(f.id,f)}),Ae().resolve()}});var Is=Ue.RESIZE;Rt.register({name:lt.RESIZE_IMAGE,execute:function(_,l){var f=_.getComponent(Is),c=f.getOriginalDimensions();return c||(c=f.getCurrentDimensions()),this.undoData.dimensions=c,f.resize(l)},undo:function(_){return _.getComponent(Is).resize(this.undoData.dimensions)}});var D2=o2}(),Ee.default}())}}]);